// [AIV_SHORT]  Build version: 1.0.0  
 !function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.InfinitumSDK=e():t.InfinitumSDK=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=128)}([function(t,e,n){t.exports=n(129)},function(t,e,n){var r=n(28);function o(t,e,n,o,i,a,s){try{var u=t[a](s),c=u.value}catch(t){return void n(t)}u.done?e(c):r.resolve(c).then(o,i)}t.exports=function(t){return function(){var e=this,n=arguments;return new r(function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,u,"next",t)}function u(t){o(a,r,i,s,u,"throw",t)}s(void 0)})}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){var r=n(51);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(t,o.key,o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}},function(t,e){var n=t.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(t,e,n){t.exports=n(194)},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){var r=n(6),o=n(4),i=n(20),a=n(21),s=n(24),u=function(t,e,n){var c,f,l,h=t&u.F,p=t&u.G,d=t&u.S,v=t&u.P,g=t&u.B,y=t&u.W,m=p?o:o[e]||(o[e]={}),w=m.prototype,b=p?r:d?r[e]:(r[e]||{}).prototype;for(c in p&&(n=e),n)(f=!h&&b&&void 0!==b[c])&&s(m,c)||(l=f?b[c]:n[c],m[c]=p&&"function"!=typeof b[c]?n[c]:g&&f?i(l,r):y&&b[c]==l?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(l):v&&"function"==typeof l?i(Function.call,l):l,v&&((m.virtual||(m.virtual={}))[c]=l,t&u.R&&w&&!w[c]&&a(w,c,l)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e,n){var r=n(159),o=n(99);function i(e){return t.exports=i=o?r:function(t){return t.__proto__||r(t)},i(e)}t.exports=i},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(61)("wks"),o=n(44),i=n(6).Symbol,a="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=a&&i[t]||(a?i:o)("Symbol."+t))}).store=r},function(t,e,n){var r=n(149),o=n(158);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){var r=n(100),o=n(72);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}},function(t,e,n){var r=n(100),o=n(167),i=n(8),a=n(72),s=n(182),u=n(183);function c(e){var n="function"==typeof o?new o:void 0;return t.exports=c=function(t){if(null===t||!s(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,e)}function e(){return u(t,arguments,i(this).constructor)}return e.prototype=r(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a(e,t)},c(e)}t.exports=c},function(t,e,n){var r=n(196),o=n(199),i=n(201),a=n(204);t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},s=i(n);"function"==typeof o&&(s=s.concat(o(n).filter(function(t){return r(n,t).enumerable}))),s.forEach(function(e){a(t,e,n[e])})}return t}},function(t,e,n){"use strict";var r=n(103),o=n(206),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function s(t){return null!==t&&"object"==typeof t}function u(t){return"[object Function]"===i.call(t)}function c(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return e},extend:function(t,e,n){return c(e,function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e}),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){t.exports=n(190)},function(t,e,n){var r=n(18),o=n(82),i=n(58),a=Object.defineProperty;e.f=n(19)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){t.exports=!n(22)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(23);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(17),o=n(42);t.exports=n(19)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(85),o=n(41);t.exports=function(t){return r(o(t))}},function(t,e){var n,r=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];e.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return 4*t+17},e.getSymbolTotalCodewords=function(t){return r[t]},e.getBCHDigit=function(t){for(var e=0;0!==t;)e++,t>>>=1;return e},e.setToSJISFunction=function(t){if("function"!=typeof t)throw new Error('"toSJISFunc" is not a valid function.');n=t},e.isKanjiModeEnabled=function(){return void 0!==n},e.toSJIS=function(t){return n(t)}},function(t,e,n){var r=n(121),o=n(122);e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(t,e){if(!t.ccBits)throw new Error("Invalid mode: "+t);if(!r.isValid(e))throw new Error("Invalid version: "+e);return e>=1&&e<10?t.ccBits[0]:e<27?t.ccBits[1]:t.ccBits[2]},e.getBestModeForData=function(t){return o.testNumeric(t)?e.NUMERIC:o.testAlphanumeric(t)?e.ALPHANUMERIC:o.testKanji(t)?e.KANJI:e.BYTE},e.toString=function(t){if(t&&t.id)return t.id;throw new Error("Invalid mode")},e.isValid=function(t){return t&&t.bit&&t.ccBits},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+t)}}(t)}catch(t){return n}}},function(t,e,n){t.exports=n(130)},function(t,e,n){function r(t){if(t)return function(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}(t)}t.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<r.length;o++)if((n=r[o])===e||n.fn===e){r.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n)for(var r=0,o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,e);return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,n){var r,o=n(236),i=n(114),a=n(238),s=n(239),u=n(240);"undefined"!=typeof ArrayBuffer&&(r=n(241));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),f="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),l=c||f;e.protocol=3;var h=e.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=o(h),d={type:"error",data:"parser error"},v=n(242);function g(t,e,n){for(var r=new Array(t.length),o=s(t.length,n),i=function(t,n,o){e(n,function(e,n){r[t]=n,o(e,r)})},a=0;a<t.length;a++)i(a,t[a],o)}e.encodePacket=function(t,n,r,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof r&&(o=r,r=null);var i=void 0===t.data?void 0:t.data.buffer||t.data;if("undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=t.data,i=new Uint8Array(o),a=new Uint8Array(1+o.byteLength);a[0]=h[t.type];for(var s=0;s<i.length;s++)a[s+1]=i[s];return r(a.buffer)}(t,n,o);if(void 0!==v&&i instanceof v)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);if(l)return function(t,n,r){if(!n)return e.encodeBase64Packet(t,r);var o=new FileReader;return o.onload=function(){e.encodePacket({type:t.type,data:o.result},n,!0,r)},o.readAsArrayBuffer(t.data)}(t,n,r);var o=new Uint8Array(1);o[0]=h[t.type];var i=new v([o.buffer,t.data]);return r(i)}(t,n,o);if(i&&i.base64)return function(t,n){var r="b"+e.packets[t.type]+t.data.data;return n(r)}(t,o);var a=h[t.type];return void 0!==t.data&&(a+=r?u.encode(String(t.data),{strict:!1}):String(t.data)),o(""+a)},e.encodeBase64Packet=function(t,n){var r,o="b"+e.packets[t.type];if(void 0!==v&&t.data instanceof v){var i=new FileReader;return i.onload=function(){var t=i.result.split(",")[1];n(o+t)},i.readAsDataURL(t.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){for(var a=new Uint8Array(t.data),s=new Array(a.length),u=0;u<a.length;u++)s[u]=a[u];r=String.fromCharCode.apply(null,s)}return o+=btoa(r),n(o)},e.decodePacket=function(t,n,r){if(void 0===t)return d;if("string"==typeof t){if("b"===t.charAt(0))return e.decodeBase64Packet(t.substr(1),n);if(r&&!1===(t=function(t){try{t=u.decode(t,{strict:!1})}catch(t){return!1}return t}(t)))return d;var o=t.charAt(0);return Number(o)==o&&p[o]?t.length>1?{type:p[o],data:t.substring(1)}:{type:p[o]}:d}o=new Uint8Array(t)[0];var i=a(t,1);return v&&"blob"===n&&(i=new v([i])),{type:p[o],data:i}},e.decodeBase64Packet=function(t,e){var n=p[t.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:t.substr(1)}};var o=r.decode(t.substr(1));return"blob"===e&&v&&(o=new v([o])),{type:n,data:o}},e.encodePayload=function(t,n,r){"function"==typeof n&&(r=n,n=null);var o=i(t);if(n&&o)return v&&!l?e.encodePayloadAsBlob(t,r):e.encodePayloadAsArrayBuffer(t,r);if(!t.length)return r("0:");g(t,function(t,r){e.encodePacket(t,!!o&&n,!1,function(t){r(null,function(t){return t.length+":"+t}(t))})},function(t,e){return r(e.join(""))})},e.decodePayload=function(t,n,r){if("string"!=typeof t)return e.decodePayloadAsBinary(t,n,r);var o;if("function"==typeof n&&(r=n,n=null),""===t)return r(d,0,1);for(var i,a,s="",u=0,c=t.length;u<c;u++){var f=t.charAt(u);if(":"===f){if(""===s||s!=(i=Number(s)))return r(d,0,1);if(s!=(a=t.substr(u+1,i)).length)return r(d,0,1);if(a.length){if(o=e.decodePacket(a,n,!1),d.type===o.type&&d.data===o.data)return r(d,0,1);if(!1===r(o,u+i,c))return}u+=i,s=""}else s+=f}return""!==s?r(d,0,1):void 0},e.encodePayloadAsArrayBuffer=function(t,n){if(!t.length)return n(new ArrayBuffer(0));g(t,function(t,n){e.encodePacket(t,!0,!0,function(t){return n(null,t)})},function(t,e){var r=e.reduce(function(t,e){var n;return t+(n="string"==typeof e?e.length:e.byteLength).toString().length+n+2},0),o=new Uint8Array(r),i=0;return e.forEach(function(t){var e="string"==typeof t,n=t;if(e){for(var r=new Uint8Array(t.length),a=0;a<t.length;a++)r[a]=t.charCodeAt(a);n=r.buffer}o[i++]=e?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)o[i++]=parseInt(s[a]);o[i++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)o[i++]=r[a]}),n(o.buffer)})},e.encodePayloadAsBlob=function(t,n){g(t,function(t,n){e.encodePacket(t,!0,!0,function(t){var e=new Uint8Array(1);if(e[0]=1,"string"==typeof t){for(var r=new Uint8Array(t.length),o=0;o<t.length;o++)r[o]=t.charCodeAt(o);t=r.buffer,e[0]=0}var i=(t instanceof ArrayBuffer?t.byteLength:t.size).toString(),a=new Uint8Array(i.length+1);for(o=0;o<i.length;o++)a[o]=parseInt(i[o]);if(a[i.length]=255,v){var s=new v([e.buffer,a.buffer,t]);n(null,s)}})},function(t,e){return n(new v(e))})},e.decodePayloadAsBinary=function(t,n,r){"function"==typeof n&&(r=n,n=null);for(var o=t,i=[];o.byteLength>0;){for(var s=new Uint8Array(o),u=0===s[0],c="",f=1;255!==s[f];f++){if(c.length>310)return r(d,0,1);c+=s[f]}o=a(o,2+c.length),c=parseInt(c);var l=a(o,0,c);if(u)try{l=String.fromCharCode.apply(null,new Uint8Array(l))}catch(t){var h=new Uint8Array(l);l="";for(f=0;f<h.length;f++)l+=String.fromCharCode(h[f])}i.push(l),o=a(o,c)}var p=i.length;i.forEach(function(t,o){r(e.decodePacket(t,n,!0),o,p)})}},function(t,e,n){"use strict";var r=n(78);i.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}();var o=i.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function i(t,e,n){return i.TYPED_ARRAY_SUPPORT||this instanceof i?"number"==typeof t?u(this,t):function(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer)return function(t,e,n,r){if(n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var o;o=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);i.TYPED_ARRAY_SUPPORT?o.__proto__=i.prototype:o=c(t,o);return o}(t,e,n,r);if("string"==typeof e)return function(t,e){var n=0|l(e),r=s(t,n),o=r.write(e);o!==n&&(r=r.slice(0,o));return r}(t,e);return function(t,e){if(i.isBuffer(e)){var n=0|a(e.length),r=s(t,n);return 0===r.length?r:(e.copy(r,0,0,n),r)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(o=e.length)!=o?s(t,0):c(t,e);if("Buffer"===e.type&&Array.isArray(e.data))return c(t,e.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}(this,t,e,n):new i(t,e,n)}function a(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function s(t,e){var n;return i.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=i.prototype:(null===(n=t)&&(n=new i(e)),n.length=e),n}function u(t,e){var n=s(t,e<0?0:0|a(e));if(!i.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)n[r]=0;return n}function c(t,e){for(var n=e.length<0?0:0|a(e.length),r=s(t,n),o=0;o<n;o+=1)r[o]=255&e[o];return r}function f(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function l(t){return i.isBuffer(t)?t.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)?t.byteLength:("string"!=typeof t&&(t=""+t),0===t.length?0:f(t).length)}i.TYPED_ARRAY_SUPPORT&&(i.prototype.__proto__=Uint8Array.prototype,i.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&i[Symbol.species]===i&&Object.defineProperty(i,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),i.prototype.write=function(t,e,n){void 0===e?(n=this.length,e=0):void 0===n&&"string"==typeof e?(n=this.length,e=0):isFinite(e)&&(e|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(t,e,n,r){return function(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}(f(e,t.length-n),t,n,r)}(this,t,e,n)},i.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),i.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=i.prototype;else{var o=e-t;n=new i(o,void 0);for(var a=0;a<o;++a)n[a]=this[a+t]}return n},i.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,a=r-n;if(this===t&&n<e&&e<r)for(o=a-1;o>=0;--o)t[o+e]=this[o+n];else if(a<1e3||!i.TYPED_ARRAY_SUPPORT)for(o=0;o<a;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},i.prototype.fill=function(t,e,n){if("string"==typeof t){if("string"==typeof e?(e=0,n=this.length):"string"==typeof n&&(n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=i.isBuffer(t)?t:new i(t),s=a.length;for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this},i.concat=function(t,e){if(!r(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s(null,0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=u(null,e),a=0;for(n=0;n<t.length;++n){var c=t[n];if(!i.isBuffer(c))throw new TypeError('"list" argument must be an Array of Buffers');c.copy(o,a),a+=c.length}return o},i.byteLength=l,i.prototype._isBuffer=!0,i.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.exports=i},function(t,e){t.exports=!0},function(t,e){t.exports={}},function(t,e,n){var r=n(18),o=n(133),i=n(62),a=n(60)("IE_PROTO"),s=function(){},u=function(){var t,e=n(57)("iframe"),r=i.length;for(e.style.display="none",n(86).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[i[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:o(n,e)}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(17).f,o=n(24),i=n(10)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(41);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(20),o=n(139),i=n(140),a=n(18),s=n(59),u=n(141),c={},f={};(e=t.exports=function(t,e,n,l,h){var p,d,v,g,y=h?function(){return t}:u(t),m=r(n,l,e?2:1),w=0;if("function"!=typeof y)throw TypeError(t+" is not iterable!");if(i(y)){for(p=s(t.length);p>w;w++)if((g=e?m(a(d=t[w])[0],d[1]):m(t[w]))===c||g===f)return g}else for(v=y.call(t);!(d=v.next()).done;)if((g=o(v,m,d.value,e))===c||g===f)return g}).BREAK=c,e.RETURN=f},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,c=[],f=!1,l=-1;function h(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!f){var t=s(h);f=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,f=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||f||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(84),o=n(62);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(44)("meta"),o=n(9),i=n(24),a=n(17).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(22)(function(){return u(Object.preventExtensions({}))}),f=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},l=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!u(t))return"F";if(!e)return"E";f(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!u(t))return!0;if(!e)return!1;f(t)}return t[r].w},onFreeze:function(t){return c&&l.NEED&&u(t)&&!i(t,r)&&f(t),t}}},function(t,e,n){var r=n(7),o=n(4),i=n(22);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],a={};a[t]=e(n),r(r.S+r.F*i(function(){n(1)}),"Object",a)}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(223)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(39))},function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,o=n.length;r<o;r++){var i=n[r].split("=");e[decodeURIComponent(i[0])]=decodeURIComponent(i[1])}return e}},function(t,e){t.exports=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(243)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(39))},function(t,e,n){t.exports=n(147)},function(t,e,n){t.exports=n(205)},function(t,e){},function(t,e,n){"use strict";var r=n(131)(!0);n(56)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){"use strict";var r=n(32),o=n(7),i=n(83),a=n(21),s=n(33),u=n(132),c=n(36),f=n(87),l=n(10)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,d,v,g,y){u(n,e,d);var m,w,b,x=function(t){if(!h&&t in C)return C[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},k=e+" Iterator",_="values"==v,A=!1,C=t.prototype,S=C[l]||C["@@iterator"]||v&&C[v],E=S||x(v),I=v?_?x("entries"):E:void 0,T="Array"==e&&C.entries||S;if(T&&(b=f(T.call(new t)))!==Object.prototype&&b.next&&(c(b,k,!0),r||"function"==typeof b[l]||a(b,l,p)),_&&S&&"values"!==S.name&&(A=!0,E=function(){return S.call(this)}),r&&!y||!h&&!A&&C[l]||a(C,l,E),s[e]=E,s[k]=p,v)if(m={values:_?E:x("values"),keys:g?E:x("keys"),entries:I},y)for(w in m)w in C||i(C,w,m[w]);else o(o.P+o.F*(h||A),e,m);return m}},function(t,e,n){var r=n(9),o=n(6).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e,n){var r=n(9);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(55),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(61)("keys"),o=n(44);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(4),o=n(6),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:n(32)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){n(136);for(var r=n(6),o=n(21),i=n(33),a=n(10)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],f=r[c],l=f&&f.prototype;l&&!l[a]&&o(l,a,c),i[c]=i.Array}},function(t,e,n){var r=n(35),o=n(10)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?n:i?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e){t.exports=function(t,e,n,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){"use strict";var r=n(23);function o(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)}t.exports.f=function(t){return new o(t)}},function(t,e,n){var r=n(21);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:r(t,o,e[o]);return t}},function(t,e,n){e.f=n(10)},function(t,e,n){var r=n(6),o=n(4),i=n(32),a=n(68),s=n(17).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var r=n(70),o=n(42),i=n(25),a=n(58),s=n(24),u=n(82),c=Object.getOwnPropertyDescriptor;e.f=n(19)?c:function(t,e){if(t=i(t),e=a(e,!0),u)try{return c(t,e)}catch(t){}if(s(t,e))return o(!r.f.call(t,e),t[e])}},function(t,e,n){var r=n(99);function o(e,n){return t.exports=o=r||function(t,e){return t.__proto__=e,t},o(e,n)}t.exports=o},function(t,e,n){"use strict";(function(e){var r=n(15),o=n(208),i={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(104):void 0!==e&&(s=n(104)),s),transformRequest:[function(t,e){return o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(t){u.headers[t]={}}),r.forEach(["post","put","patch"],function(t){u.headers[t]=r.merge(i)}),t.exports=u}).call(this,n(39))},function(t,e,n){var r=n(225)("socket.io-parser"),o=n(29),i=n(228),a=n(109),s=n(110);function u(){}e.protocol=4,e.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],e.CONNECT=0,e.DISCONNECT=1,e.EVENT=2,e.ACK=3,e.ERROR=4,e.BINARY_EVENT=5,e.BINARY_ACK=6,e.Encoder=u,e.Decoder=l;var c=e.ERROR+'"encode error"';function f(t){var n=""+t.type;if(e.BINARY_EVENT!==t.type&&e.BINARY_ACK!==t.type||(n+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(n+=t.nsp+","),null!=t.id&&(n+=t.id),null!=t.data){var o=function(t){try{return JSON.stringify(t)}catch(t){return!1}}(t.data);if(!1===o)return c;n+=o}return r("encoded %j as %s",t,n),n}function l(){this.reconstructor=null}function h(t){this.reconPack=t,this.buffers=[]}function p(t){return{type:e.ERROR,data:"parser error: "+t}}u.prototype.encode=function(t,n){(r("encoding packet %j",t),e.BINARY_EVENT===t.type||e.BINARY_ACK===t.type)?function(t,e){i.removeBlobs(t,function(t){var n=i.deconstructPacket(t),r=f(n.packet),o=n.buffers;o.unshift(r),e(o)})}(t,n):n([f(t)])},o(l.prototype),l.prototype.add=function(t){var n;if("string"==typeof t)n=function(t){var n=0,o={type:Number(t.charAt(0))};if(null==e.types[o.type])return p("unknown packet type "+o.type);if(e.BINARY_EVENT===o.type||e.BINARY_ACK===o.type){for(var i="";"-"!==t.charAt(++n)&&(i+=t.charAt(n),n!=t.length););if(i!=Number(i)||"-"!==t.charAt(n))throw new Error("Illegal attachments");o.attachments=Number(i)}if("/"===t.charAt(n+1))for(o.nsp="";++n;){var s=t.charAt(n);if(","===s)break;if(o.nsp+=s,n===t.length)break}else o.nsp="/";var u=t.charAt(n+1);if(""!==u&&Number(u)==u){for(o.id="";++n;){var s=t.charAt(n);if(null==s||Number(s)!=s){--n;break}if(o.id+=t.charAt(n),n===t.length)break}o.id=Number(o.id)}if(t.charAt(++n)){var c=function(t){try{return JSON.parse(t)}catch(t){return!1}}(t.substr(n)),f=!1!==c&&(o.type===e.ERROR||a(c));if(!f)return p("invalid payload");o.data=c}return r("decoded %s as %j",t,o),o}(t),e.BINARY_EVENT===n.type||e.BINARY_ACK===n.type?(this.reconstructor=new h(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(t))&&(this.reconstructor=null,this.emit("decoded",n))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},h.prototype.takeBinaryData=function(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){var e=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null},h.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var r=n(229),o=n(230),i=n(231);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=u.prototype:(null===t&&(t=new u(e)),t.length=e),t}function u(t,e,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return c(this,t,e,n)}function c(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r);u.TYPED_ARRAY_SUPPORT?(t=e).__proto__=u.prototype:t=h(t,e);return t}(t,e,n,r):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,n),o=(t=s(t,r)).write(e,n);o!==r&&(t=t.slice(0,o));return t}(t,e,n):function(t,e){if(u.isBuffer(e)){var n=0|p(e.length);return 0===(t=s(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):h(t,e);if("Buffer"===e.type&&i(e.data))return h(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e){if(f(e),t=s(t,e<0?0:0|p(e)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function h(t,e){var n=e.length<0?0:0|p(e.length);t=s(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(u.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return q(t).length;default:if(r)return U(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function g(t,e,n,r,o){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(o)return-1;n=t.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof e&&(e=u.from(e,r)),u.isBuffer(e))return 0===e.length?-1:y(t,e,n,r,o);if("number"==typeof e)return e&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):y(t,[e],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(t,e,n,r,o){var i,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var f=-1;for(i=n;i<s;i++)if(c(t,i)===c(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var l=!0,h=0;h<u;h++)if(c(t,i+h)!==c(e,h)){l=!1;break}if(l)return i}return-1}function m(t,e,n,r){n=Number(n)||0;var o=t.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function w(t,e,n,r){return z(U(e,t.length-n),t,n,r)}function b(t,e,n,r){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return b(t,e,n,r)}function k(t,e,n,r){return z(q(e),t,n,r)}function _(t,e,n,r){return z(function(t,e){for(var n,r,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],o=e;o<n;){var i,a,s,u,c=t[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=t[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(u=(15&c)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(t){var e=t.length;if(e<=S)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=S));return n}(r)}e.Buffer=u,e.SlowBuffer=function(t){+t!=t&&(t=0);return u.alloc(+t)},e.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),u.poolSize=8192,u._augment=function(t){return t.__proto__=u.prototype,t},u.from=function(t,e,n){return c(null,t,e,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(t,e,n){return function(t,e,n,r){return f(e),e<=0?s(t,e):void 0!==n?"string"==typeof r?s(t,e).fill(n,r):s(t,e).fill(n):s(t,e)}(null,t,e,n)},u.allocUnsafe=function(t){return l(null,t)},u.allocUnsafeSlow=function(t){return l(null,t)},u.isBuffer=function(t){return!(null==t||!t._isBuffer)},u.compare=function(t,e){if(!u.isBuffer(t)||!u.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,o=0,i=Math.min(n,r);o<i;++o)if(t[o]!==e[o]){n=t[o],r=e[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return u.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=u.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)v(this,e,e+1);return this},u.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},u.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},u.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?C(this,0,t):function(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return T(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return E(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}.apply(this,arguments)},u.prototype.equals=function(t){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===u.compare(this,t)},u.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},u.prototype.compare=function(t,e,n,r,o){if(!u.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),e<0||n>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&e>=n)return 0;if(r>=o)return-1;if(e>=n)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(i,a),c=this.slice(r,o),f=t.slice(e,n),l=0;l<s;++l)if(c[l]!==f[l]){i=c[l],a=f[l];break}return i<a?-1:a<i?1:0},u.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},u.prototype.indexOf=function(t,e,n){return g(this,t,e,n,!0)},u.prototype.lastIndexOf=function(t,e,n){return g(this,t,e,n,!1)},u.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-e;if((void 0===n||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return w(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return x(this,t,e,n);case"base64":return k(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function E(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(127&t[o]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var o=e;o<n;++o)r+=String.fromCharCode(t[o]);return r}function T(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=e;i<n;++i)o+=L(t[i]);return o}function P(t,e,n){for(var r=t.slice(e,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,n,r,o,i){if(!u.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function D(t,e,n,r){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-n,2);o<i;++o)t[n+o]=(e&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function B(t,e,n,r){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-n,4);o<i;++o)t[n+o]=e>>>8*(r?o:3-o)&255}function O(t,e,n,r,o,i){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,i){return i||O(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function M(t,e,n,r,i){return i||O(t,0,n,8),o.write(t,e,n,r,52,8),n+8}u.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=u.prototype;else{var o=e-t;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+t]}return n},u.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r},u.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t+--e],o=1;e>0&&(o*=256);)r+=this[t+--e]*o;return r},u.prototype.readUInt8=function(t,e){return e||R(t,1,this.length),this[t]},u.prototype.readUInt16LE=function(t,e){return e||R(t,2,this.length),this[t]|this[t+1]<<8},u.prototype.readUInt16BE=function(t,e){return e||R(t,2,this.length),this[t]<<8|this[t+1]},u.prototype.readUInt32LE=function(t,e){return e||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},u.prototype.readUInt32BE=function(t,e){return e||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},u.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=this[t],o=1,i=0;++i<e&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*e)),r},u.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||R(t,e,this.length);for(var r=e,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},u.prototype.readInt8=function(t,e){return e||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},u.prototype.readInt16LE=function(t,e){e||R(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(t,e){e||R(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(t,e){return e||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},u.prototype.readInt32BE=function(t,e){return e||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},u.prototype.readFloatLE=function(t,e){return e||R(t,4,this.length),o.read(this,t,!0,23,4)},u.prototype.readFloatBE=function(t,e){return e||R(t,4,this.length),o.read(this,t,!1,23,4)},u.prototype.readDoubleLE=function(t,e){return e||R(t,8,this.length),o.read(this,t,!0,52,8)},u.prototype.readDoubleBE=function(t,e){return e||R(t,8,this.length),o.read(this,t,!1,52,8)},u.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=t/o&255;return e+n},u.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e|=0,n|=0,r)||N(this,t,e,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+n},u.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,255,0),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},u.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):B(this,t,e,!0),e+4},u.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},u.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var o=Math.pow(2,8*n-1);N(this,t,e,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+n},u.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,1,127,-128),u.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},u.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):D(this,t,e,!0),e+2},u.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):D(this,t,e,!1),e+2},u.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):B(this,t,e,!0),e+4},u.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),u.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):B(this,t,e,!1),e+4},u.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},u.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},u.prototype.writeDoubleLE=function(t,e,n){return M(this,t,e,!0,n)},u.prototype.writeDoubleBE=function(t,e,n){return M(this,t,e,!1,n)},u.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var o,i=r-n;if(this===t&&n<e&&e<r)for(o=i-1;o>=0;--o)t[o+e]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i},u.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{var a=u.isBuffer(t)?t:U(new u(t,r).toString()),s=a.length;for(i=0;i<n-e;++i)this[i+e]=a[i%s]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function L(t){return t<16?"0"+t.toString(16):t.toString(16)}function U(t,e){var n;e=e||1/0;for(var r=t.length,o=null,i=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(e-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((e-=1)<0)break;i.push(n)}else if(n<2048){if((e-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function q(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(j,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,r){for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);++o)e[o+n]=t[o];return o}}).call(this,n(40))},function(t,e,n){var r=n(234);t.exports=function(t){var e=t.xdomain,n=t.xscheme,o=t.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!e||r))return new XMLHttpRequest}catch(t){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(t){}if(!e)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}}},function(t,e,n){var r=n(30),o=n(29);function i(t){this.path=t.path,this.hostname=t.hostname,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState="",this.agent=t.agent||!1,this.socket=t.socket,this.enablesXDR=t.enablesXDR,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.forceNode=t.forceNode,this.isReactNative=t.isReactNative,this.extraHeaders=t.extraHeaders,this.localAddress=t.localAddress}t.exports=i,o(i.prototype),i.prototype.onError=function(t,e){var n=new Error(t);return n.type="TransportError",n.description=e,this.emit("error",n),this},i.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},i.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},i.prototype.send=function(t){if("open"!==this.readyState)throw new Error("Transport not open");this.write(t)},i.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},i.prototype.onData=function(t){var e=r.decodePacket(t,this.socket.binaryType);this.onPacket(e)},i.prototype.onPacket=function(t){this.emit("packet",t)},i.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2},e.isValid=function(t){return t&&void 0!==t.bit&&t.bit>=0&&t.bit<4},e.from=function(t,n){if(e.isValid(t))return t;try{return function(t){if("string"!=typeof t)throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+t)}}(t)}catch(t){return n}}},function(t,e,n){"use strict";(function(t,n){var r=Object.keys,o=Array.isArray,i="undefined"!=typeof self?self:"undefined"!=typeof window?window:t;function a(t,e){return"object"!=typeof e?t:(r(e).forEach(function(n){t[n]=e[n]}),t)}var s=Object.getPrototypeOf,u={}.hasOwnProperty;function c(t,e){return u.call(t,e)}function f(t,e){"function"==typeof e&&(e=e(s(t))),r(e).forEach(function(n){h(t,n,e[n])})}var l=Object.defineProperty;function h(t,e,n,r){l(t,e,a(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function p(t){return{from:function(e){return t.prototype=Object.create(e.prototype),h(t.prototype,"constructor",t),{extend:f.bind(null,t.prototype)}}}}var d=Object.getOwnPropertyDescriptor;var v=[].slice;function g(t,e,n){return v.call(t,e,n)}function y(t,e){return e(t)}function m(t){if(!t)throw new Error("Assertion Failed")}function w(t){i.setImmediate?n(t):setTimeout(t,0)}function b(t,e){return t.reduce(function(t,n,r){var o=e(n,r);return o&&(t[o[0]]=o[1]),t},{})}function x(t,e){return function(){try{t.apply(this,arguments)}catch(t){e(t)}}}function k(t,e,n){try{t.apply(null,n)}catch(t){e&&e(t)}}function _(t,e){if(c(t,e))return t[e];if(!e)return t;if("string"!=typeof e){for(var n=[],r=0,o=e.length;r<o;++r){var i=_(t,e[r]);n.push(i)}return n}var a=e.indexOf(".");if(-1!==a){var s=t[e.substr(0,a)];return void 0===s?void 0:_(s,e.substr(a+1))}}function A(t,e,n){if(t&&void 0!==e&&!("isFrozen"in Object&&Object.isFrozen(t)))if("string"!=typeof e&&"length"in e){m("string"!=typeof n&&"length"in n);for(var r=0,o=e.length;r<o;++r)A(t,e[r],n[r])}else{var i=e.indexOf(".");if(-1!==i){var a=e.substr(0,i),s=e.substr(i+1);if(""===s)void 0===n?delete t[a]:t[a]=n;else{var u=t[a];u||(u=t[a]={}),A(u,s,n)}}else void 0===n?delete t[e]:t[e]=n}}function C(t){var e={};for(var n in t)c(t,n)&&(e[n]=t[n]);return e}var S=[].concat;function E(t){return S.apply([],t)}var I="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(E([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(t){return i[t]}).map(function(t){return i[t]});function T(t){if(!t||"object"!=typeof t)return t;var e;if(o(t)){e=[];for(var n=0,r=t.length;n<r;++n)e.push(T(t[n]))}else if(I.indexOf(t.constructor)>=0)e=t;else for(var i in e=t.constructor?Object.create(t.constructor.prototype):{},t)c(t,i)&&(e[i]=T(t[i]));return e}function P(t,e,n,o){return n=n||{},o=o||"",r(t).forEach(function(r){if(c(e,r)){var i=t[r],a=e[r];"object"==typeof i&&"object"==typeof a&&i&&a&&""+i.constructor==""+a.constructor?P(i,a,n,o+r+"."):i!==a&&(n[o+r]=e[r])}else n[o+r]=void 0}),r(e).forEach(function(r){c(t,r)||(n[o+r]=e[r])}),n}var R="undefined"!=typeof Symbol&&Symbol.iterator,N=R?function(t){var e;return null!=t&&(e=t[R])&&e.apply(t)}:function(){return null},D={};function B(t){var e,n,r,i;if(1===arguments.length){if(o(t))return t.slice();if(this===D&&"string"==typeof t)return[t];if(i=N(t)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==t)return[t];if("number"==typeof(e=t.length)){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}var O="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function F(t,e){O=t,M=e}var M=function(){return!0},j=!new Error("").stack;function L(){if(j)try{throw L.arguments,new Error}catch(t){return t}return new Error}function U(t,e){var n=t.stack;return n?(e=e||0,0===n.indexOf(t.name)&&(e+=(t.name+t.message).split("\n").length),n.split("\n").slice(e).filter(M).map(function(t){return"\n"+t}).join("")):""}var q=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],z=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(q),K={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function G(t,e){this._e=L(),this.name=t,this.message=e}function Y(t,e,n,r){this._e=L(),this.failures=e,this.failedKeys=r,this.successCount=n}function H(t,e){this._e=L(),this.name="BulkError",this.failures=e,this.message=function(t,e){return t+". Errors: "+e.map(function(t){return t.toString()}).filter(function(t,e,n){return n.indexOf(t)===e}).join("\n")}(t,e)}p(G).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+U(this._e,2))}},toString:function(){return this.name+": "+this.message}}),p(Y).from(G),p(H).from(G);var J=z.reduce(function(t,e){return t[e]=e+"Error",t},{}),V=G,X=z.reduce(function(t,e){var n=e+"Error";function r(t,r){this._e=L(),this.name=n,t?"string"==typeof t?(this.message=t,this.inner=r||null):"object"==typeof t&&(this.message=t.name+" "+t.message,this.inner=t):(this.message=K[e]||n,this.inner=null)}return p(r).from(V),t[e]=r,t},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var W=q.reduce(function(t,e){return t[e+"Error"]=X[e],t},{});var Z=z.reduce(function(t,e){return-1===["Syntax","Type","Range"].indexOf(e)&&(t[e+"Error"]=X[e]),t},{});function $(){}function Q(t){return t}function tt(t,e){return null==t||t===Q?e:function(n){return e(t(n))}}function et(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function nt(t,e){return t===$?e:function(){var n=t.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?et(r,this.onsuccess):r),o&&(this.onerror=this.onerror?et(o,this.onerror):o),void 0!==i?i:n}}function rt(t,e){return t===$?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?et(n,this.onsuccess):n),r&&(this.onerror=this.onerror?et(r,this.onerror):r)}}function ot(t,e){return t===$?e:function(n){var r=t.apply(this,arguments);a(n,r);var o=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var s=e.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?et(o,this.onsuccess):o),i&&(this.onerror=this.onerror?et(i,this.onerror):i),void 0===r?void 0===s?void 0:s:a(r,s)}}function it(t,e){return t===$?e:function(){return!1!==e.apply(this,arguments)&&t.apply(this,arguments)}}function at(t,e){return t===$?e:function(){var n=t.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,o=arguments.length,i=new Array(o);o--;)i[o]=arguments[o];return n.then(function(){return e.apply(r,i)})}return e.apply(this,arguments)}}Z.ModifyError=Y,Z.DexieError=G,Z.BulkError=H;var st={},ut=100,ct=7,ft=function(){try{return new Function("let F=async ()=>{},p=F();return [p,Object.getPrototypeOf(p),Promise.resolve(),F.constructor];")()}catch(e){var t=i.Promise;return t?[t.resolve(),t.prototype,t.resolve()]:[]}}(),lt=ft[0],ht=ft[1],pt=ft[2],dt=ht&&ht.then,vt=lt&&lt.constructor,gt=ft[3],yt=!!pt,mt=!1,wt=pt?function(){pt.then(Ut)}:i.setImmediate?n.bind(null,Ut):i.MutationObserver?function(){var t=document.createElement("div");new MutationObserver(function(){Ut(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:function(){setTimeout(Ut,0)},bt=function(t,e){Tt.push([t,e]),kt&&(wt(),kt=!1)},xt=!0,kt=!0,_t=[],At=[],Ct=null,St=Q,Et={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ce,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(t){try{ce(t[0],t[1])}catch(t){}})}},It=Et,Tt=[],Pt=0,Rt=[];function Nt(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=$,this._lib=!1;var e=this._PSD=It;if(O&&(this._stackHolder=L(),this._prev=null,this._numPrev=0),"function"!=typeof t){if(t!==st)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ot(this,this._value))}this._state=null,this._value=null,++e.ref,function t(e,n){try{n(function(n){if(null===e._state){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&qt();n&&"function"==typeof n.then?t(e,function(t,e){n instanceof Nt?n._then(t,e):n.then(t,e)}):(e._state=!0,e._value=n,Ft(e)),r&&zt()}},Ot.bind(null,e))}catch(t){Ot(e,t)}}(this,t)}var Dt={get:function(){var t=It,e=Wt;function n(n,r){var o=this,i=!t.global&&(t!==It||e!==Wt);i&&te();var a=new Nt(function(e,a){Mt(o,new Bt(ae(n,t,i),ae(r,t,i),e,a,t))});return O&&Lt(a,this),a}return n.prototype=st,n},set:function(t){h(this,"then",t&&t.prototype===st?Dt:{get:function(){return t},set:Dt.set})}};function Bt(t,e,n,r,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=r,this.psd=o}function Ot(t,e){if(At.push(e),null===t._state){var n=t._lib&&qt();e=St(e),t._state=!1,t._value=e,O&&null!==e&&"object"==typeof e&&!e._promise&&k(function(){var n=function t(e,n){var r;return d(e,n)||(r=s(e))&&t(r,n)}(e,"stack");e._promise=t,h(e,"stack",{get:function(){return mt?n&&(n.get?n.get.apply(e):n.value):t.stack}})}),function(t){_t.some(function(e){return e._value===t._value})||_t.push(t)}(t),Ft(t),n&&zt()}}function Ft(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)Mt(t,e[n]);var o=t._PSD;--o.ref||o.finalize(),0===Pt&&(++Pt,bt(function(){0==--Pt&&Kt()},[]))}function Mt(t,e){if(null!==t._state){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Pt,bt(jt,[n,t,e])}else t._listeners.push(e)}function jt(t,e,n){try{Ct=e;var r,o=e._value;e._state?r=t(o):(At.length&&(At=[]),r=t(o),-1===At.indexOf(o)&&function(t){var e=_t.length;for(;e;)if(_t[--e]._value===t._value)return void _t.splice(e,1)}(e)),n.resolve(r)}catch(t){n.reject(t)}finally{Ct=null,0==--Pt&&Kt(),--n.psd.ref||n.psd.finalize()}}function Lt(t,e){var n=e?e._numPrev+1:0;n<ut&&(t._prev=e,t._numPrev=n)}function Ut(){qt()&&zt()}function qt(){var t=xt;return xt=!1,kt=!1,t}function zt(){var t,e,n;do{for(;Tt.length>0;)for(t=Tt,Tt=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}}while(Tt.length>0);xt=!0,kt=!0}function Kt(){var t=_t;_t=[],t.forEach(function(t){t._PSD.onunhandled.call(null,t._value,t)});for(var e=Rt.slice(0),n=e.length;n;)e[--n]()}function Gt(t){return new Nt(st,!1,t)}function Yt(t,e){var n=It;return function(){var r=qt(),o=It;try{return re(n,!0),t.apply(this,arguments)}catch(t){e&&e(t)}finally{re(o,!1),r&&zt()}}}f(Nt.prototype,{then:Dt,_then:function(t,e){Mt(this,new Bt(null,null,t,e,It))},catch:function(t){if(1===arguments.length)return this.then(null,t);var e=arguments[0],n=arguments[1];return"function"==typeof e?this.then(null,function(t){return t instanceof e?n(t):Gt(t)}):this.then(null,function(t){return t&&t.name===e?n(t):Gt(t)})},finally:function(t){return this.then(function(e){return t(),e},function(e){return t(),Gt(e)})},stack:{get:function(){if(this._stack)return this._stack;try{mt=!0;var t=function t(e,n,r){if(n.length===r)return n;var o="";if(!1===e._state){var i,a,s=e._value;null!=s?(i=s.name||"Error",a=s.message||s,o=U(s,0)):(i=s,a=""),n.push(i+(a?": "+a:"")+o)}O&&((o=U(e._stackHolder,2))&&-1===n.indexOf(o)&&n.push(o),e._prev&&t(e._prev,n,r));return n}(this,[],20).join("\nFrom previous: ");return null!==this._state&&(this._stack=t),t}finally{mt=!1}}},timeout:function(t,e){var n=this;return t<1/0?new Nt(function(r,o){var i=setTimeout(function(){return o(new X.Timeout(e))},t);n.then(r,o).finally(clearTimeout.bind(null,i))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&h(Nt.prototype,Symbol.toStringTag,"Promise"),Et.env=oe(),f(Nt,{all:function(){var t=B.apply(null,arguments).map(ee);return new Nt(function(e,n){0===t.length&&e([]);var r=t.length;t.forEach(function(o,i){return Nt.resolve(o).then(function(n){t[i]=n,--r||e(t)},n)})})},resolve:function(t){if(t instanceof Nt)return t;if(t&&"function"==typeof t.then)return new Nt(function(e,n){t.then(e,n)});var e=new Nt(st,!0,t);return Lt(e,Ct),e},reject:Gt,race:function(){var t=B.apply(null,arguments).map(ee);return new Nt(function(e,n){t.map(function(t){return Nt.resolve(t).then(e,n)})})},PSD:{get:function(){return It},set:function(t){return It=t}},newPSD:$t,usePSD:ie,scheduler:{get:function(){return bt},set:function(t){bt=t}},rejectionMapper:{get:function(){return St},set:function(t){St=t}},follow:function(t,e){return new Nt(function(n,r){return $t(function(e,n){var r=It;r.unhandleds=[],r.onunhandled=n,r.finalize=et(function(){var t=this;!function(t){Rt.push(function e(){t();Rt.splice(Rt.indexOf(e),1)}),++Pt,bt(function(){0==--Pt&&Kt()},[])}(function(){0===t.unhandleds.length?e():n(t.unhandleds[0])})},r.finalize),t()},e,n,r)})}});var Ht={awaits:0,echoes:0,id:0},Jt=0,Vt=[],Xt=0,Wt=0,Zt=0;function $t(t,e,n,r){var o=It,i=Object.create(o);i.parent=o,i.ref=0,i.global=!1,i.id=++Zt;var s=Et.env;i.env=yt?{Promise:Nt,PromiseProp:{value:Nt,configurable:!0,writable:!0},all:Nt.all,race:Nt.race,resolve:Nt.resolve,reject:Nt.reject,nthen:se(s.nthen,i),gthen:se(s.gthen,i)}:{},e&&a(i,e),++o.ref,i.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=ie(i,t,n,r);return 0===i.ref&&i.finalize(),u}function Qt(){return Ht.id||(Ht.id=++Jt),++Ht.awaits,Ht.echoes+=ct,Ht.id}function te(t){!Ht.awaits||t&&t!==Ht.id||(0==--Ht.awaits&&(Ht.id=0),Ht.echoes=Ht.awaits*ct)}function ee(t){return Ht.echoes&&t&&t.constructor===vt?(Qt(),t.then(function(t){return te(),t},function(t){return te(),fe(t)})):t}function ne(){var t=Vt[Vt.length-1];Vt.pop(),re(t,!1)}function re(t,e){var n,r=It;if((e?!Ht.echoes||Xt++&&t===It:!Xt||--Xt&&t===It)||(n=e?function(t){++Wt,Ht.echoes&&0!=--Ht.echoes||(Ht.echoes=Ht.id=0),Vt.push(It),re(t,!0)}.bind(null,t):ne,dt.call(lt,n)),t!==It&&(It=t,r===Et&&(Et.env=oe()),yt)){var o=Et.env.Promise,a=t.env;ht.then=a.nthen,o.prototype.then=a.gthen,(r.global||t.global)&&(Object.defineProperty(i,"Promise",a.PromiseProp),o.all=a.all,o.race=a.race,o.resolve=a.resolve,o.reject=a.reject)}}function oe(){var t=i.Promise;return yt?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:t.all,race:t.race,resolve:t.resolve,reject:t.reject,nthen:ht.then,gthen:t.prototype.then}:{}}function ie(t,e,n,r,o){var i=It;try{return re(t,!0),e(n,r,o)}finally{re(i,!1)}}function ae(t,e,n){return"function"!=typeof t?t:function(){var r=It;n&&Qt(),re(e,!0);try{return t.apply(this,arguments)}finally{re(r,!1)}}}function se(t,e){return function(n,r){return t.call(this,ae(n,e,!1),ae(r,e,!1))}}var ue="unhandledrejection";function ce(t,e){var n;try{n=e.onuncatched(t)}catch(t){}if(!1!==n)try{var r,o={promise:e,reason:t};if(i.document&&document.createEvent?((r=document.createEvent("Event")).initEvent(ue,!0,!0),a(r,o)):i.CustomEvent&&a(r=new CustomEvent(ue,{detail:o}),o),r&&i.dispatchEvent&&(dispatchEvent(r),!i.PromiseRejectionEvent&&i.onunhandledrejection))try{i.onunhandledrejection(r)}catch(t){}r.defaultPrevented||console.warn("Unhandled rejection: "+(t.stack||t))}catch(t){}}var fe=Nt.reject;function le(t){var e={},n=function(n,r){if(r){for(var o=arguments.length,i=new Array(o-1);--o;)i[o-1]=arguments[o];return e[n].subscribe.apply(null,i),t}if("string"==typeof n)return e[n]};n.addEventType=s;for(var i=1,a=arguments.length;i<a;++i)s(arguments[i]);return n;function s(t,i,a){if("object"!=typeof t){var u;i||(i=it),a||(a=$);var c={subscribers:[],fire:a,subscribe:function(t){-1===c.subscribers.indexOf(t)&&(c.subscribers.push(t),c.fire=i(c.fire,t))},unsubscribe:function(t){c.subscribers=c.subscribers.filter(function(e){return e!==t}),c.fire=c.subscribers.reduce(i,a)}};return e[t]=n[t]=c,c}r(u=t).forEach(function(t){var e=u[t];if(o(e))s(t,u[t][0],u[t][1]);else{if("asap"!==e)throw new X.InvalidArgument("Invalid event config");var n=s(t,Q,function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];n.subscribers.forEach(function(t){w(function(){t.apply(null,e)})})})}})}}var he,pe=String.fromCharCode(65535),de=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(t){return pe}}(),ve=-1/0,ge="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ye="String expected.",me=[],we="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),be=we,xe=we,ke=function(t){return!/(dexie\.js|dexie\.min\.js)/.test(t)};function _e(t,e){var n,s,u,l,p,d=_e.dependencies,v=a({addons:_e.addons,autoOpen:!0,indexedDB:d.indexedDB,IDBKeyRange:d.IDBKeyRange},e),w=v.addons,S=v.autoOpen,I=v.indexedDB,R=v.IDBKeyRange,N=this._dbSchema={},F=[],M=[],j={},q=null,z=null,K=!1,G=null,J=!1,V="readwrite",W=this,Z=new Nt(function(t){n=t}),et=new Nt(function(t,e){s=e}),it=!0,st=!!Be(I);function ut(t){this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function ct(t,e,n){var o=W._createTransaction(V,M,N);o.create(e),o._completion.catch(n);var i=o._reject.bind(o);$t(function(){It.trans=o,0===t?(r(N).forEach(function(t){ft(e,t,N[t].primKey,N[t].indexes)}),Nt.follow(function(){return W.on.populate.fire(o)}).catch(i)):function(t,e,n){var o=[],i=F.filter(function(e){return e._cfg.version===t})[0];if(!i)throw new X.Upgrade("Dexie specification of currently installed DB version is missing");N=W._dbSchema=i._cfg.dbschema;var a=!1;return F.filter(function(e){return e._cfg.version>t}).forEach(function(t){o.push(function(){var r=N,o=t._cfg.dbschema;Dt(r,n),Dt(o,n),N=W._dbSchema=o;var i=function(t,e){var n={del:[],add:[],change:[]};for(var r in t)e[r]||n.del.push(r);for(r in e){var o=t[r],i=e[r];if(o){var a={name:r,def:i,recreate:!1,del:[],add:[],change:[]};if(o.primKey.src!==i.primKey.src)a.recreate=!0,n.change.push(a);else{var s=o.idxByName,u=i.idxByName;for(var c in s)u[c]||a.del.push(c);for(c in u){var f=s[c],l=u[c];f?f.src!==l.src&&a.change.push(l):a.add.push(l)}(a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([r,i])}return n}(r,o);if(i.add.forEach(function(t){ft(n,t[0],t[1].primKey,t[1].indexes)}),i.change.forEach(function(t){if(t.recreate)throw new X.Upgrade("Not yet support for changing primary key");var e=n.objectStore(t.name);t.add.forEach(function(t){lt(e,t)}),t.change.forEach(function(t){e.deleteIndex(t.name),lt(e,t)}),t.del.forEach(function(t){e.deleteIndex(t)})}),t._cfg.contentUpgrade)return a=!0,Nt.follow(function(){t._cfg.contentUpgrade(e)})}),o.push(function(e){a&&be||function(t,e){for(var n=0;n<e.db.objectStoreNames.length;++n){var r=e.db.objectStoreNames[n];null==t[r]&&e.db.deleteObjectStore(r)}}(t._cfg.dbschema,e)})}),function t(){return o.length?Nt.resolve(o.shift()(e.idbtrans)).then(t):Nt.resolve()}().then(function(){!function(t,e){r(t).forEach(function(n){e.db.objectStoreNames.contains(n)||ft(e,n,t[n].primKey,t[n].indexes)})}(N,n)})}(t,o,e).catch(i)})}function ft(t,e,n,r){var o=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(t){lt(o,t)}),o}function lt(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function ht(t,e,n){this.name=t,this.schema=e,this._tx=n,this.hook=j[t]?j[t].hook:le(null,{creating:[nt,$],reading:[tt,Q],updating:[ot,$],deleting:[rt,$]})}function pt(t,e,n){return(n?Ie:Se)(function(n){t.push(n),e&&e()})}function dt(t,e,n,r,o){return new Nt(function(i,a){var s=n.length,u=s-1;if(0===s)return i();if(r){var c,f=Ie(a),l=Ce(null);k(function(){for(var r=0;r<s;++r){c={onsuccess:null,onerror:null};var a=n[r];o.call(c,a[0],a[1],e);var h=t.delete(a[0]);h._hookCtx=c,h.onerror=f,h.onsuccess=r===u?Ce(i):l}},function(t){throw c.onerror&&c.onerror(t),t})}else for(var h=0;h<s;++h){var p=t.delete(n[h]);p.onerror=Se(a),h===u&&(p.onsuccess=Yt(function(){return i()}))}})}function yt(t,e,n,r){var o=this;this.db=W,this.mode=t,this.storeNames=e,this.idbtrans=null,this.on=le(this,"complete","error","abort"),this.parent=r||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Nt(function(t,e){o._resolve=t,o._reject=e}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(t){var e=o.active;return o.active=!1,o.on.error.fire(t),o.parent?o.parent._reject(t):e&&o.idbtrans&&o.idbtrans.abort(),fe(t)})}function mt(t,e,n){this._ctx={table:t,index:":id"===e?null:e,or:n}}function wt(t,e){var n=null,r=null;if(e)try{n=e()}catch(t){r=t}var o=t._ctx,i=o.table;this._ctx={table:i,index:o.index,isPrimKey:!o.index||i.schema.primKey.keyPath&&o.index===i.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:o.or,valueMapper:i.hook.reading.fire}}function bt(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function xt(t,e){return t._cfg.version-e._cfg.version}function kt(t,e,n){e.forEach(function(e){var r=n[e];t.forEach(function(t){e in t||(t===yt.prototype||t instanceof yt?h(t,e,{get:function(){return this.table(e)}}):t[e]=new ht(e,r))})})}function _t(t,e,n,r,o,i){var a=Yt(i?function(t,e,r){return n(i(t),e,r)}:n,o);t.onerror||(t.onerror=Se(o)),t.onsuccess=x(e?function(){var n=t.result;if(n){var i=function(){n.continue()};e(n,function(t){i=t},r,o)&&a(n.value,n,function(t){i=t}),i()}else r()}:function(){var e=t.result;if(e){var n=function(){e.continue()};a(e.value,e,function(t){n=t}),n()}else r()},o)}function At(t,e){return I.cmp(t,e)}function Ct(t,e){return At(t,e)>0?t:e}function St(t,e){return I.cmp(t,e)}function Et(t,e){return I.cmp(e,t)}function Tt(t,e){return t<e?-1:t===e?0:1}function Pt(t,e){return t>e?-1:t===e?0:1}function Rt(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}function Dt(t,e){for(var n=e.db.objectStoreNames,r=0;r<n.length;++r){var o=n[r],a=e.objectStore(o);u="getAll"in a;for(var s=0;s<a.indexNames.length;++s){var c=a.indexNames[s],f=a.index(c).keyPath,l="string"==typeof f?f:"["+g(f).join("+")+"]";if(t[o]){var h=t[o].idxByName[l];h&&(h.name=c)}}}/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(u=!1)}function Bt(t){W.on("blocked").fire(t),me.filter(function(t){return t.name===W.name&&t!==W&&!t._vcFired}).map(function(e){return e.on("versionchange").fire(t)})}this.version=function(t){if(q||K)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=F.filter(function(e){return e._cfg.version===t})[0];return e||(e=new ut(t),F.push(e),F.sort(xt),it=!1,e)},a(ut.prototype,{stores:function(t){this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,t):t;var e={};F.forEach(function(t){a(e,t._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(e,n),N=W._dbSchema=n,[j,W,yt.prototype].forEach(function(t){for(var e in t)t[e]instanceof ht&&delete t[e]}),kt([j,W,yt.prototype,this._cfg.tables],r(n),n),M=r(n),this},upgrade:function(t){return this._cfg.contentUpgrade=t,this},_parseStoresSpec:function(t,e){r(t).forEach(function(n){if(null!==t[n]){var r={},i=function(t){var e=[];return t.split(",").forEach(function(t){var n=(t=t.trim()).replace(/([&*]|\+\+)/g,""),r=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;e.push(new Re(n,r||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),o(r),/\./.test(t)))}),e}(t[n]),a=i.shift();if(a.multi)throw new X.Schema("Primary key cannot be multi-valued");a.keyPath&&A(r,a.keyPath,a.auto?0:a.keyPath),i.forEach(function(t){if(t.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!t.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string");A(r,t.keyPath,t.compound?t.keyPath.map(function(){return""}):"")}),e[n]=new Ne(n,a,i,r)}})}}),this._allTables=j,this._createTransaction=function(t,e,n,r){return new yt(t,e,n,r)},this._whenReady=function(t){return J||It.letThrough?t():new Nt(function(t,e){if(!K){if(!S)return void e(new X.DatabaseClosed);W.open().catch($)}Z.then(t,e)}).then(t)},this.verno=0,this.open=function(){if(K||q)return Z.then(function(){return z?fe(z):W});O&&(et._stackHolder=L()),K=!0,z=null,J=!1;var e=n,o=null;return Nt.race([et,new Nt(function(e,n){if(!I)throw new X.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var i=it?I.open(t):I.open(t,Math.round(10*W.verno));if(!i)throw new X.MissingAPI("IndexedDB API not available");i.onerror=Se(n),i.onblocked=Yt(Bt),i.onupgradeneeded=Yt(function(e){if(o=i.transaction,it&&!W._allowEmptyDB){i.onerror=Te,o.abort(),i.result.close();var r=I.deleteDatabase(t);r.onsuccess=r.onerror=Yt(function(){n(new X.NoSuchDatabase("Database "+t+" doesnt exist"))})}else{o.onerror=Se(n),ct((e.oldVersion>Math.pow(2,62)?0:e.oldVersion)/10,o,n)}},n),i.onsuccess=Yt(function(){if(o=null,q=i.result,me.push(W),it)!function(){if(W.verno=q.version/10,W._dbSchema=N={},0===(M=g(q.objectStoreNames,0)).length)return;var t=q.transaction(De(M),"readonly");M.forEach(function(e){for(var n=t.objectStore(e),r=n.keyPath,o=r&&"string"==typeof r&&-1!==r.indexOf("."),i=new Re(r,r||"",!1,!1,!!n.autoIncrement,r&&"string"!=typeof r,o),a=[],s=0;s<n.indexNames.length;++s){var u=n.index(n.indexNames[s]);r=u.keyPath,o=r&&"string"==typeof r&&-1!==r.indexOf(".");var c=new Re(u.name,r,!!u.unique,!!u.multiEntry,!1,r&&"string"!=typeof r,o);a.push(c)}N[e]=new Ne(e,i,a,{})}),kt([j],r(N),N)}();else if(q.objectStoreNames.length>0)try{Dt(N,q.transaction(De(q.objectStoreNames),"readonly"))}catch(t){}q.onversionchange=Yt(function(t){W._vcFired=!0,W.on("versionchange").fire(t)}),st||"__dbnames"===t||he.dbnames.put({name:t}).catch($),e()},n)})]).then(function(){return G=[],Nt.resolve(_e.vip(W.on.ready.fire)).then(function t(){if(G.length>0){var e=G.reduce(at,$);return G=[],Nt.resolve(_e.vip(e)).then(t)}})}).finally(function(){G=null}).then(function(){return K=!1,W}).catch(function(t){try{o&&o.abort()}catch(t){}return K=!1,W.close(),fe(z=t)}).finally(function(){J=!0,e()})},this.close=function(){var t=me.indexOf(W);if(t>=0&&me.splice(t,1),q){try{q.close()}catch(t){}q=null}S=!1,z=new X.DatabaseClosed,K&&s(z),Z=new Nt(function(t){n=t}),et=new Nt(function(t,e){s=e})},this.delete=function(){var e=arguments.length>0;return new Nt(function(n,r){if(e)throw new X.InvalidArgument("Arguments not allowed in db.delete()");function o(){W.close();var e=I.deleteDatabase(t);e.onsuccess=Yt(function(){st||he.dbnames.delete(t).catch($),n()}),e.onerror=Se(r),e.onblocked=Bt}K?Z.then(o):o()})},this.backendDB=function(){return q},this.isOpen=function(){return null!==q},this.hasBeenClosed=function(){return z&&z instanceof X.DatabaseClosed},this.hasFailed=function(){return null!==z},this.dynamicallyOpened=function(){return it},this.name=t,f(this,{tables:{get:function(){return r(j).map(function(t){return j[t]})}}}),this.on=le(this,"populate","blocked","versionchange",{ready:[at,$]}),this.on.ready.subscribe=y(this.on.ready.subscribe,function(t){return function(e,n){_e.vip(function(){J?(z||Nt.resolve().then(e),n&&t(e)):G?(G.push(e),n&&t(e)):(t(e),n||t(function t(){W.on.ready.unsubscribe(e),W.on.ready.unsubscribe(t)}))})}}),this.transaction=function(){var t=function(t,e,n){var r=arguments.length;if(r<2)throw new X.InvalidArgument("Too few arguments");var o=new Array(r-1);for(;--r;)o[r-1]=arguments[r];n=o.pop();var i=E(o);return[t,i,n]}.apply(this,arguments);return this._transaction.apply(this,t)},this._transaction=function(t,e,n){var r=It.trans;r&&r.db===W&&-1===t.indexOf("!")||(r=null);var o=-1!==t.indexOf("?");t=t.replace("!","").replace("?","");try{var i=e.map(function(t){var e=t instanceof ht?t.name:t;if("string"!=typeof e)throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e});if("r"==t||"readonly"==t)t="readonly";else{if("rw"!=t&&t!=V)throw new X.InvalidArgument("Invalid transaction mode: "+t);t=V}if(r){if("readonly"===r.mode&&t===V){if(!o)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");r=null}r&&i.forEach(function(t){if(r&&-1===r.storeNames.indexOf(t)){if(!o)throw new X.SubTransaction("Table "+t+" not included in parent transaction.");r=null}}),o&&r&&!r.active&&(r=null)}}catch(t){return r?r._promise(null,function(e,n){n(t)}):fe(t)}return r?r._promise(t,a,"lock"):It.trans?ie(It.transless,function(){return W._whenReady(a)}):W._whenReady(a);function a(){return Nt.resolve().then(function(){var e,o=It.transless||It,a=W._createTransaction(t,i,N,r),s={trans:a,transless:o};r?a.idbtrans=r.idbtrans:a.create(),n.constructor===gt&&Qt();var u=Nt.follow(function(){if(e=n.call(a,a))if(e.constructor===vt){var t=te.bind(null,null);e.then(t,t)}else"function"==typeof e.next&&"function"==typeof e.throw&&(e=Pe(e))},s);return(e&&"function"==typeof e.then?Nt.resolve(e).then(function(t){return a.active?t:fe(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):u.then(function(){return e})).then(function(t){return r&&a._resolve(),a._completion.then(function(){return t})}).catch(function(t){return a._reject(t),fe(t)})})}},this.table=function(t){if(!c(j,t))throw new X.InvalidTable("Table "+t+" does not exist");return j[t]},f(ht.prototype,{_trans:function(t,e,n){var r=this._tx||It.trans;return r&&r.db===W?r===It.trans?r._promise(t,e,n):$t(function(){return r._promise(t,e,n)},{trans:r,transless:It.transless||It}):function t(e,n,r){if(J||It.letThrough){var o=W._createTransaction(e,n,N);try{o.create()}catch(t){return fe(t)}return o._promise(e,function(t,e){return $t(function(){return It.trans=o,r(t,e,o)})}).then(function(t){return o._completion.then(function(){return t})})}if(!K){if(!S)return fe(new X.DatabaseClosed);W.open().catch($)}return Z.then(function(){return t(e,n,r)})}(t,[this.name],e)},_idbstore:function(t,e,n){var r=this.name;return this._trans(t,function(t,n,o){if(-1===o.storeNames.indexOf(r))throw new X.NotFound("Table"+r+" not part of transaction");return e(t,n,o.idbtrans.objectStore(r),o)},n)},get:function(t,e){if(t&&t.constructor===Object)return this.where(t).first(e);var n=this;return this._idbstore("readonly",function(e,r,o){var i=o.get(t);i.onerror=Se(r),i.onsuccess=Yt(function(){e(n.hook.reading.fire(i.result))},r)}).then(e)},where:function(t){if("string"==typeof t)return new mt(this,t);if(o(t))return new mt(this,"["+t.join("+")+"]");var e=r(t);if(1===e.length)return this.where(e[0]).equals(t[e[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(t){return t.compound&&e.every(function(e){return t.keyPath.indexOf(e)>=0})&&t.keyPath.every(function(t){return e.indexOf(t)>=0})})[0];if(n&&de!==pe)return this.where(n.name).equals(n.keyPath.map(function(e){return t[e]}));n||console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a compound index ["+e.join("+")+"]");var i=this.schema.idxByName,a=e.reduce(function(e,n){return[e[0]||i[n],e[0]||!i[n]?Rt(e[1],function(e){return""+_(e,n)==""+t[n]}):e[1]]},[null,null]),s=a[0];return s?this.where(s.name).equals(t[s.keyPath]).filter(a[1]):n?this.filter(a[1]):this.where(e).equals("")},count:function(t){return this.toCollection().count(t)},offset:function(t){return this.toCollection().offset(t)},limit:function(t){return this.toCollection().limit(t)},reverse:function(){return this.toCollection().reverse()},filter:function(t){return this.toCollection().and(t)},each:function(t){return this.toCollection().each(t)},toArray:function(t){return this.toCollection().toArray(t)},orderBy:function(t){return new wt(new mt(this,o(t)?"["+t.join("+")+"]":t))},toCollection:function(){return new wt(new mt(this))},mapToClass:function(t,e){this.schema.mappedClass=t;var n=Object.create(t.prototype);e&&Ae(n,e),this.schema.instanceTemplate=n;var r=function(e){if(!e)return e;var n=Object.create(t.prototype);for(var r in e)if(c(e,r))try{n[r]=e[r]}catch(t){}return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t},defineClass:function(t){return this.mapToClass(_e.defineClass(t),t)},bulkDelete:function(t){return this.hook.deleting.fire===$?this._idbstore(V,function(e,n,r,o){e(dt(r,o,t,!1,$))}):this.where(":id").anyOf(t).delete().then(function(){})},bulkPut:function(t,e){var n=this;return this._idbstore(V,function(r,o,i){if(!i.keyPath&&!n.schema.primKey.auto&&!e)throw new X.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(i.keyPath&&e)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return r();var a,s,u=function(t){0===c.length?r(t):o(new H(n.name+".bulkPut(): "+c.length+" of "+f+" operations failed",c))},c=[],f=t.length,l=n;if(n.hook.creating.fire===$&&n.hook.updating.fire===$){s=pt(c);for(var h=0,p=t.length;h<p;++h)(a=e?i.put(t[h],e[h]):i.put(t[h])).onerror=s;a.onerror=pt(c,u),a.onsuccess=Ee(u)}else{var d=e||i.keyPath&&t.map(function(t){return _(t,i.keyPath)}),v=d&&b(d,function(e,n){return null!=e&&[e,t[n]]});(d?l.where(":id").anyOf(d.filter(function(t){return null!=t})).modify(function(){this.value=v[this.primKey],v[this.primKey]=null}).catch(Y,function(t){c=t.failures}).then(function(){for(var n=[],r=e&&[],o=d.length-1;o>=0;--o){var i=d[o];(null==i||v[i])&&(n.push(t[o]),e&&r.push(i),null!=i&&(v[i]=null))}return n.reverse(),e&&r.reverse(),l.bulkAdd(n,r)}).then(function(t){var e=d[d.length-1];return null!=e?e:t}):l.bulkAdd(t)).then(u).catch(H,function(t){c=c.concat(t.failures),u()}).catch(o)}},"locked")},bulkAdd:function(t,e){var n=this,r=this.hook.creating.fire;return this._idbstore(V,function(o,i,a,s){if(!a.keyPath&&!n.schema.primKey.auto&&!e)throw new X.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(a.keyPath&&e)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(e&&e.length!==t.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return o();function u(t){0===h.length?o(t):i(new H(n.name+".bulkAdd(): "+h.length+" of "+p+" operations failed",h))}var c,f,l,h=[],p=t.length;if(r!==$){var d,v=a.keyPath;f=pt(h,null,!0),l=Ce(null),k(function(){for(var n=0,o=t.length;n<o;++n){d={onerror:null,onsuccess:null};var i=e&&e[n],u=t[n],h=e?i:v?_(u,v):void 0,p=r.call(d,h,u,s);null==h&&null!=p&&(v?A(u=T(u),v,p):i=p),(c=null!=i?a.add(u,i):a.add(u))._hookCtx=d,n<o-1&&(c.onerror=f,d.onsuccess&&(c.onsuccess=l))}},function(t){throw d.onerror&&d.onerror(t),t}),c.onerror=pt(h,u,!0),c.onsuccess=Ce(u)}else{f=pt(h);for(var g=0,y=t.length;g<y;++g)(c=e?a.add(t[g],e[g]):a.add(t[g])).onerror=f;c.onerror=pt(h,u),c.onsuccess=Ee(u)}})},add:function(t,e){var n=this.hook.creating.fire;return this._idbstore(V,function(r,o,i,a){var s={onsuccess:null,onerror:null};if(n!==$){var u=null!=e?e:i.keyPath?_(t,i.keyPath):void 0,c=n.call(s,u,t,a);null==u&&null!=c&&(i.keyPath?A(t,i.keyPath,c):e=c)}try{var f=null!=e?i.add(t,e):i.add(t);f._hookCtx=s,f.onerror=Ie(o),f.onsuccess=Ce(function(e){var n=i.keyPath;n&&A(t,n,e),r(e)})}catch(t){throw s.onerror&&s.onerror(t),t}})},put:function(t,e){var n=this,r=this.hook.creating.fire,o=this.hook.updating.fire;if(r!==$||o!==$){var i=this.schema.primKey.keyPath,a=void 0!==e?e:i&&_(t,i);return null==a?this.add(t):(t=T(t),this._trans(V,function(){return n.where(":id").equals(a).modify(function(){this.value=t}).then(function(r){return 0===r?n.add(t,e):a})},"locked"))}return this._idbstore(V,function(n,r,o){var i=void 0!==e?o.put(t,e):o.put(t);i.onerror=Se(r),i.onsuccess=Yt(function(e){var r=o.keyPath;r&&A(t,r,e.target.result),n(i.result)})})},delete:function(t){return this.hook.deleting.subscribers.length?this.where(":id").equals(t).delete():this._idbstore(V,function(e,n,r){var o=r.delete(t);o.onerror=Se(n),o.onsuccess=Yt(function(){e(o.result)})})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection().delete():this._idbstore(V,function(t,e,n){var r=n.clear();r.onerror=Se(e),r.onsuccess=Yt(function(){t(r.result)})})},update:function(t,e){if("object"!=typeof e||o(e))throw new X.InvalidArgument("Modifications must be an object.");if("object"!=typeof t||o(t))return this.where(":id").equals(t).modify(e);r(e).forEach(function(n){A(t,n,e[n])});var n=_(t,this.schema.primKey.keyPath);return void 0===n?fe(new X.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(n).modify(e)}}),f(yt.prototype,{_lock:function(){return m(!It.global),++this._reculock,1!==this._reculock||It.global||(It.lockOwnerFor=this),this},_unlock:function(){if(m(!It.global),0==--this._reculock)for(It.global||(It.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{ie(t[1],t[0])}catch(t){}}return this},_locked:function(){return this._reculock&&It.lockOwnerFor!==this},create:function(t){var e=this;if(!this.mode)return this;if(m(!this.idbtrans),!t&&!q)switch(z&&z.name){case"DatabaseClosedError":throw new X.DatabaseClosed(z);case"MissingAPIError":throw new X.MissingAPI(z.message,z);default:throw new X.OpenFailed(z)}if(!this.active)throw new X.TransactionInactive;return m(null===this._completion._state),(t=this.idbtrans=t||q.transaction(De(this.storeNames),this.mode)).onerror=Yt(function(n){Te(n),e._reject(t.error)}),t.onabort=Yt(function(n){Te(n),e.active&&e._reject(new X.Abort(t.error)),e.active=!1,e.on("abort").fire(n)}),t.oncomplete=Yt(function(){e.active=!1,e._resolve()}),this},_promise:function(t,e,n){var r=this;if(t===V&&this.mode!==V)return fe(new X.ReadOnly("Transaction is readonly"));if(!this.active)return fe(new X.TransactionInactive);if(this._locked())return new Nt(function(o,i){r._blockedFuncs.push([function(){r._promise(t,e,n).then(o,i)},It])});if(n)return $t(function(){var t=new Nt(function(t,n){r._lock();var o=e(t,n,r);o&&o.then&&o.then(t,n)});return t.finally(function(){return r._unlock()}),t._lib=!0,t});var o=new Nt(function(t,n){var o=e(t,n,r);o&&o.then&&o.then(t,n)});return o._lib=!0,o},_root:function(){return this.parent?this.parent._root():this},waitFor:function(t){var e=this._root();if(t=Nt.resolve(t),e._waitingFor)e._waitingFor=e._waitingFor.then(function(){return t});else{e._waitingFor=t,e._waitingQueue=[];var n=e.idbtrans.objectStore(e.storeNames[0]);!function t(){for(++e._spinCount;e._waitingQueue.length;)e._waitingQueue.shift()();e._waitingFor&&(n.get(-1/0).onsuccess=t)}()}var r=e._waitingFor;return new Nt(function(n,o){t.then(function(t){return e._waitingQueue.push(Yt(n.bind(null,t)))},function(t){return e._waitingQueue.push(Yt(o.bind(null,t)))}).finally(function(){e._waitingFor===r&&(e._waitingFor=null)})})},abort:function(){this.active&&this._reject(new X.Abort),this.active=!1},tables:{get:(l="Transaction.tables",p=function(){return j},function(){return console.warn(l+" is deprecated. See https://github.com/dfahlander/Dexie.js/wiki/Deprecations. "+U(L(),1)),p.apply(this,arguments)})},table:function(t){return new ht(t,W.table(t).schema,this)}}),f(mt.prototype,function(){function t(t,e,n){var r=t instanceof mt?new wt(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function e(t){return new wt(t,function(){return R.only("")}).limit(0)}function n(t,e,n,r,o,i){for(var a=Math.min(t.length,r.length),s=-1,u=0;u<a;++u){var c=e[u];if(c!==r[u])return o(t[u],n[u])<0?t.substr(0,u)+n[u]+n.substr(u+1):o(t[u],r[u])<0?t.substr(0,u)+r[u]+n.substr(u+1):s>=0?t.substr(0,s)+e[s]+n.substr(s+1):null;o(t[u],c)<0&&(s=u)}return a<r.length&&"next"===i?t+n.substr(t.length):a<t.length&&"prev"===i?t.substr(0,n.length):s<0?null:t.substr(0,s)+r[s]+n.substr(s+1)}function r(e,r,o,i){var a,s,u,c,f,l,h,p=o.length;if(!o.every(function(t){return"string"==typeof t}))return t(e,ye);function d(t){a=function(t){return"next"===t?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}(t),s=function(t){return"next"===t?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}(t),u="next"===t?Tt:Pt;var e=o.map(function(t){return{lower:s(t),upper:a(t)}}).sort(function(t,e){return u(t.lower,e.lower)});c=e.map(function(t){return t.upper}),f=e.map(function(t){return t.lower}),l=t,h="next"===t?"":i}d("next");var v=new wt(e,function(){return R.bound(c[0],f[p-1]+i)});v._ondirectionchange=function(t){d(t)};var g=0;return v._addAlgorithm(function(t,e,o){var i=t.key;if("string"!=typeof i)return!1;var a=s(i);if(r(a,f,g))return!0;for(var d=null,v=g;v<p;++v){var y=n(i,a,c[v],f[v],u,l);null===y&&null===d?g=v+1:(null===d||u(d,y)>0)&&(d=y)}return e(null!==d?function(){t.continue(d+h)}:o),!1}),v}return{between:function(n,r,o,i){o=!1!==o,i=!0===i;try{return At(n,r)>0||0===At(n,r)&&(o||i)&&(!o||!i)?e(this):new wt(this,function(){return R.bound(n,r,!o,!i)})}catch(e){return t(this,ge)}},equals:function(t){return new wt(this,function(){return R.only(t)})},above:function(t){return new wt(this,function(){return R.lowerBound(t,!0)})},aboveOrEqual:function(t){return new wt(this,function(){return R.lowerBound(t)})},below:function(t){return new wt(this,function(){return R.upperBound(t,!0)})},belowOrEqual:function(t){return new wt(this,function(){return R.upperBound(t)})},startsWith:function(e){return"string"!=typeof e?t(this,ye):this.between(e,e+pe,!0,!0)},startsWithIgnoreCase:function(t){return""===t?this.startsWith(t):r(this,function(t,e){return 0===t.indexOf(e[0])},[t],pe)},equalsIgnoreCase:function(t){return r(this,function(t,e){return t===e[0]},[t],"")},anyOfIgnoreCase:function(){var t=B.apply(D,arguments);return 0===t.length?e(this):r(this,function(t,e){return-1!==e.indexOf(t)},t,"")},startsWithAnyOfIgnoreCase:function(){var t=B.apply(D,arguments);return 0===t.length?e(this):r(this,function(t,e){return e.some(function(e){return 0===t.indexOf(e)})},t,pe)},anyOf:function(){var n=B.apply(D,arguments),r=St;try{n.sort(r)}catch(e){return t(this,ge)}if(0===n.length)return e(this);var o=new wt(this,function(){return R.bound(n[0],n[n.length-1])});o._ondirectionchange=function(t){r="next"===t?St:Et,n.sort(r)};var i=0;return o._addAlgorithm(function(t,e,o){for(var a=t.key;r(a,n[i])>0;)if(++i===n.length)return e(o),!1;return 0===r(a,n[i])||(e(function(){t.continue(n[i])}),!1)}),o},notEqual:function(t){return this.inAnyRange([[ve,t],[t,de]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var e=B.apply(D,arguments);if(0===e.length)return new wt(this);try{e.sort(St)}catch(e){return t(this,ge)}var n=e.reduce(function(t,e){return t?t.concat([[t[t.length-1][1],e]]):[[ve,e]]},null);return n.push([e[e.length-1],de]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,r){if(0===n.length)return e(this);if(!n.every(function(t){return void 0!==t[0]&&void 0!==t[1]&&St(t[0],t[1])<=0}))return t(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);var o=!r||!1!==r.includeLowers,i=r&&!0===r.includeUppers;var a,s=St;function u(t,e){return s(t[0],e[0])}try{(a=n.reduce(function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(At(e[0],o[1])<0&&At(e[1],o[0])>0){o[0]=(i=o[0],a=e[0],At(i,a)<0?i:a),o[1]=Ct(o[1],e[1]);break}}var i,a;return n===r&&t.push(e),t},[])).sort(u)}catch(e){return t(this,ge)}var c=0,f=i?function(t){return St(t,a[c][1])>0}:function(t){return St(t,a[c][1])>=0},l=o?function(t){return Et(t,a[c][0])>0}:function(t){return Et(t,a[c][0])>=0};var h=f,p=new wt(this,function(){return R.bound(a[0][0],a[a.length-1][1],!o,!i)});return p._ondirectionchange=function(t){"next"===t?(h=f,s=St):(h=l,s=Et),a.sort(u)},p._addAlgorithm(function(t,e,n){for(var r=t.key;h(r);)if(++c===a.length)return e(n),!1;return!!function(t){return!f(t)&&!l(t)}(r)||0!==At(r,a[c][1])&&0!==At(r,a[c][0])&&(e(function(){s===St?t.continue(a[c][0]):t.continue(a[c][1])}),!1)}),p},startsWithAnyOf:function(){var n=B.apply(D,arguments);return n.every(function(t){return"string"==typeof t})?0===n.length?e(this):this.inAnyRange(n.map(function(t){return[t,t+pe]})):t(this,"startsWithAnyOf() only works with strings")}}}),f(wt.prototype,function(){function t(t,e){t.filter=Rt(t.filter,e)}function e(t,e,n){var r=t.replayFilter;t.replayFilter=r?function(){return Rt(r(),e())}:e,t.justLimit=n&&!r}function n(t,e){if(t.isPrimKey)return e;var n=t.table.schema.idxByName[t.index];if(!n)throw new X.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return e.index(n.name)}function o(t,e){var r=n(t,e);return t.keysOnly&&"openKeyCursor"in r?r.openKeyCursor(t.range||null,t.dir+t.unique):r.openCursor(t.range||null,t.dir+t.unique)}function i(t,e,n,r,i){var a=t.replayFilter?Rt(t.filter,t.replayFilter()):t.filter;t.or?function(){var s={},u=0;function f(){2==++u&&n()}function l(t,n,o){if(!a||a(n,o,f,r)){var i=n.primaryKey,u=""+i;"[object ArrayBuffer]"===u&&(u=""+new Uint8Array(i)),c(s,u)||(s[u]=!0,e(t,n,o))}}t.or._iterate(l,f,r,i),_t(o(t,i),t.algorithm,l,f,r,!t.keysOnly&&t.valueMapper)}():_t(o(t,i),Rt(t.algorithm,a),e,n,r,!t.keysOnly&&t.valueMapper)}return{_read:function(t,e){var n=this._ctx;return n.error?n.table._trans(null,fe.bind(null,n.error)):n.table._idbstore("readonly",t).then(e)},_write:function(t){var e=this._ctx;return e.error?e.table._trans(null,fe.bind(null,e.error)):e.table._idbstore(V,t,"locked")},_addAlgorithm:function(t){var e=this._ctx;e.algorithm=Rt(e.algorithm,t)},_iterate:function(t,e,n,r){return i(this._ctx,t,e,n,r)},clone:function(t){var e=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&a(n,t),e._ctx=n,e},raw:function(){return this._ctx.valueMapper=null,this},each:function(t){var e=this._ctx;return this._read(function(n,r,o){i(e,t,n,r,o)})},count:function(t){var e=this._ctx;if(bt(e,!0))return this._read(function(t,r,o){var i=n(e,o),a=e.range?i.count(e.range):i.count();a.onerror=Se(r),a.onsuccess=function(n){t(Math.min(n.target.result,e.limit))}},t);var r=0;return this._read(function(t,n,o){i(e,function(){return++r,!1},function(){t(r)},n,o)},t)},sortBy:function(t,e){var n=t.split(".").reverse(),r=n[0],o=n.length-1;function i(t,e){return e?i(t[n[e]],e-1):t[r]}var a="next"===this._ctx.dir?1:-1;function s(t,e){var n=i(t,o),r=i(e,o);return n<r?-a:n>r?a:0}return this.toArray(function(t){return t.sort(s)}).then(e)},toArray:function(t){var e=this._ctx;return this._read(function(t,r,o){if(u&&"next"===e.dir&&bt(e,!0)&&e.limit>0){var a=e.table.hook.reading.fire,s=n(e,o),c=e.limit<1/0?s.getAll(e.range,e.limit):s.getAll(e.range);c.onerror=Se(r),c.onsuccess=Ee(a===Q?t:function(e){try{t(e.map(a))}catch(t){r(t)}})}else{var f=[];i(e,function(t){f.push(t)},function(){t(f)},r,o)}},t)},offset:function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,bt(n)?e(n,function(){var e=t;return function(t,n){return 0===e||(1===e?(--e,!1):(n(function(){t.advance(e),e=0}),!1))}}):e(n,function(){var e=t;return function(){return--e<0}}),this)},limit:function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),e(this._ctx,function(){var e=t;return function(t,n,r){return--e<=0&&n(r),e>=0}},!0),this},until:function(e,n){return t(this._ctx,function(t,r,o){return!e(t.value)||(r(o),n)}),this},first:function(t){return this.limit(1).toArray(function(t){return t[0]}).then(t)},last:function(t){return this.reverse().first(t)},filter:function(e){return t(this._ctx,function(t){return e(t.value)}),function(t,e){t.isMatch=Rt(t.isMatch,e)}(this._ctx,e),this},and:function(t){return this.filter(t)},or:function(t){return new mt(this._ctx.table,t,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.key,n)})},eachUniqueKey:function(t){return this._ctx.unique="unique",this.eachKey(t)},eachPrimaryKey:function(t){var e=this._ctx;return e.keysOnly=!e.isMatch,this.each(function(e,n){t(n.primaryKey,n)})},keys:function(t){var e=this._ctx;e.keysOnly=!e.isMatch;var n=[];return this.each(function(t,e){n.push(e.key)}).then(function(){return n}).then(t)},primaryKeys:function(t){var e=this._ctx;if(u&&"next"===e.dir&&bt(e,!0)&&e.limit>0)return this._read(function(t,r,o){var i=n(e,o),a=e.limit<1/0?i.getAllKeys(e.range,e.limit):i.getAllKeys(e.range);a.onerror=Se(r),a.onsuccess=Ee(t)}).then(t);e.keysOnly=!e.isMatch;var r=[];return this.each(function(t,e){r.push(e.primaryKey)}).then(function(){return r}).then(t)},uniqueKeys:function(t){return this._ctx.unique="unique",this.keys(t)},firstKey:function(t){return this.limit(1).keys(function(t){return t[0]}).then(t)},lastKey:function(t){return this.reverse().firstKey(t)},distinct:function(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return t(this._ctx,function(t){var e=t.primaryKey.toString(),n=c(r,e);return r[e]=!0,!n}),this},modify:function(t){var e=this,n=this._ctx.table.hook,o=n.updating.fire,i=n.deleting.fire;return this._write(function(n,s,u,f){var l;if("function"==typeof t)l=o===$&&i===$?t:function(e){var n=T(e);if(!1===t.call(this,e,this))return!1;if(c(this,"value")){var a=P(n,this.value),s=o.call(this,a,this.primKey,n,f);s&&(e=this.value,r(s).forEach(function(t){A(e,t,s[t])}))}else i.call(this,this.primKey,e,f)};else if(o===$){var h=r(t),p=h.length;l=function(e){for(var n=!1,r=0;r<p;++r){var o=h[r],i=t[o];_(e,o)!==i&&(A(e,o,i),n=!0)}return n}}else{var d=t;t=C(d),l=function(e){var n=!1,i=o.call(this,t,this.primKey,T(e),f);return i&&a(t,i),r(t).forEach(function(r){var o=t[r];_(e,r)!==o&&(A(e,r,o),n=!0)}),i&&(t=C(d)),n}}var v=0,g=0,y=!1,m=[],w=[],b=null;function x(t){return t&&(m.push(t),w.push(b)),s(new Y("Error modifying one or more objects",m,g,w))}function S(){y&&g+m.length===v&&(m.length>0?x():n(g))}e.clone().raw()._iterate(function(t,e){b=e.primaryKey;var n={primKey:e.primaryKey,value:t,onsuccess:null,onerror:null};function r(t){return m.push(t),w.push(n.primKey),S(),!0}if(!1!==l.call(n,t,n)){var o=!c(n,"value");++v,k(function(){var t=o?e.delete():e.update(n.value);t._hookCtx=n,t.onerror=Ie(r),t.onsuccess=Ce(function(){++g,S()})},r)}else n.onsuccess&&n.onsuccess(n.value)},function(){y=!0,S()},x,u)})},delete:function(){var t=this,e=this._ctx,n=e.range,r=e.table.hook.deleting.fire,o=r!==$;if(!o&&bt(e)&&(e.isPrimKey&&!xe||!n))return this._write(function(t,e,r){var o=Se(e),i=n?r.count(n):r.count();i.onerror=o,i.onsuccess=function(){var a=i.result;k(function(){var e=n?r.delete(n):r.clear();e.onerror=o,e.onsuccess=function(){return t(a)}},function(t){return e(t)})}});var i=o?2e3:1e4;return this._write(function(n,a,s,u){var c=0,f=t.clone({keysOnly:!e.isMatch&&!o}).distinct().limit(i).raw(),l=[],h=function(){return f.each(o?function(t,e){l.push([e.primaryKey,e.value])}:function(t,e){l.push(e.primaryKey)}).then(function(){return o?l.sort(function(t,e){return St(t[0],e[0])}):l.sort(St),dt(s,u,l,o,r)}).then(function(){var t=l.length;return c+=t,l=[],t<i?c:h()})};n(h())})}}}),a(this,{Collection:wt,Table:ht,Transaction:yt,Version:ut,WhereClause:mt}),W.on("versionchange",function(t){t.newVersion>0?console.warn("Another connection wants to upgrade database '"+W.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+W.name+"'. Closing db now to resume the delete request."),W.close()}),W.on("blocked",function(t){!t.newVersion||t.newVersion<t.oldVersion?console.warn("Dexie.delete('"+W.name+"') was blocked"):console.warn("Upgrade '"+W.name+"' blocked by other connection holding version "+t.oldVersion/10)}),w.forEach(function(t){t(W)})}function Ae(t,e){return r(e).forEach(function(n){var r=function t(e){if("function"==typeof e)return new e;if(o(e))return[t(e[0])];if(e&&"object"==typeof e){var n={};return Ae(n,e),n}return e}(e[n]);t[n]=r}),t}function Ce(t){return Yt(function(e){var n=e.target,r=n._hookCtx,o=r.value||n.result,i=r&&r.onsuccess;i&&i(o),t&&t(o)},t)}function Se(t){return Yt(function(e){return Te(e),t(e.target.error),!1})}function Ee(t){return Yt(function(e){t(e.target.result)})}function Ie(t){return Yt(function(e){var n=e.target,r=n.error,o=n._hookCtx,i=o&&o.onerror;return i&&i(r),Te(e),t(r),!1})}function Te(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}function Pe(t){var e=function(e){return t.next(e)},n=i(e),r=i(function(e){return t.throw(e)});function i(t){return function(e){var i=t(e),a=i.value;return i.done?a:a&&"function"==typeof a.then?a.then(n,r):o(a)?Nt.all(a).then(n,r):n(a)}}return i(e)()}function Re(t,e,n,r,o,i,a){this.name=t,this.keyPath=e,this.unique=n,this.multi=r,this.auto=o,this.compound=i,this.dotted=a;var s="string"==typeof e?e:e&&"["+[].join.call(e,"+")+"]";this.src=(n?"&":"")+(r?"*":"")+(o?"++":"")+s}function Ne(t,e,n,r){this.name=t,this.primKey=e||new Re,this.indexes=n||[new Re],this.instanceTemplate=r,this.mappedClass=null,this.idxByName=b(n,function(t){return[t.name,t]})}function De(t){return 1===t.length?t[0]:t}function Be(t){var e=t&&(t.getDatabaseNames||t.webkitGetDatabaseNames);return e&&e.bind(t)}F(O,ke),f(_e,Z),f(_e,{delete:function(t){var e=new _e(t),n=e.delete();return n.onblocked=function(t){return e.on("blocked",t),this},n},exists:function(t){return new _e(t).open().then(function(t){return t.close(),!0}).catch(_e.NoSuchDatabaseError,function(){return!1})},getDatabaseNames:function(t){var e=Be(_e.dependencies.indexedDB);return e?new Nt(function(t,n){var r=e();r.onsuccess=function(e){t(g(e.target.result,0))},r.onerror=Se(n)}).then(t):he.dbnames.toCollection().primaryKeys(t)},defineClass:function(){return function(t){t&&a(this,t)}},applyStructure:Ae,ignoreTransaction:function(t){return It.trans?ie(It.transless,t):t()},vip:function(t){return $t(function(){return It.letThrough=!0,t()})},async:function(t){return function(){try{var e=Pe(t.apply(this,arguments));return e&&"function"==typeof e.then?e:Nt.resolve(e)}catch(t){return fe(t)}}},spawn:function(t,e,n){try{var r=Pe(t.apply(n,e||[]));return r&&"function"==typeof r.then?r:Nt.resolve(r)}catch(t){return fe(t)}},currentTransaction:{get:function(){return It.trans||null}},waitFor:function(t,e){var n=Nt.resolve("function"==typeof t?_e.ignoreTransaction(t):t).timeout(e||6e4);return It.trans?It.trans.waitFor(n):n},Promise:Nt,debug:{get:function(){return O},set:function(t){F(t,"dexie"===t?function(){return!0}:ke)}},derive:p,extend:a,props:f,override:y,Events:le,getByKeyPath:_,setByKeyPath:A,delByKeyPath:function(t,e){"string"==typeof e?A(t,e,void 0):"length"in e&&[].map.call(e,function(e){A(t,e,void 0)})},shallowClone:C,deepClone:T,getObjectDiff:P,asap:w,maxKey:de,minKey:ve,addons:[],connections:me,MultiModifyError:X.Modify,errnames:J,IndexSpec:Re,TableSchema:Ne,dependencies:function(){try{return{indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch(t){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:"{version}",version:"{version}".split(".").map(function(t){return parseInt(t)}).reduce(function(t,e,n){return t+e/Math.pow(10,2*n)}),default:_e,Dexie:_e}),Nt.rejectionMapper=function(t,e){if(!t||t instanceof G||t instanceof TypeError||t instanceof SyntaxError||!t.name||!W[t.name])return t;var n=new W[t.name](e||t.message,t);return"stack"in t&&h(n,"stack",{get:function(){return this.inner.stack}}),n},(he=new _e("__dbnames")).version(1).stores({dbnames:"name"}),function(){try{void 0!==typeof localStorage&&void 0!==i.document&&(JSON.parse(localStorage.getItem("Dexie.DatabaseNames")||"[]").forEach(function(t){return he.dbnames.put({name:t}).catch($)}),localStorage.removeItem("Dexie.DatabaseNames"))}catch(t){}}(),e.a=_e}).call(this,n(40),n(251).setImmediate)},function(t,e,n){var r=n(253),o=n(254);t.exports={exportToJsonString:function(t,e){var n={};if(0===t.objectStoreNames.length)e(null,JSON.stringify(n));else{var i=t.transaction(t.objectStoreNames,"readonly");i.onerror=function(t){e(t,null)},r(t.objectStoreNames,function(r){var a=[];i.objectStore(r).openCursor().onsuccess=function(i){var s=i.target.result;s?(a.push(s.value),s.continue()):(n[r]=a,t.objectStoreNames.length===o(n).length&&e(null,JSON.stringify(n)))}})}},importFromJsonString:function(t,e,n){var i=t.transaction(t.objectStoreNames,"readwrite");i.onerror=function(t){n(t)};var a=JSON.parse(e);r(t.objectStoreNames,function(t){var e=0;r(a[t],function(r){i.objectStore(t).add(r).onsuccess=function(r){++e===a[t].length&&(delete a[t],0===o(a).length&&n(null))}})})},clearDatabase:function(t,e){var n=t.transaction(t.objectStoreNames,"readwrite");n.onerror=function(t){e(t)};var o=0;r(t.objectStoreNames,function(r){n.objectStore(r).clear().onsuccess=function(){++o===t.objectStoreNames.length&&e(null)}})}}},function(t,e,n){t.exports=!n(19)&&!n(22)(function(){return 7!=Object.defineProperty(n(57)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){t.exports=n(21)},function(t,e,n){var r=n(24),o=n(25),i=n(134)(!1),a=n(60)("IE_PROTO");t.exports=function(t,e){var n,s=o(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(35);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,n){var r=n(6).document;t.exports=r&&r.documentElement},function(t,e,n){var r=n(24),o=n(37),i=n(60)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var r=n(18),o=n(23),i=n(10)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r,o,i,a=n(20),s=n(91),u=n(86),c=n(57),f=n(6),l=f.process,h=f.setImmediate,p=f.clearImmediate,d=f.MessageChannel,v=f.Dispatch,g=0,y={},m=function(){var t=+this;if(y.hasOwnProperty(t)){var e=y[t];delete y[t],e()}},w=function(t){m.call(t.data)};h&&p||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return y[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},p=function(t){delete y[t]},"process"==n(35)(l)?r=function(t){l.nextTick(a(m,t,1))}:v&&v.now?r=function(t){v.now(a(m,t,1))}:d?(i=(o=new d).port2,o.port1.onmessage=w,r=a(i.postMessage,i,1)):f.addEventListener&&"function"==typeof postMessage&&!f.importScripts?(r=function(t){f.postMessage(t+"","*")},f.addEventListener("message",w,!1)):r="onreadystatechange"in c("script")?function(t){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:h,clear:p}},function(t,e){t.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,n){var r=n(18),o=n(9),i=n(66);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(6),o=n(4),i=n(17),a=n(19),s=n(10)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:r[t];a&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(6),o=n(24),i=n(19),a=n(7),s=n(83),u=n(45).KEY,c=n(22),f=n(61),l=n(36),h=n(44),p=n(10),d=n(68),v=n(69),g=n(154),y=n(97),m=n(18),w=n(9),b=n(37),x=n(25),k=n(58),_=n(42),A=n(34),C=n(155),S=n(71),E=n(96),I=n(17),T=n(43),P=S.f,R=I.f,N=C.f,D=r.Symbol,B=r.JSON,O=B&&B.stringify,F=p("_hidden"),M=p("toPrimitive"),j={}.propertyIsEnumerable,L=f("symbol-registry"),U=f("symbols"),q=f("op-symbols"),z=Object.prototype,K="function"==typeof D&&!!E.f,G=r.QObject,Y=!G||!G.prototype||!G.prototype.findChild,H=i&&c(function(){return 7!=A(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=P(z,e);r&&delete z[e],R(t,e,n),r&&t!==z&&R(z,e,r)}:R,J=function(t){var e=U[t]=A(D.prototype);return e._k=t,e},V=K&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},X=function(t,e,n){return t===z&&X(q,e,n),m(t),e=k(e,!0),m(n),o(U,e)?(n.enumerable?(o(t,F)&&t[F][e]&&(t[F][e]=!1),n=A(n,{enumerable:_(0,!1)})):(o(t,F)||R(t,F,_(1,{})),t[F][e]=!0),H(t,e,n)):R(t,e,n)},W=function(t,e){m(t);for(var n,r=g(e=x(e)),o=0,i=r.length;i>o;)X(t,n=r[o++],e[n]);return t},Z=function(t){var e=j.call(this,t=k(t,!0));return!(this===z&&o(U,t)&&!o(q,t))&&(!(e||!o(this,t)||!o(U,t)||o(this,F)&&this[F][t])||e)},$=function(t,e){if(t=x(t),e=k(e,!0),t!==z||!o(U,e)||o(q,e)){var n=P(t,e);return!n||!o(U,e)||o(t,F)&&t[F][e]||(n.enumerable=!0),n}},Q=function(t){for(var e,n=N(x(t)),r=[],i=0;n.length>i;)o(U,e=n[i++])||e==F||e==u||r.push(e);return r},tt=function(t){for(var e,n=t===z,r=N(n?q:x(t)),i=[],a=0;r.length>a;)!o(U,e=r[a++])||n&&!o(z,e)||i.push(U[e]);return i};K||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=h(arguments.length>0?arguments[0]:void 0),e=function(n){this===z&&e.call(q,n),o(this,F)&&o(this[F],t)&&(this[F][t]=!1),H(this,t,_(1,n))};return i&&Y&&H(z,t,{configurable:!0,set:e}),J(t)}).prototype,"toString",function(){return this._k}),S.f=$,I.f=X,n(98).f=C.f=Q,n(70).f=Z,E.f=tt,i&&!n(32)&&s(z,"propertyIsEnumerable",Z,!0),d.f=function(t){return J(p(t))}),a(a.G+a.W+a.F*!K,{Symbol:D});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)p(et[nt++]);for(var rt=T(p.store),ot=0;rt.length>ot;)v(rt[ot++]);a(a.S+a.F*!K,"Symbol",{for:function(t){return o(L,t+="")?L[t]:L[t]=D(t)},keyFor:function(t){if(!V(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){Y=!0},useSimple:function(){Y=!1}}),a(a.S+a.F*!K,"Object",{create:function(t,e){return void 0===e?A(t):W(A(t),e)},defineProperty:X,defineProperties:W,getOwnPropertyDescriptor:$,getOwnPropertyNames:Q,getOwnPropertySymbols:tt});var it=c(function(){E.f(1)});a(a.S+a.F*it,"Object",{getOwnPropertySymbols:function(t){return E.f(b(t))}}),B&&a(a.S+a.F*(!K||c(function(){var t=D();return"[null]"!=O([t])||"{}"!=O({a:t})||"{}"!=O(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=e=r[1],(w(e)||void 0!==t)&&!V(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!V(e))return e}),r[1]=e,O.apply(B,r)}}),D.prototype[M]||n(21)(D.prototype,M,D.prototype.valueOf),l(D,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(35);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(84),o=n(62).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){t.exports=n(162)},function(t,e,n){t.exports=n(165)},function(t,e,n){var r=n(9);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(15),o=n(209),i=n(211),a=n(212),s=n(213),u=n(105);t.exports=function(t){return new Promise(function(e,c){var f=t.data,l=t.headers;r.isFormData(f)&&delete l["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",d=t.auth.password||"";l.Authorization="Basic "+btoa(p+":"+d)}if(h.open(t.method.toUpperCase(),i(t.url,t.params,t.paramsSerializer),!0),h.timeout=t.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:t,request:h};o(e,c,r),h=null}},h.onerror=function(){c(u("Network Error",t,null,h)),h=null},h.ontimeout=function(){c(u("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=n(214),g=(t.withCredentials||s(t.url))&&t.xsrfCookieName?v.read(t.xsrfCookieName):void 0;g&&(l[t.xsrfHeaderName]=g)}if("setRequestHeader"in h&&r.forEach(l,function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete l[e]:h.setRequestHeader(e,t)}),t.withCredentials&&(h.withCredentials=!0),t.responseType)try{h.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&h.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then(function(t){h&&(h.abort(),c(t),h=null)}),void 0===f&&(f=null),h.send(f)})}},function(t,e,n){"use strict";var r=n(210);t.exports=function(t,e,n,o,i){var a=new Error(t);return r(a,e,n,o,i)}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e=t,o=t.indexOf("["),i=t.indexOf("]");-1!=o&&-1!=i&&(t=t.substring(0,o)+t.substring(o,i).replace(/:/g,";")+t.substring(i,t.length));for(var a=n.exec(t||""),s={},u=14;u--;)s[r[u]]=a[u]||"";return-1!=o&&-1!=i&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){(function(e){t.exports=function(t){return n&&e.isBuffer(t)||r&&(t instanceof ArrayBuffer||o(t))};var n="function"==typeof e&&"function"==typeof e.isBuffer,r="function"==typeof ArrayBuffer,o=function(t){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer}}).call(this,n(75).Buffer)},function(t,e,n){var r=n(232),o=n(117),i=n(29),a=n(74),s=n(118),u=n(119),c=n(47)("socket.io-client:manager"),f=n(116),l=n(249),h=Object.prototype.hasOwnProperty;function p(t,e){if(!(this instanceof p))return new p(t,e);t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.nsps={},this.subs=[],this.opts=e,this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(e.randomizationFactor||.5),this.backoff=new l({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this.readyState="closed",this.uri=t,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=e.parser||a;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==e.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var t in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,t)&&this.nsps[t].emit.apply(this.nsps[t],arguments)},p.prototype.updateSocketIds=function(){for(var t in this.nsps)h.call(this.nsps,t)&&(this.nsps[t].id=this.generateId(t))},p.prototype.generateId=function(t){return("/"===t?"":t+"#")+this.engine.id},i(p.prototype),p.prototype.reconnection=function(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection},p.prototype.reconnectionAttempts=function(t){return arguments.length?(this._reconnectionAttempts=t,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(t){return arguments.length?(this._reconnectionDelay=t,this.backoff&&this.backoff.setMin(t),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(t){return arguments.length?(this._randomizationFactor=t,this.backoff&&this.backoff.setJitter(t),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(t){return arguments.length?(this._reconnectionDelayMax=t,this.backoff&&this.backoff.setMax(t),this):this._reconnectionDelayMax},p.prototype.timeout=function(t){return arguments.length?(this._timeout=t,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(t,e){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var i=s(n,"open",function(){o.onopen(),t&&t()}),a=s(n,"error",function(e){if(c("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",e),t){var n=new Error("Connection error");n.data=e,t(n)}else o.maybeReconnectOnOpen()});if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u);var f=setTimeout(function(){c("connect attempt timed out after %d",u),i.destroy(),n.close(),n.emit("error","timeout"),o.emitAll("connect_timeout",u)},u);this.subs.push({destroy:function(){clearTimeout(f)}})}return this.subs.push(i),this.subs.push(a),this},p.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var t=this.engine;this.subs.push(s(t,"data",u(this,"ondata"))),this.subs.push(s(t,"ping",u(this,"onping"))),this.subs.push(s(t,"pong",u(this,"onpong"))),this.subs.push(s(t,"error",u(this,"onerror"))),this.subs.push(s(t,"close",u(this,"onclose"))),this.subs.push(s(this.decoder,"decoded",u(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(t){this.decoder.add(t)},p.prototype.ondecoded=function(t){this.emit("packet",t)},p.prototype.onerror=function(t){c("error",t),this.emitAll("error",t)},p.prototype.socket=function(t,e){var n=this.nsps[t];if(!n){n=new o(this,t,e),this.nsps[t]=n;var r=this;n.on("connecting",i),n.on("connect",function(){n.id=r.generateId(t)}),this.autoConnect&&i()}function i(){~f(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(t){var e=f(this.connecting,t);~e&&this.connecting.splice(e,1),this.connecting.length||this.close()},p.prototype.packet=function(t){c("writing packet %j",t);var e=this;t.query&&0===t.type&&(t.nsp+="?"+t.query),e.encoding?e.packetBuffer.push(t):(e.encoding=!0,this.encoder.encode(t,function(n){for(var r=0;r<n.length;r++)e.engine.write(n[r],t.options);e.encoding=!1,e.processPacketQueue()}))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var t=this.packetBuffer.shift();this.packet(t)}},p.prototype.cleanup=function(){c("cleanup");for(var t=this.subs.length,e=0;e<t;e++){this.subs.shift().destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(t){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var e=this.backoff.duration();c("will wait %dms before reconnect attempt",e),this.reconnecting=!0;var n=setTimeout(function(){t.skipReconnect||(c("attempting reconnect"),t.emitAll("reconnect_attempt",t.backoff.attempts),t.emitAll("reconnecting",t.backoff.attempts),t.skipReconnect||t.open(function(e){e?(c("reconnect attempt error"),t.reconnecting=!1,t.reconnect(),t.emitAll("reconnect_error",e.data)):(c("reconnect success"),t.onreconnect())}))},e);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var t=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",t)}},function(t,e,n){var r=n(76),o=n(235),i=n(245),a=n(246);e.polling=function(t){var e=!1,n=!1,a=!1!==t.jsonp;if("undefined"!=typeof location){var s="https:"===location.protocol,u=location.port;u||(u=s?443:80),e=t.hostname!==location.hostname||u!==t.port,n=t.secure!==s}if(t.xdomain=e,t.xscheme=n,"open"in new r(t)&&!t.forceJSONP)return new o(t);if(!a)throw new Error("JSONP disabled");return new i(t)},e.websocket=a},function(t,e,n){var r=n(77),o=n(48),i=n(30),a=n(49),s=n(115),u=n(50)("engine.io-client:polling");t.exports=f;var c=null!=new(n(76))({xdomain:!1}).responseType;function f(t){var e=t&&t.forceBase64;c&&!e||(this.supportsBinary=!1),r.call(this,t)}a(f,r),f.prototype.name="polling",f.prototype.doOpen=function(){this.poll()},f.prototype.pause=function(t){var e=this;function n(){u("paused"),e.readyState="paused",t()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){u("pre-pause polling complete"),--r||n()})),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",function(){u("pre-pause writing complete"),--r||n()}))}else n()},f.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},f.prototype.onData=function(t){var e=this;u("polling got data %s",t);i.decodePayload(t,this.socket.binaryType,function(t,n,r){if("opening"===e.readyState&&e.onOpen(),"close"===t.type)return e.onClose(),!1;e.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},f.prototype.doClose=function(){var t=this;function e(){u("writing close packet"),t.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),e()):(u("transport not open - deferring close"),this.once("open",e))},f.prototype.write=function(t){var e=this;this.writable=!1;var n=function(){e.writable=!0,e.emit("drain")};i.encodePayload(t,this.supportsBinary,function(t){e.doWrite(t,n)})},f.prototype.uri=function(){var t=this.query||{},e=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(t[this.timestampParam]=s()),this.supportsBinary||t.sid||(t.b64=1),t=o.encode(t),this.port&&("https"===e&&443!==Number(this.port)||"http"===e&&80!==Number(this.port))&&(n=":"+this.port),t.length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t}},function(t,e,n){(function(e){var r=n(237),o=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.exports=function t(n){if(!n||"object"!=typeof n)return!1;if(r(n)){for(var o=0,s=n.length;o<s;o++)if(t(n[o]))return!0;return!1}if("function"==typeof e&&e.isBuffer&&e.isBuffer(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||i&&n instanceof Blob||a&&n instanceof File)return!0;if(n.toJSON&&"function"==typeof n.toJSON&&1===arguments.length)return t(n.toJSON(),!0);for(var u in n)if(Object.prototype.hasOwnProperty.call(n,u)&&t(n[u]))return!0;return!1}}).call(this,n(75).Buffer)},function(t,e,n){"use strict";var r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,a={},s=0,u=0;function c(t){var e="";do{e=o[t%i]+e,t=Math.floor(t/i)}while(t>0);return e}function f(){var t=c(+new Date);return t!==r?(s=0,r=t):t+"."+c(s++)}for(;u<i;u++)a[o[u]]=u;f.encode=c,f.decode=function(t){var e=0;for(u=0;u<t.length;u++)e=e*i+a[t.charAt(u)];return e},t.exports=f},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){var r=n(74),o=n(29),i=n(248),a=n(118),s=n(119),u=n(47)("socket.io-client:socket"),c=n(48),f=n(114);t.exports=p;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=o.prototype.emit;function p(t,e,n){this.io=t,this.nsp=e,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}o(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var t=this.io;this.subs=[a(t,"open",s(this,"onopen")),a(t,"packet",s(this,"onpacket")),a(t,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var t=i(arguments);return t.unshift("message"),this.emit.apply(this,t),this},p.prototype.emit=function(t){if(l.hasOwnProperty(t))return h.apply(this,arguments),this;var e=i(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:f(e))?r.BINARY_EVENT:r.EVENT,data:e,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=e.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(t){t.nsp=this.nsp,this.io.packet(t)},p.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var t="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",t),this.packet({type:r.CONNECT,query:t})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(t){u("close (%s)",t),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",t)},p.prototype.onpacket=function(t){var e=t.nsp===this.nsp,n=t.type===r.ERROR&&"/"===t.nsp;if(e||n)switch(t.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(t);break;case r.ACK:case r.BINARY_ACK:this.onack(t);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",t.data)}},p.prototype.onevent=function(t){var e=t.data||[];u("emitting event %j",e),null!=t.id&&(u("attaching ack callback to event"),e.push(this.ack(t.id))),this.connected?h.apply(this,e):this.receiveBuffer.push(e)},p.prototype.ack=function(t){var e=this,n=!1;return function(){if(!n){n=!0;var o=i(arguments);u("sending ack %j",o),e.packet({type:f(o)?r.BINARY_ACK:r.ACK,id:t,data:o})}}},p.prototype.onack=function(t){var e=this.acks[t.id];"function"==typeof e?(u("calling ack %s with %j",t.id,t.data),e.apply(this,t.data),delete this.acks[t.id]):u("bad ack %s",t.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var t;for(t=0;t<this.receiveBuffer.length;t++)h.apply(this,this.receiveBuffer[t]);for(this.receiveBuffer=[],t=0;t<this.sendBuffer.length;t++)this.packet(this.sendBuffer[t]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var t=0;t<this.subs.length;t++)this.subs[t].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(t){return this.flags.compress=t,this},p.prototype.binary=function(t){return this.flags.binary=t,this}},function(t,e){t.exports=function(t,e,n){return t.on(e,n),{destroy:function(){t.removeListener(e,n)}}}},function(t,e){var n=[].slice;t.exports=function(t,e){if("string"==typeof e&&(e=t[e]),"function"!=typeof e)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return e.apply(t,r.concat(n.call(arguments)))}}},function(t,e,n){var r=n(79),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];e.getBlocksCount=function(t,e){switch(e){case r.L:return o[4*(t-1)+0];case r.M:return o[4*(t-1)+1];case r.Q:return o[4*(t-1)+2];case r.H:return o[4*(t-1)+3];default:return}},e.getTotalCodewordsCount=function(t,e){switch(e){case r.L:return i[4*(t-1)+0];case r.M:return i[4*(t-1)+1];case r.Q:return i[4*(t-1)+2];case r.H:return i[4*(t-1)+3];default:return}}},function(t,e){e.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}},function(t,e){var n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",r="(?:(?![A-Z0-9 $%*+\\-./:]|"+(n=n.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+";e.KANJI=new RegExp(n,"g"),e.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),e.BYTE=new RegExp(r,"g"),e.NUMERIC=new RegExp("[0-9]+","g"),e.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var o=new RegExp("^"+n+"$"),i=new RegExp("^[0-9]+$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");e.testKanji=function(t){return o.test(t)},e.testNumeric=function(t){return i.test(t)},e.testAlphanumeric=function(t){return a.test(t)}},function(t,e){function n(t){if("string"!=typeof t)throw new Error("Color should be defined as hex string");var e=t.slice().replace("#","").split("");if(e.length<3||5===e.length||e.length>8)throw new Error("Invalid hex color: "+t);3!==e.length&&4!==e.length||(e=Array.prototype.concat.apply([],e.map(function(t){return[t,t]}))),6===e.length&&e.push("F","F");var n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+e.slice(0,6).join("")}}e.getOptions=function(t){t||(t={}),t.color||(t.color={});var e=void 0===t.margin||null===t.margin||t.margin<0?4:t.margin,r=t.width&&t.width>=21?t.width:void 0,o=t.scale||4;return{width:r,scale:r?4:o,margin:e,color:{dark:n(t.color.dark||"#000000ff"),light:n(t.color.light||"#ffffffff")},type:t.type,rendererOpts:t.rendererOpts||{}}},e.getScale=function(t,e){return e.width&&e.width>=t+2*e.margin?e.width/(t+2*e.margin):e.scale},e.getImageWidth=function(t,n){var r=e.getScale(t,n);return Math.floor((t+2*n.margin)*r)},e.qrToImageData=function(t,n,r){for(var o=n.modules.size,i=n.modules.data,a=e.getScale(o,r),s=Math.floor((o+2*r.margin)*a),u=r.margin*a,c=[r.color.light,r.color.dark],f=0;f<s;f++)for(var l=0;l<s;l++){var h=4*(f*s+l),p=r.color.light;if(f>=u&&l>=u&&f<s-u&&l<s-u)p=c[i[Math.floor((f-u)/a)*o+Math.floor((l-u)/a)]?1:0];t[h++]=p.r,t[h++]=p.g,t[h++]=p.b,t[h]=p.a}}},function(t,e,n){var r,o,i=n(188),a=n(189),s=0,u=0;t.exports=function(t,e,n){var c=e&&n||0,f=e||[],l=(t=t||{}).node||r,h=void 0!==t.clockseq?t.clockseq:o;if(null==l||null==h){var p=i();null==l&&(l=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:u+1,g=d-s+(v-u)/1e4;if(g<0&&void 0===t.clockseq&&(h=h+1&16383),(g<0||d>s)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=d,u=v,o=h;var y=(1e4*(268435455&(d+=122192928e5))+v)%4294967296;f[c++]=y>>>24&255,f[c++]=y>>>16&255,f[c++]=y>>>8&255,f[c++]=255&y;var m=d/4294967296*1e4&268435455;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=h>>>8|128,f[c++]=255&h;for(var w=0;w<6;++w)f[c+w]=l[w];return e||a(f)}},function(t,e,n){var r=n(222),o=n(74),i=n(111),a=n(47)("socket.io-client");t.exports=e=u;var s=e.managers={};function u(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o=r(t),u=o.source,c=o.id,f=o.path,l=s[c]&&f in s[c].nsps;return e.forceNew||e["force new connection"]||!1===e.multiplex||l?(a("ignoring socket cache for %s",u),n=i(u,e)):(s[c]||(a("new io instance for %s",u),s[c]=i(u,e)),n=s[c]),o.query&&!e.query&&(e.query=o.query),n.socket(o.path,e)}e.protocol=o.protocol,e.connect=u,e.Manager=n(111),e.Socket=n(117)},function(t,e,n){t.exports=n(250)},function(t,e,n){var r=n(255),o=n(256),i=n(273),a=n(274);function s(t,e,n,i,a){var s=[].slice.call(arguments,1),u=s.length,c="function"==typeof s[u-1];if(!c&&!r())throw new Error("Callback required as last argument");if(!c){if(u<1)throw new Error("Too few arguments provided");return 1===u?(n=e,e=i=void 0):2!==u||e.getContext||(i=n,n=e,e=void 0),new Promise(function(r,a){try{var s=o.create(n,i);r(t(s,e,i))}catch(t){a(t)}})}if(u<2)throw new Error("Too few arguments provided");2===u?(a=n,n=e,e=i=void 0):3===u&&(e.getContext&&void 0===a?(a=i,i=void 0):(a=i,i=n,n=e,e=void 0));try{var f=o.create(n,i);a(null,t(f,e,i))}catch(t){a(t)}}e.create=o.create,e.toCanvas=s.bind(null,i.render),e.toDataURL=s.bind(null,i.renderToDataURL),e.toString=s.bind(null,function(t,e,n){return a.render(t,n)})},function(t,e,n){t.exports=n(275)},function(t,e,n){var r=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),a=new E(r||[]);return i._invoke=function(t,e,n){var r=f;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw i;return T()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=A(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(t,e,n);if("normal"===u.type){if(r=n.done?p:l,u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f="suspendedStart",l="suspendedYield",h="executing",p="completed",d={};function v(){}function g(){}function y(){}var m={};m[i]=function(){return this};var w=Object.getPrototypeOf,b=w&&w(w(I([])));b&&b!==n&&r.call(b,i)&&(m=b);var x=y.prototype=v.prototype=Object.create(m);function k(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(t){var e;this._invoke=function(n,o){function i(){return new Promise(function(e,i){!function e(n,o,i,a){var s=c(t[n],t,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(f).then(function(t){u.value=t,i(u)},function(t){return e("throw",t,i,a)})}a(s.arg)}(n,o,e,i)})}return e=e?e.then(i,i):i()}}function A(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method))return d;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var o=c(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,d;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,d):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,d)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function I(t){if(t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}return{next:T}}function T(){return{value:e,done:!0}}return g.prototype=x.constructor=y,y.constructor=g,y[s]=g.displayName="GeneratorFunction",t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(x),t},t.awrap=function(t){return{__await:t}},k(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(e,n,r,o){var i=new _(u(e,n,r,o));return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},k(x),x[s]="Generator",x[i]=function(){return this},x.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),d}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){n(53),n(54),n(63),n(138),n(145),n(146),t.exports=n(4).Promise},function(t,e,n){var r=n(55),o=n(41);t.exports=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}}},function(t,e,n){"use strict";var r=n(34),o=n(42),i=n(36),a={};n(21)(a,n(10)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:o(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var r=n(17),o=n(18),i=n(43);t.exports=n(19)?Object.defineProperties:function(t,e){o(t);for(var n,a=i(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},function(t,e,n){var r=n(25),o=n(59),i=n(135);t.exports=function(t){return function(e,n,a){var s,u=r(e),c=o(u.length),f=i(a,c);if(t&&n!=n){for(;c>f;)if((s=u[f++])!=s)return!0}else for(;c>f;f++)if((t||f in u)&&u[f]===n)return t||f||0;return!t&&-1}}},function(t,e,n){var r=n(55),o=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?o(t+e,0):i(t,e)}},function(t,e,n){"use strict";var r=n(137),o=n(88),i=n(33),a=n(25);t.exports=n(56)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):o(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,n){"use strict";var r,o,i,a,s=n(32),u=n(6),c=n(20),f=n(64),l=n(7),h=n(9),p=n(23),d=n(65),v=n(38),g=n(89),y=n(90).set,m=n(142)(),w=n(66),b=n(92),x=n(143),k=n(93),_=u.TypeError,A=u.process,C=A&&A.versions,S=C&&C.v8||"",E=u.Promise,I="process"==f(A),T=function(){},P=o=w.f,R=!!function(){try{var t=E.resolve(1),e=(t.constructor={})[n(10)("species")]=function(t){t(T,T)};return(I||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e&&0!==S.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(t){}}(),N=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var r=t._v,o=1==t._s,i=0,a=function(e){var n,i,a,s=o?e.ok:e.fail,u=e.resolve,c=e.reject,f=e.domain;try{s?(o||(2==t._h&&F(t),t._h=1),!0===s?n=r:(f&&f.enter(),n=s(r),f&&(f.exit(),a=!0)),n===e.promise?c(_("Promise-chain cycle")):(i=N(n))?i.call(n,u,c):u(n)):c(r)}catch(t){f&&!a&&f.exit(),c(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&B(t)})}},B=function(t){y.call(u,function(){var e,n,r,o=t._v,i=O(t);if(i&&(e=b(function(){I?A.emit("unhandledRejection",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",o)}),t._h=I||O(t)?2:1),t._a=void 0,i&&e.e)throw e.v})},O=function(t){return 1!==t._h&&0===(t._a||t._c).length},F=function(t){y.call(u,function(){var e;I?A.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},M=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},j=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw _("Promise can't be resolved itself");(e=N(t))?m(function(){var r={_w:n,_d:!1};try{e.call(t,c(j,r,1),c(M,r,1))}catch(t){M.call(r,t)}}):(n._v=t,n._s=1,D(n,!1))}catch(t){M.call({_w:n,_d:!1},t)}}};R||(E=function(t){d(this,E,"Promise","_h"),p(t),r.call(this);try{t(c(j,this,1),c(M,this,1))}catch(t){M.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(67)(E.prototype,{then:function(t,e){var n=P(g(this,E));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=I?A.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=c(j,t,1),this.reject=c(M,t,1)},w.f=P=function(t){return t===E||t===a?new i(t):o(t)}),l(l.G+l.W+l.F*!R,{Promise:E}),n(36)(E,"Promise"),n(94)("Promise"),a=n(4).Promise,l(l.S+l.F*!R,"Promise",{reject:function(t){var e=P(this);return(0,e.reject)(t),e.promise}}),l(l.S+l.F*(s||!R),"Promise",{resolve:function(t){return k(s&&this===a?E:this,t)}}),l(l.S+l.F*!(R&&n(144)(function(t){E.all(t).catch(T)})),"Promise",{all:function(t){var e=this,n=P(e),r=n.resolve,o=n.reject,i=b(function(){var n=[],i=0,a=1;v(t,!1,function(t){var s=i++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(t){var e=this,n=P(e),r=n.reject,o=b(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}})},function(t,e,n){var r=n(18);t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,n){var r=n(33),o=n(10)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[o]===t)}},function(t,e,n){var r=n(64),o=n(10)("iterator"),i=n(33);t.exports=n(4).getIteratorMethod=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(6),o=n(90).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(35)(a);t.exports=function(){var t,e,n,c=function(){var r,o;for(u&&(r=a.domain)&&r.exit();t;){o=t.fn,t=t.next;try{o()}catch(r){throw t?n():e=void 0,r}}e=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var f=s.resolve(void 0);n=function(){f.then(c)}}else n=function(){o.call(r,c)};else{var l=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),n=function(){h.data=l=!l}}return function(r){var o={fn:r,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){var r=n(6).navigator;t.exports=r&&r.userAgent||""},function(t,e,n){var r=n(10)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(7),o=n(4),i=n(6),a=n(89),s=n(93);r(r.P+r.R,"Promise",{finally:function(t){var e=a(this,o.Promise||i.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var r=n(7),o=n(66),i=n(92);r(r.S,"Promise",{try:function(t){var e=o.f(this),n=i(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){n(148);var r=n(4).Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},function(t,e,n){var r=n(7);r(r.S+r.F*!n(19),"Object",{defineProperty:n(17).f})},function(t,e,n){var r=n(150),o=n(152);function i(t){return(i="function"==typeof o&&"symbol"==typeof r?function(t){return typeof t}:function(t){return t&&"function"==typeof o&&t.constructor===o&&t!==o.prototype?"symbol":typeof t})(t)}function a(e){return"function"==typeof o&&"symbol"===i(r)?t.exports=a=function(t){return i(t)}:t.exports=a=function(t){return t&&"function"==typeof o&&t.constructor===o&&t!==o.prototype?"symbol":i(t)},a(e)}t.exports=a},function(t,e,n){t.exports=n(151)},function(t,e,n){n(54),n(63),t.exports=n(68).f("iterator")},function(t,e,n){t.exports=n(153)},function(t,e,n){n(95),n(53),n(156),n(157),t.exports=n(4).Symbol},function(t,e,n){var r=n(43),o=n(96),i=n(70);t.exports=function(t){var e=r(t),n=o.f;if(n)for(var a,s=n(t),u=i.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},function(t,e,n){var r=n(25),o=n(98).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){n(69)("asyncIterator")},function(t,e,n){n(69)("observable")},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){t.exports=n(160)},function(t,e,n){n(161),t.exports=n(4).Object.getPrototypeOf},function(t,e,n){var r=n(37),o=n(87);n(46)("getPrototypeOf",function(){return function(t){return o(r(t))}})},function(t,e,n){n(163),t.exports=n(4).Object.setPrototypeOf},function(t,e,n){var r=n(7);r(r.S,"Object",{setPrototypeOf:n(164).set})},function(t,e,n){var r=n(9),o=n(18),i=function(t,e){if(o(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=n(20)(Function.call,n(71).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:r(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){n(166);var r=n(4).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,n){var r=n(7);r(r.S,"Object",{create:n(34)})},function(t,e,n){t.exports=n(168)},function(t,e,n){n(53),n(54),n(63),n(169),n(175),n(178),n(180),t.exports=n(4).Map},function(t,e,n){"use strict";var r=n(170),o=n(101);t.exports=n(171)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(o(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(o(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,n){"use strict";var r=n(17).f,o=n(34),i=n(67),a=n(20),s=n(65),u=n(38),c=n(56),f=n(88),l=n(94),h=n(19),p=n(45).fastKey,d=n(101),v=h?"_s":"size",g=function(t,e){var n,r=p(e);if("F"!==r)return t._i[r];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var f=t(function(t,r){s(t,f,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[v]=0,null!=r&&u(r,n,t[c],t)});return i(f.prototype,{clear:function(){for(var t=d(this,e),n=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var n=d(this,e),r=g(n,t);if(r){var o=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=o),o&&(o.p=i),n._f==r&&(n._f=o),n._l==r&&(n._l=i),n[v]--}return!!r},forEach:function(t){d(this,e);for(var n,r=a(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!g(d(this,e),t)}}),h&&r(f.prototype,"size",{get:function(){return d(this,e)[v]}}),f},def:function(t,e,n){var r,o,i=g(t,e);return i?i.v=n:(t._l=i={i:o=p(e,!0),k:e,v:n,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[v]++,"F"!==o&&(t._i[o]=i)),t},getEntry:g,setStrong:function(t,e,n){c(t,e,function(t,n){this._t=d(t,e),this._k=n,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?f(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,f(1))},n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(6),o=n(7),i=n(45),a=n(22),s=n(21),u=n(67),c=n(38),f=n(65),l=n(9),h=n(36),p=n(17).f,d=n(172)(0),v=n(19);t.exports=function(t,e,n,g,y,m){var w=r[t],b=w,x=y?"set":"add",k=b&&b.prototype,_={};return v&&"function"==typeof b&&(m||k.forEach&&!a(function(){(new b).entries().next()}))?(b=e(function(e,n){f(e,b,t,"_c"),e._c=new w,null!=n&&c(n,y,e[x],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in k&&(!m||"clear"!=t)&&s(b.prototype,t,function(n,r){if(f(this,b,t),!e&&m&&!l(n))return"get"==t&&void 0;var o=this._c[t](0===n?0:n,r);return e?this:o})}),m||p(b.prototype,"size",{get:function(){return this._c.size}})):(b=g.getConstructor(e,t,y,x),u(b.prototype,n),i.NEED=!0),h(b,t),_[t]=b,o(o.G+o.W+o.F,_),m||g.setStrong(b,t,y),b}},function(t,e,n){var r=n(20),o=n(85),i=n(37),a=n(59),s=n(173);t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,f=4==t,l=6==t,h=5==t||l,p=e||s;return function(e,s,d){for(var v,g,y=i(e),m=o(y),w=r(s,d,3),b=a(m.length),x=0,k=n?p(e,b):u?p(e,0):void 0;b>x;x++)if((h||x in m)&&(g=w(v=m[x],x,y),t))if(n)k[x]=g;else if(g)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:k.push(v)}else if(f)return!1;return l?-1:c||f?f:k}}},function(t,e,n){var r=n(174);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,n){var r=n(9),o=n(97),i=n(10)("species");t.exports=function(t){var e;return o(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!o(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var r=n(7);r(r.P+r.R,"Map",{toJSON:n(176)("Map")})},function(t,e,n){var r=n(64),o=n(177);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return o(this)}}},function(t,e,n){var r=n(38);t.exports=function(t,e){var n=[];return r(t,!1,n.push,n,e),n}},function(t,e,n){n(179)("Map")},function(t,e,n){"use strict";var r=n(7);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,n){n(181)("Map")},function(t,e,n){"use strict";var r=n(7),o=n(23),i=n(20),a=n(38);t.exports=function(t){r(r.S,t,{from:function(t){var e,n,r,s,u=arguments[1];return o(this),(e=void 0!==u)&&o(u),null==t?new this:(n=[],e?(r=0,s=i(u,arguments[2],2),a(t,!1,function(t){n.push(s(t,r++))})):a(t,!1,n.push,n),new this(n))}})}},function(t,e){t.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")}},function(t,e,n){var r=n(184),o=n(72);function i(e,n,a){return!function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(r(Date,[],function(){})),!0}catch(t){return!1}}()?t.exports=i=function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i}:t.exports=i=r,i.apply(null,arguments)}t.exports=i},function(t,e,n){t.exports=n(185)},function(t,e,n){n(186),t.exports=n(4).Reflect.construct},function(t,e,n){var r=n(7),o=n(34),i=n(23),a=n(18),s=n(9),u=n(22),c=n(187),f=(n(6).Reflect||{}).construct,l=u(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),h=!u(function(){f(function(){})});r(r.S+r.F*(l||h),"Reflect",{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(h&&!l)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var u=n.prototype,p=o(s(u)?u:Object.prototype),d=Function.apply.call(t,p,e);return s(d)?d:p}})},function(t,e,n){"use strict";var r=n(23),o=n(9),i=n(91),a=[].slice,s={};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(t,e,n){if(!(e in s)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,n)}(e,r.length,r):i(e,r,t)};return o(e.prototype)&&(u.prototype=e.prototype),u}},function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);t.exports=function(){return n(r),r}}else{var o=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),o[e]=t>>>((3&e)<<3)&255;return o}}},function(t,e){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);t.exports=function(t,e){var r=e||0,o=n;return[o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],"-",o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]],o[t[r++]]].join("")}},function(t,e,n){n(191),t.exports=n(4).parseInt},function(t,e,n){var r=n(7),o=n(192);r(r.G+r.F*(parseInt!=o),{parseInt:o})},function(t,e,n){var r=n(6).parseInt,o=n(193).trim,i=n(102),a=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var n=o(String(t),3);return r(n,e>>>0||(a.test(n)?16:10))}:r},function(t,e,n){var r=n(7),o=n(41),i=n(22),a=n(102),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),f=function(t,e,n){var o={},s=i(function(){return!!a[t]()||"​"!="​"[t]()}),u=o[t]=s?e(l):a[t];n&&(o[n]=u),r(r.P+r.F*s,"String",o)},l=f.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(c,"")),t};t.exports=f},function(t,e,n){n(195),t.exports=n(4).Object.freeze},function(t,e,n){var r=n(9),o=n(45).onFreeze;n(46)("freeze",function(t){return function(e){return t&&r(e)?t(o(e)):e}})},function(t,e,n){t.exports=n(197)},function(t,e,n){n(198);var r=n(4).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,n){var r=n(25),o=n(71).f;n(46)("getOwnPropertyDescriptor",function(){return function(t,e){return o(r(t),e)}})},function(t,e,n){t.exports=n(200)},function(t,e,n){n(95),t.exports=n(4).Object.getOwnPropertySymbols},function(t,e,n){t.exports=n(202)},function(t,e,n){n(203),t.exports=n(4).Object.keys},function(t,e,n){var r=n(37),o=n(43);n(46)("keys",function(){return function(t){return o(r(t))}})},function(t,e,n){var r=n(51);t.exports=function(t,e,n){return e in t?r(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";var r=n(15),o=n(103),i=n(207),a=n(73);function s(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var u=s(a);u.Axios=i,u.create=function(t){return s(r.merge(a,t))},u.Cancel=n(107),u.CancelToken=n(220),u.isCancel=n(106),u.all=function(t){return Promise.all(t)},u.spread=n(221),t.exports=u,t.exports.default=u},function(t,e){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&null!=t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},function(t,e,n){"use strict";var r=n(73),o=n(15),i=n(215),a=n(216);function s(t){this.defaults=t,this.interceptors={request:new i,response:new i}}s.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),(t=o.merge(r,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head","options"],function(t){s.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){s.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=s},function(t,e,n){"use strict";var r=n(15);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";var r=n(105);t.exports=function(t,e,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t}},function(t,e,n){"use strict";var r=n(15);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var a=[];r.forEach(e,function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))}))}),i=a.join("&")}return i&&(t+=(-1===t.indexOf("?")?"?":"&")+i),t}},function(t,e,n){"use strict";var r=n(15),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,a={};return t?(r.forEach(t.split("\n"),function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}}),a):a}},function(t,e,n){"use strict";var r=n(15);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(15);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(15);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=o},function(t,e,n){"use strict";var r=n(15),o=n(217),i=n(106),a=n(73),s=n(218),u=n(219);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.baseURL&&!s(t.url)&&(t.url=u(t.baseURL,t.url)),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]}),(t.adapter||a.adapter)(t).then(function(e){return c(t),e.data=o(e.data,e.headers,t.transformResponse),e},function(e){return i(e)||(c(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)})}},function(t,e,n){"use strict";var r=n(15);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(107);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(t){e=t});var n=this;t(function(t){n.reason||(n.reason=new r(t),e(n.reason))})}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o(function(e){t=e}),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){var r=n(108),o=n(47)("socket.io-client:url");t.exports=function(t,e){var n=t;e=e||"undefined"!=typeof location&&location,null==t&&(t=e.protocol+"//"+e.host);"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?e.protocol+t:e.host+t),/^(https?|wss?):\/\//.test(t)||(o("protocol-less url %s",t),t=void 0!==e?e.protocol+"//"+t:"https://"+t),o("parse %s",t),n=r(t));n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443"));n.path=n.path||"/";var i=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+i+":"+n.port,n.href=n.protocol+"://"+i+(e&&e.port===n.port?"":":"+n.port),n}},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"==typeof o){var i=a[u];n=o.call(t,i),a.splice(u,1),u--}return n}),e.formatArgs.call(t,a),(r.log||e.log||console.log.bind(console)).apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(224),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(u=t,i,"day")||s(u,o,"hour")||s(u,r,"minute")||s(u,n,"second")||u+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(r){function o(){var t;try{t=e.storage.debug}catch(t){}return!t&&void 0!==r&&"env"in r&&(t=r.env.DEBUG),t}(e=t.exports=n(226)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},e.formatArgs=function(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),!n)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)},e.save=function(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}},e.load=o,e.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(o())}).call(this,n(39))},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"==typeof o){var i=a[u];n=o.call(t,i),a.splice(u,1),u--}return n}),e.formatArgs.call(t,a),(r.log||e.log||console.log.bind(console)).apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(227),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(u=t,i,"day")||s(u,o,"hour")||s(u,r,"minute")||s(u,n,"second")||u+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){var r=n(109),o=n(110),i=Object.prototype.toString,a="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===i.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===i.call(File);e.deconstructPacket=function(t){var e=[],n=t.data,i=t;return i.data=function t(e,n){if(!e)return e;if(o(e)){var i={_placeholder:!0,num:n.length};return n.push(e),i}if(r(e)){for(var a=new Array(e.length),s=0;s<e.length;s++)a[s]=t(e[s],n);return a}if("object"==typeof e&&!(e instanceof Date)){var a={};for(var u in e)a[u]=t(e[u],n);return a}return e}(n,e),i.attachments=e.length,{packet:i,buffers:e}},e.reconstructPacket=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(r(e))for(var o=0;o<e.length;o++)e[o]=t(e[o],n);else if("object"==typeof e)for(var i in e)e[i]=t(e[i],n);return e}(t.data,e),t.attachments=void 0,t},e.removeBlobs=function(t,e){var n=0,i=t;!function t(u,c,f){if(!u)return u;if(a&&u instanceof Blob||s&&u instanceof File){n++;var l=new FileReader;l.onload=function(){f?f[c]=this.result:i=this.result,--n||e(i)},l.readAsArrayBuffer(u)}else if(r(u))for(var h=0;h<u.length;h++)t(u[h],h,u);else if("object"==typeof u&&!o(u))for(var p in u)t(u[p],p,u)}(i),n||e(i)}},function(t,e,n){"use strict";e.byteLength=function(t){var e=c(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){for(var e,n=c(t),r=n[0],a=n[1],s=new i(function(t,e,n){return 3*(e+n)/4-n}(0,r,a)),u=0,f=a>0?r-4:r,l=0;l<f;l+=4)e=o[t.charCodeAt(l)]<<18|o[t.charCodeAt(l+1)]<<12|o[t.charCodeAt(l+2)]<<6|o[t.charCodeAt(l+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;2===a&&(e=o[t.charCodeAt(l)]<<2|o[t.charCodeAt(l+1)]>>4,s[u++]=255&e);1===a&&(e=o[t.charCodeAt(l)]<<10|o[t.charCodeAt(l+1)]<<4|o[t.charCodeAt(l+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e);return s},e.fromByteArray=function(t){for(var e,n=t.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(f(t,a,a+16383>s?s:a+16383));1===o?(e=t[n-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===o&&(e=(t[n-2]<<8)+t[n-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function f(t,e,n){for(var o,i,a=[],s=e;s<n;s+=3)o=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,c=u>>1,f=-7,l=n?o-1:0,h=n?-1:1,p=t[e+l];for(l+=h,i=p&(1<<-f)-1,p>>=-f,f+=s;f>0;i=256*i+t[e+l],l+=h,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=r;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===i)i=1-c;else{if(i===u)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,o),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,o),a=0));o>=8;t[n+p]=255&s,p+=d,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;t[n+p]=255&a,p+=d,a/=256,c-=8);t[n+p-d]|=128*v}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(233),t.exports.parser=n(30)},function(t,e,n){var r=n(112),o=n(29),i=n(50)("engine.io-client:socket"),a=n(116),s=n(30),u=n(108),c=n(48);function f(t,e){if(!(this instanceof f))return new f(t,e);e=e||{},t&&"object"==typeof t&&(e=t,t=null),t?(t=u(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=u(e.host).host),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.agent=e.agent||!1,this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=e.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==e.upgrade,this.path=(e.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!e.forceJSONP,this.jsonp=!1!==e.jsonp,this.forceBase64=!!e.forceBase64,this.enablesXDR=!!e.enablesXDR,this.timestampParam=e.timestampParam||"t",this.timestampRequests=e.timestampRequests,this.transports=e.transports||["polling","websocket"],this.transportOptions=e.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=e.policyPort||843,this.rememberUpgrade=e.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=e.onlyBinaryUpgrades,this.perMessageDeflate=!1!==e.perMessageDeflate&&(e.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=e.pfx||null,this.key=e.key||null,this.passphrase=e.passphrase||null,this.cert=e.cert||null,this.ca=e.ca||null,this.ciphers=e.ciphers||null,this.rejectUnauthorized=void 0===e.rejectUnauthorized||e.rejectUnauthorized,this.forceNode=!!e.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(e.extraHeaders&&Object.keys(e.extraHeaders).length>0&&(this.extraHeaders=e.extraHeaders),e.localAddress&&(this.localAddress=e.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=f,f.priorWebsocketSuccess=!1,o(f.prototype),f.protocol=s.protocol,f.Socket=f,f.Transport=n(77),f.transports=n(112),f.parser=n(30),f.prototype.createTransport=function(t){i('creating transport "%s"',t);var e=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.query);e.EIO=s.protocol,e.transport=t;var n=this.transportOptions[t]||{};return this.id&&(e.sid=this.id),new r[t]({query:e,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},f.prototype.open=function(){var t;if(this.rememberUpgrade&&f.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length){var e=this;return void setTimeout(function(){e.emit("error","No transports available")},0)}t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(t){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)},f.prototype.setTransport=function(t){i("setting transport %s",t.name);var e=this;this.transport&&(i("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=t,t.on("drain",function(){e.onDrain()}).on("packet",function(t){e.onPacket(t)}).on("error",function(t){e.onError(t)}).on("close",function(){e.onClose("transport close")})},f.prototype.probe=function(t){i('probing transport "%s"',t);var e=this.createTransport(t,{probe:1}),n=!1,r=this;function o(){if(r.onlyBinaryUpgrades){var o=!this.supportsBinary&&r.transport.supportsBinary;n=n||o}n||(i('probe transport "%s" opened',t),e.send([{type:"ping",data:"probe"}]),e.once("packet",function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(i('probe transport "%s" pong',t),r.upgrading=!0,r.emit("upgrading",e),!e)return;f.priorWebsocketSuccess="websocket"===e.name,i('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(i("changing transport and sending upgrade packet"),h(),r.setTransport(e),e.send([{type:"upgrade"}]),r.emit("upgrade",e),e=null,r.upgrading=!1,r.flush())})}else{i('probe transport "%s" failed',t);var a=new Error("probe error");a.transport=e.name,r.emit("upgradeError",a)}}))}function a(){n||(n=!0,h(),e.close(),e=null)}function s(n){var o=new Error("probe error: "+n);o.transport=e.name,a(),i('probe transport "%s" failed because of error: %s',t,n),r.emit("upgradeError",o)}function u(){s("transport closed")}function c(){s("socket closed")}function l(t){e&&t.name!==e.name&&(i('"%s" works - aborting "%s"',t.name,e.name),a())}function h(){e.removeListener("open",o),e.removeListener("error",s),e.removeListener("close",u),r.removeListener("close",c),r.removeListener("upgrading",l)}f.priorWebsocketSuccess=!1,e.once("open",o),e.once("error",s),e.once("close",u),this.once("close",c),this.once("upgrading",l),e.open()},f.prototype.onOpen=function(){if(i("socket open"),this.readyState="open",f.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){i("starting upgrade probes");for(var t=0,e=this.upgrades.length;t<e;t++)this.probe(this.upgrades[t])}},f.prototype.onPacket=function(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(i('socket receive: type "%s", data "%s"',t.type,t.data),this.emit("packet",t),this.emit("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emit("data",t.data),this.emit("message",t.data)}else i('packet received with socket readyState "%s"',this.readyState)},f.prototype.onHandshake=function(t){this.emit("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},f.prototype.onHeartbeat=function(t){clearTimeout(this.pingTimeoutTimer);var e=this;e.pingTimeoutTimer=setTimeout(function(){"closed"!==e.readyState&&e.onClose("ping timeout")},t||e.pingInterval+e.pingTimeout)},f.prototype.setPing=function(){var t=this;clearTimeout(t.pingIntervalTimer),t.pingIntervalTimer=setTimeout(function(){i("writing ping packet - expecting pong within %sms",t.pingTimeout),t.ping(),t.onHeartbeat(t.pingTimeout)},t.pingInterval)},f.prototype.ping=function(){var t=this;this.sendPacket("ping",function(){t.emit("ping")})},f.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},f.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(i("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},f.prototype.write=f.prototype.send=function(t,e,n){return this.sendPacket("message",t,e,n),this},f.prototype.sendPacket=function(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var o={type:t,data:e,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}},f.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var t=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():e()}):this.upgrading?r():e()}function e(){t.onClose("forced close"),i("socket closing - telling transport to close"),t.transport.close()}function n(){t.removeListener("upgrade",n),t.removeListener("upgradeError",n),e()}function r(){t.once("upgrade",n),t.once("upgradeError",n)}return this},f.prototype.onError=function(t){i("socket error %j",t),f.priorWebsocketSuccess=!1,this.emit("error",t),this.onClose("transport error",t)},f.prototype.onClose=function(t,e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){i('socket close with reason: "%s"',t);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",t,e),this.writeBuffer=[],this.prevBufferLen=0}},f.prototype.filterUpgrades=function(t){for(var e=[],n=0,r=t.length;n<r;n++)~a(this.transports,t[n])&&e.push(t[n]);return e}},function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},function(t,e,n){var r=n(76),o=n(113),i=n(29),a=n(49),s=n(50)("engine.io-client:polling-xhr");function u(){}function c(t){if(o.call(this,t),this.requestTimeout=t.requestTimeout,this.extraHeaders=t.extraHeaders,"undefined"!=typeof location){var e="https:"===location.protocol,n=location.port;n||(n=e?443:80),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}}function f(t){this.method=t.method||"GET",this.uri=t.uri,this.xd=!!t.xd,this.xs=!!t.xs,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.agent=t.agent,this.isBinary=t.isBinary,this.supportsBinary=t.supportsBinary,this.enablesXDR=t.enablesXDR,this.requestTimeout=t.requestTimeout,this.pfx=t.pfx,this.key=t.key,this.passphrase=t.passphrase,this.cert=t.cert,this.ca=t.ca,this.ciphers=t.ciphers,this.rejectUnauthorized=t.rejectUnauthorized,this.extraHeaders=t.extraHeaders,this.create()}if(t.exports=c,t.exports.Request=f,a(c,o),c.prototype.supportsBinary=!0,c.prototype.request=function(t){return(t=t||{}).uri=this.uri(),t.xd=this.xd,t.xs=this.xs,t.agent=this.agent||!1,t.supportsBinary=this.supportsBinary,t.enablesXDR=this.enablesXDR,t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,t.requestTimeout=this.requestTimeout,t.extraHeaders=this.extraHeaders,new f(t)},c.prototype.doWrite=function(t,e){var n="string"!=typeof t&&void 0!==t,r=this.request({method:"POST",data:t,isBinary:n}),o=this;r.on("success",e),r.on("error",function(t){o.onError("xhr post error",t)}),this.sendXhr=r},c.prototype.doPoll=function(){s("xhr poll");var t=this.request(),e=this;t.on("data",function(t){e.onData(t)}),t.on("error",function(t){e.onError("xhr poll error",t)}),this.pollXhr=t},i(f.prototype),f.prototype.create=function(){var t={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized;var e=this.xhr=new r(t),n=this;try{s("xhr open %s: %s",this.method,this.uri),e.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&e.setRequestHeader(o,this.extraHeaders[o])}catch(t){}if("POST"===this.method)try{this.isBinary?e.setRequestHeader("Content-type","application/octet-stream"):e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(t){}try{e.setRequestHeader("Accept","*/*")}catch(t){}"withCredentials"in e&&(e.withCredentials=!0),this.requestTimeout&&(e.timeout=this.requestTimeout),this.hasXDR()?(e.onload=function(){n.onLoad()},e.onerror=function(){n.onError(e.responseText)}):e.onreadystatechange=function(){if(2===e.readyState)try{var t=e.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===t&&(e.responseType="arraybuffer")}catch(t){}4===e.readyState&&(200===e.status||1223===e.status?n.onLoad():setTimeout(function(){n.onError(e.status)},0))},s("xhr data %s",this.data),e.send(this.data)}catch(t){return void setTimeout(function(){n.onError(t)},0)}"undefined"!=typeof document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(t){this.emit("data",t),this.onSuccess()},f.prototype.onError=function(t){this.emit("error",t),this.cleanup(!0)},f.prototype.cleanup=function(t){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,t)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var t;try{var e;try{e=this.xhr.getResponseHeader("Content-Type")}catch(t){}t="application/octet-stream"===e&&this.xhr.response||this.xhr.responseText}catch(t){this.onError(t)}null!=t&&this.onData(t)},f.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},f.requestsCount=0,f.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",h);else if("function"==typeof addEventListener){var l="onpagehide"in self?"pagehide":"unload";addEventListener(l,h,!1)}function h(){for(var t in f.requests)f.requests.hasOwnProperty(t)&&f.requests[t].abort()}},function(t,e){t.exports=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){t.exports=function(t,e,n){var r=t.byteLength;if(e=e||0,n=n||r,t.slice)return t.slice(e,n);if(e<0&&(e+=r),n<0&&(n+=r),n>r&&(n=r),e>=r||e>=n||0===r)return new ArrayBuffer(0);for(var o=new Uint8Array(t),i=new Uint8Array(n-e),a=e,s=0;a<n;a++,s++)i[s]=o[a];return i.buffer}},function(t,e){function n(){}t.exports=function(t,e,r){var o=!1;return r=r||n,i.count=t,0===t?e():i;function i(t,n){if(i.count<=0)throw new Error("after called too many times");--i.count,t?(o=!0,e(t),e=r):0!==i.count||o||e(null,n)}}},function(t,e){
/*! https://mths.be/utf8js v2.1.2 by @mathias */
var n,r,o,i=String.fromCharCode;function a(t){for(var e,n,r=[],o=0,i=t.length;o<i;)(e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i?56320==(64512&(n=t.charCodeAt(o++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),o--):r.push(e);return r}function s(t,e){if(t>=55296&&t<=57343){if(e)throw Error("Lone surrogate U+"+t.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function u(t,e){return i(t>>e&63|128)}function c(t,e){if(0==(4294967168&t))return i(t);var n="";return 0==(4294965248&t)?n=i(t>>6&31|192):0==(4294901760&t)?(s(t,e)||(t=65533),n=i(t>>12&15|224),n+=u(t,6)):0==(4292870144&t)&&(n=i(t>>18&7|240),n+=u(t,12),n+=u(t,6)),n+=i(63&t|128)}function f(){if(o>=r)throw Error("Invalid byte index");var t=255&n[o];if(o++,128==(192&t))return 63&t;throw Error("Invalid continuation byte")}function l(t){var e,i;if(o>r)throw Error("Invalid byte index");if(o==r)return!1;if(e=255&n[o],o++,0==(128&e))return e;if(192==(224&e)){if((i=(31&e)<<6|f())>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if((i=(15&e)<<12|f()<<6|f())>=2048)return s(i,t)?i:65533;throw Error("Invalid continuation byte")}if(240==(248&e)&&(i=(7&e)<<18|f()<<12|f()<<6|f())>=65536&&i<=1114111)return i;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(t,e){for(var n=!1!==(e=e||{}).strict,r=a(t),o=r.length,i=-1,s="";++i<o;)s+=c(r[i],n);return s},decode:function(t,e){var s=!1!==(e=e||{}).strict;n=a(t),r=n.length,o=0;for(var u,c=[];!1!==(u=l(s));)c.push(u);return function(t){for(var e,n=t.length,r=-1,o="";++r<n;)(e=t[r])>65535&&(o+=i((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=i(e);return o}(c)}}},function(t,e){!function(){"use strict";for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<t.length;r++)n[t.charCodeAt(r)]=r;e.encode=function(e){var n,r=new Uint8Array(e),o=r.length,i="";for(n=0;n<o;n+=3)i+=t[r[n]>>2],i+=t[(3&r[n])<<4|r[n+1]>>4],i+=t[(15&r[n+1])<<2|r[n+2]>>6],i+=t[63&r[n+2]];return o%3==2?i=i.substring(0,i.length-1)+"=":o%3==1&&(i=i.substring(0,i.length-2)+"=="),i},e.decode=function(t){var e,r,o,i,a,s=.75*t.length,u=t.length,c=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var f=new ArrayBuffer(s),l=new Uint8Array(f);for(e=0;e<u;e+=4)r=n[t.charCodeAt(e)],o=n[t.charCodeAt(e+1)],i=n[t.charCodeAt(e+2)],a=n[t.charCodeAt(e+3)],l[c++]=r<<2|o>>4,l[c++]=(15&o)<<4|i>>2,l[c++]=(3&i)<<6|63&a;return f}}()},function(t,e){var n=void 0!==n?n:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(t){return!1}}(),o=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(t){return!1}}(),i=n&&n.prototype.append&&n.prototype.getBlob;function a(t){return t.map(function(t){if(t.buffer instanceof ArrayBuffer){var e=t.buffer;if(t.byteLength!==e.byteLength){var n=new Uint8Array(t.byteLength);n.set(new Uint8Array(e,t.byteOffset,t.byteLength)),e=n.buffer}return e}return t})}function s(t,e){e=e||{};var r=new n;return a(t).forEach(function(t){r.append(t)}),e.type?r.getBlob(e.type):r.getBlob()}function u(t,e){return new Blob(a(t),e||{})}"undefined"!=typeof Blob&&(s.prototype=Blob.prototype,u.prototype=Blob.prototype),t.exports=r?o?Blob:u:i?s:void 0},function(t,e,n){function r(t){var n;function r(){if(r.enabled){var t=r,o=+new Date,i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=e.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"==typeof o){var i=a[u];n=o.call(t,i),a.splice(u,1),u--}return n}),e.formatArgs.call(t,a),(r.log||e.log||console.log.bind(console)).apply(t,a)}}return r.namespace=t,r.enabled=e.enabled(t),r.useColors=e.useColors(),r.color=function(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}(t),r.destroy=o,"function"==typeof e.init&&e.init(r),e.instances.push(r),r}function o(){var t=e.instances.indexOf(this);return-1!==t&&(e.instances.splice(t,1),!0)}(e=t.exports=r.debug=r.default=r).coerce=function(t){return t instanceof Error?t.stack||t.message:t},e.disable=function(){e.enable("")},e.enable=function(t){var n;e.save(t),e.names=[],e.skips=[];var r=("string"==typeof t?t:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")));for(n=0;n<e.instances.length;n++){var i=e.instances[n];i.enabled=e.enabled(i.namespace)}},e.enabled=function(t){if("*"===t[t.length-1])return!0;var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(244),e.instances=[],e.names=[],e.skips=[],e.formatters={}},function(t,e){var n=1e3,r=60*n,o=60*r,i=24*o,a=365.25*i;function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}t.exports=function(t,e){e=e||{};var u,c=typeof t;if("string"===c&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===c&&!1===isNaN(t))return e.long?s(u=t,i,"day")||s(u,o,"hour")||s(u,r,"minute")||s(u,n,"second")||u+" ms":function(t){if(t>=i)return Math.round(t/i)+"d";if(t>=o)return Math.round(t/o)+"h";if(t>=r)return Math.round(t/r)+"m";if(t>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){(function(e){var r=n(113),o=n(49);t.exports=f;var i,a=/\n/g,s=/\\n/g;function u(){}function c(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:{}}function f(t){if(r.call(this,t),this.query=this.query||{},!i){var e=c();i=e.___eio=e.___eio||[]}this.index=i.length;var n=this;i.push(function(t){n.onData(t)}),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",function(){n.script&&(n.script.onerror=u)},!1)}o(f,r),f.prototype.supportsBinary=!1,f.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},f.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(e,n):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var t=document.createElement("iframe");document.body.appendChild(t),document.body.removeChild(t)},100)},f.prototype.doWrite=function(t,e){var n=this;if(!this.form){var r,o=document.createElement("form"),i=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=u,o.method="POST",o.setAttribute("accept-charset","utf-8"),i.name="d",o.appendChild(i),document.body.appendChild(o),this.form=o,this.area=i}function c(){f(),e()}function f(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var t='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(t)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),f(),t=t.replace(s,"\\\n"),this.area.value=t.replace(a,"\\n");try{this.form.submit()}catch(t){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}}).call(this,n(40))},function(t,e,n){(function(e){var r,o,i=n(77),a=n(30),s=n(48),u=n(49),c=n(115),f=n(50)("engine.io-client:websocket");if("undefined"!=typeof WebSocket)r=WebSocket;else if("undefined"!=typeof self)r=self.WebSocket||self.MozWebSocket;else try{o=n(247)}catch(t){}var l=r||o;function h(t){t&&t.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=t.perMessageDeflate,this.usingBrowserWebSocket=r&&!t.forceNode,this.protocols=t.protocols,this.usingBrowserWebSocket||(l=o),i.call(this,t)}t.exports=h,u(h,i),h.prototype.name="websocket",h.prototype.supportsBinary=!0,h.prototype.doOpen=function(){if(this.check()){var t=this.uri(),e=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?e?new l(t,e):new l(t):new l(t,e,n)}catch(t){return this.emit("error",t)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},h.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},h.prototype.write=function(t){var n=this;this.writable=!1;for(var r=t.length,o=0,i=r;o<i;o++)!function(t){a.encodePacket(t,n.supportsBinary,function(o){if(!n.usingBrowserWebSocket){var i={};if(t.options&&(i.compress=t.options.compress),n.perMessageDeflate)("string"==typeof o?e.byteLength(o):o.length)<n.perMessageDeflate.threshold&&(i.compress=!1)}try{n.usingBrowserWebSocket?n.ws.send(o):n.ws.send(o,i)}catch(t){f("websocket closed before onclose event")}--r||s()})}(t[o]);function s(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},h.prototype.onClose=function(){i.prototype.onClose.call(this)},h.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},h.prototype.uri=function(){var t=this.query||{},e=this.secure?"wss":"ws",n="";return this.port&&("wss"===e&&443!==Number(this.port)||"ws"===e&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(t[this.timestampParam]=c()),this.supportsBinary||(t.b64=1),(t=s.encode(t)).length&&(t="?"+t),e+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+t},h.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===h.prototype.name)}}).call(this,n(75).Buffer)},function(t,e){},function(t,e){t.exports=function(t,e){for(var n=[],r=(e=e||0)||0;r<t.length;r++)n[r-e]=t[r];return n}},function(t,e){function n(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},function(t,e,n){var r=n(4),o=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(252),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(40))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,s,u=1,c={},f=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){d(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){d(t.data)},r=function(t){i.port2.postMessage(t)}):l&&"onreadystatechange"in l.createElement("script")?(o=l.documentElement,r=function(t){var e=l.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(d,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&d(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),h.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[u]=o,r(u),u++},h.clearImmediate=p}function p(t){delete c[t]}function d(t){if(f)setTimeout(d,0,t);else{var e=c[t];if(e){f=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{p(t),f=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(40),n(39))},function(t,e){var n=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;function s(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););return t}var u,c,f=Object.prototype,l=f.hasOwnProperty,h=f.toString,p=f.propertyIsEnumerable,d=(u=Object.keys,c=Object,function(t){return u(c(t))});function v(t,e){var n=k(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&_(t)}(t)&&l.call(t,"callee")&&(!p.call(t,"callee")||h.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var a in t)!e&&!l.call(t,a)||i&&("length"==a||x(a,o))||n.push(a);return n}var g,y,m=(g=function(t,e){return t&&w(t,e,A)},function(t,e){if(null==t)return t;if(!_(t))return g(t,e);for(var n=t.length,r=y?n:-1,o=Object(t);(y?r--:++r<n)&&!1!==e(o[r],r,o););return t}),w=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++o];if(!1===n(i[u],u,i))break}return e}}();function b(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||f,e!==r)return d(t);var e,n,r,o=[];for(var i in Object(t))l.call(t,i)&&"constructor"!=i&&o.push(i);return o}function x(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}var k=Array.isArray;function _(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==o||e==i}(t)}function A(t){return _(t)?v(t):b(t)}function C(t){return t}t.exports=function(t,e){return(k(t)?s:m)(t,"function"==typeof e?e:C)}},function(t,e){var n=9007199254740991,r="[object Arguments]",o="[object Function]",i="[object GeneratorFunction]",a=/^(?:0|[1-9]\d*)$/;var s,u,c=Object.prototype,f=c.hasOwnProperty,l=c.toString,h=c.propertyIsEnumerable,p=(s=Object.keys,u=Object,function(t){return s(u(t))});function d(t,e){var n=y(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&m(t)}(t)&&f.call(t,"callee")&&(!h.call(t,"callee")||l.call(t)==r)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],o=n.length,i=!!o;for(var a in t)!e&&!f.call(t,a)||i&&("length"==a||g(a,o))||n.push(a);return n}function v(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||c,e!==r)return p(t);var e,n,r,o=[];for(var i in Object(t))f.call(t,i)&&"constructor"!=i&&o.push(i);return o}function g(t,e){return!!(e=null==e?n:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}var y=Array.isArray;function m(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?l.call(t):"";return e==o||e==i}(t)}t.exports=function(t){return m(t)?d(t):v(t)}},function(t,e){t.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},function(t,e,n){var r=n(31),o=n(26),i=n(79),a=n(257),s=n(258),u=n(259),c=n(260),f=n(261),l=n(120),h=n(262),p=n(265),d=n(266),v=n(27),g=n(267),y=n(78);function m(t,e,n){var r,o,i=t.size,a=d.getEncodedBits(e,n);for(r=0;r<15;r++)o=1==(a>>r&1),r<6?t.set(r,8,o,!0):r<8?t.set(r+1,8,o,!0):t.set(i-15+r,8,o,!0),r<8?t.set(8,i-r-1,o,!0):r<9?t.set(8,15-r-1+1,o,!0):t.set(8,15-r-1,o,!0);t.set(i-8,8,1,!0)}function w(t,e,n){var i=new a;n.forEach(function(e){i.put(e.mode.bit,4),i.put(e.getLength(),v.getCharCountIndicator(e.mode,t)),e.write(i)});var s=8*(o.getSymbolTotalCodewords(t)-l.getTotalCodewordsCount(t,e));for(i.getLengthInBits()+4<=s&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(0);for(var u=(s-i.getLengthInBits())/8,c=0;c<u;c++)i.put(c%2?17:236,8);return function(t,e,n){for(var i=o.getSymbolTotalCodewords(e),a=l.getTotalCodewordsCount(e,n),s=i-a,u=l.getBlocksCount(e,n),c=u-i%u,f=Math.floor(i/u),p=Math.floor(s/u),d=p+1,v=f-p,g=new h(v),y=0,m=new Array(u),w=new Array(u),b=0,x=new r(t.buffer),k=0;k<u;k++){var _=k<c?p:d;m[k]=x.slice(y,y+_),w[k]=g.encode(m[k]),y+=_,b=Math.max(b,_)}var A,C,S=new r(i),E=0;for(A=0;A<b;A++)for(C=0;C<u;C++)A<m[C].length&&(S[E++]=m[C][A]);for(A=0;A<v;A++)for(C=0;C<u;C++)S[E++]=w[C][A];return S}(i,t,e)}function b(t,e,n,r){var i;if(y(t))i=g.fromArray(t);else{if("string"!=typeof t)throw new Error("Invalid data");var a=e;if(!a){var l=g.rawSplit(t);a=p.getBestVersionForData(l,n)}i=g.fromString(t,a||40)}var h=p.getBestVersionForData(i,n);if(!h)throw new Error("The amount of data is too big to be stored in a QR Code");if(e){if(e<h)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+h+".\n")}else e=h;var d=w(e,n,i),v=o.getSymbolSize(e),b=new s(v);return function(t,e){for(var n=t.size,r=c.getPositions(e),o=0;o<r.length;o++)for(var i=r[o][0],a=r[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(var u=-1;u<=7;u++)a+u<=-1||n<=a+u||(s>=0&&s<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===s||6===s)||s>=2&&s<=4&&u>=2&&u<=4?t.set(i+s,a+u,!0,!0):t.set(i+s,a+u,!1,!0))}(b,e),function(t){for(var e=t.size,n=8;n<e-8;n++){var r=n%2==0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}(b),function(t,e){for(var n=u.getPositions(e),r=0;r<n.length;r++)for(var o=n[r][0],i=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?t.set(o+a,i+s,!0,!0):t.set(o+a,i+s,!1,!0)}(b,e),m(b,n,0),e>=7&&function(t,e){for(var n,r,o,i=t.size,a=p.getEncodedBits(e),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+i-8-3,o=1==(a>>s&1),t.set(n,r,o,!0),t.set(r,n,o,!0)}(b,e),function(t,e){for(var n=t.size,r=-1,o=n-1,i=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!t.isReserved(o,s-u)){var c=!1;a<e.length&&(c=1==(e[a]>>>i&1)),t.set(o,s-u,c),-1==--i&&(a++,i=7)}if((o+=r)<0||n<=o){o-=r,r=-r;break}}}(b,d),isNaN(r)&&(r=f.getBestMask(b,m.bind(null,b,n))),f.applyMask(r,b),m(b,n,r),{modules:b,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}e.create=function(t,e){if(void 0===t||""===t)throw new Error("No input text");var n,r,a=i.M;return void 0!==e&&(a=i.from(e.errorCorrectionLevel,i.M),n=p.from(e.version),r=f.from(e.maskPattern),e.toSJISFunc&&o.setToSJISFunction(e.toSJISFunc)),b(t,n,a,r)}},function(t,e){function n(){this.buffer=[],this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},function(t,e,n){var r=n(31);function o(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new r(t*t),this.data.fill(0),this.reservedBit=new r(t*t),this.reservedBit.fill(0)}o.prototype.set=function(t,e,n,r){var o=t*this.size+e;this.data[o]=n,r&&(this.reservedBit[o]=!0)},o.prototype.get=function(t,e){return this.data[t*this.size+e]},o.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n},o.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]},t.exports=o},function(t,e,n){var r=n(26).getSymbolSize;e.getRowColCoords=function(t){if(1===t)return[];for(var e=Math.floor(t/7)+2,n=r(t),o=145===n?26:2*Math.ceil((n-13)/(2*e-2)),i=[n-7],a=1;a<e-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},e.getPositions=function(t){for(var n=[],r=e.getRowColCoords(t),o=r.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||n.push([r[i],r[a]]);return n}},function(t,e,n){var r=n(26).getSymbolSize;e.getPositions=function(t){var e=r(t);return[[0,0],[e-7,0],[0,e-7]]}},function(t,e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,r=3,o=40,i=10;function a(t,n,r){switch(t){case e.Patterns.PATTERN000:return(n+r)%2==0;case e.Patterns.PATTERN001:return n%2==0;case e.Patterns.PATTERN010:return r%3==0;case e.Patterns.PATTERN011:return(n+r)%3==0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case e.Patterns.PATTERN101:return n*r%2+n*r%3==0;case e.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case e.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}e.isValid=function(t){return null!=t&&""!==t&&!isNaN(t)&&t>=0&&t<=7},e.from=function(t){return e.isValid(t)?parseInt(t,10):void 0},e.getPenaltyN1=function(t){for(var e=t.size,r=0,o=0,i=0,a=null,s=null,u=0;u<e;u++){o=i=0,a=s=null;for(var c=0;c<e;c++){var f=t.get(u,c);f===a?o++:(o>=5&&(r+=n+(o-5)),a=f,o=1),(f=t.get(c,u))===s?i++:(i>=5&&(r+=n+(i-5)),s=f,i=1)}o>=5&&(r+=n+(o-5)),i>=5&&(r+=n+(i-5))}return r},e.getPenaltyN2=function(t){for(var e=t.size,n=0,o=0;o<e-1;o++)for(var i=0;i<e-1;i++){var a=t.get(o,i)+t.get(o,i+1)+t.get(o+1,i)+t.get(o+1,i+1);4!==a&&0!==a||n++}return n*r},e.getPenaltyN3=function(t){for(var e=t.size,n=0,r=0,i=0,a=0;a<e;a++){r=i=0;for(var s=0;s<e;s++)r=r<<1&2047|t.get(a,s),s>=10&&(1488===r||93===r)&&n++,i=i<<1&2047|t.get(s,a),s>=10&&(1488===i||93===i)&&n++}return n*o},e.getPenaltyN4=function(t){for(var e=0,n=t.data.length,r=0;r<n;r++)e+=t.data[r];return Math.abs(Math.ceil(100*e/n/5)-10)*i},e.applyMask=function(t,e){for(var n=e.size,r=0;r<n;r++)for(var o=0;o<n;o++)e.isReserved(o,r)||e.xor(o,r,a(t,o,r))},e.getBestMask=function(t,n){for(var r=Object.keys(e.Patterns).length,o=0,i=1/0,a=0;a<r;a++){n(a),e.applyMask(a,t);var s=e.getPenaltyN1(t)+e.getPenaltyN2(t)+e.getPenaltyN3(t)+e.getPenaltyN4(t);e.applyMask(a,t),s<i&&(i=s,o=a)}return o}},function(t,e,n){var r=n(31),o=n(263);function i(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(t){this.degree=t,this.genPoly=o.generateECPolynomial(this.degree)},i.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");var e=new r(this.degree);e.fill(0);var n=r.concat([t,e],t.length+this.degree),i=o.mod(n,this.genPoly),a=this.degree-i.length;if(a>0){var s=new r(this.degree);return s.fill(0),i.copy(s,a),s}return i},t.exports=i},function(t,e,n){var r=n(31),o=n(264);e.mul=function(t,e){var n=new r(t.length+e.length-1);n.fill(0);for(var i=0;i<t.length;i++)for(var a=0;a<e.length;a++)n[i+a]^=o.mul(t[i],e[a]);return n},e.mod=function(t,e){for(var n=new r(t);n.length-e.length>=0;){for(var i=n[0],a=0;a<e.length;a++)n[a]^=o.mul(e[a],i);for(var s=0;s<n.length&&0===n[s];)s++;n=n.slice(s)}return n},e.generateECPolynomial=function(t){for(var n=new r([1]),i=0;i<t;i++)n=e.mul(n,[1,o.exp(i)]);return n}},function(t,e,n){var r=n(31);if(r.alloc)var o=r.alloc(512),i=r.alloc(256);else o=new r(512),i=new r(256);!function(){for(var t=1,e=0;e<255;e++)o[e]=t,i[t]=e,256&(t<<=1)&&(t^=285);for(e=255;e<512;e++)o[e]=o[e-255]}(),e.log=function(t){if(t<1)throw new Error("log("+t+")");return i[t]},e.exp=function(t){return o[t]},e.mul=function(t,e){return 0===t||0===e?0:o[i[t]+i[e]]}},function(t,e,n){var r=n(26),o=n(120),i=n(79),a=n(27),s=n(121),u=n(78),c=r.getBCHDigit(7973);function f(t,e){return a.getCharCountIndicator(t,e)+4}function l(t,e){var n=0;return t.forEach(function(t){var r=f(t.mode,e);n+=r+t.getBitsLength()}),n}e.from=function(t,e){return s.isValid(t)?parseInt(t,10):e},e.getCapacity=function(t,e,n){if(!s.isValid(t))throw new Error("Invalid QR Code version");void 0===n&&(n=a.BYTE);var i=8*(r.getSymbolTotalCodewords(t)-o.getTotalCodewordsCount(t,e));if(n===a.MIXED)return i;var u=i-f(n,t);switch(n){case a.NUMERIC:return Math.floor(u/10*3);case a.ALPHANUMERIC:return Math.floor(u/11*2);case a.KANJI:return Math.floor(u/13);case a.BYTE:default:return Math.floor(u/8)}},e.getBestVersionForData=function(t,n){var r,o=i.from(n,i.M);if(u(t)){if(t.length>1)return function(t,n){for(var r=1;r<=40;r++)if(l(t,r)<=e.getCapacity(r,n,a.MIXED))return r}(t,o);if(0===t.length)return 1;r=t[0]}else r=t;return function(t,n,r){for(var o=1;o<=40;o++)if(n<=e.getCapacity(o,r,t))return o}(r.mode,r.getLength(),o)},e.getEncodedBits=function(t){if(!s.isValid(t)||t<7)throw new Error("Invalid QR Code version");for(var e=t<<12;r.getBCHDigit(e)-c>=0;)e^=7973<<r.getBCHDigit(e)-c;return t<<12|e}},function(t,e,n){var r=n(26),o=r.getBCHDigit(1335);e.getEncodedBits=function(t,e){for(var n=t.bit<<3|e,i=n<<10;r.getBCHDigit(i)-o>=0;)i^=1335<<r.getBCHDigit(i)-o;return 21522^(n<<10|i)}},function(t,e,n){var r=n(27),o=n(268),i=n(269),a=n(270),s=n(271),u=n(122),c=n(26),f=n(272);function l(t){return unescape(encodeURIComponent(t)).length}function h(t,e,n){for(var r,o=[];null!==(r=t.exec(n));)o.push({data:r[0],index:r.index,mode:e,length:r[0].length});return o}function p(t){var e,n,o=h(u.NUMERIC,r.NUMERIC,t),i=h(u.ALPHANUMERIC,r.ALPHANUMERIC,t);return c.isKanjiModeEnabled()?(e=h(u.BYTE,r.BYTE,t),n=h(u.KANJI,r.KANJI,t)):(e=h(u.BYTE_KANJI,r.BYTE,t),n=[]),o.concat(i,e,n).sort(function(t,e){return t.index-e.index}).map(function(t){return{data:t.data,mode:t.mode,length:t.length}})}function d(t,e){switch(e){case r.NUMERIC:return o.getBitsLength(t);case r.ALPHANUMERIC:return i.getBitsLength(t);case r.KANJI:return s.getBitsLength(t);case r.BYTE:return a.getBitsLength(t)}}function v(t,e){var n,u=r.getBestModeForData(t);if((n=r.from(e,u))!==r.BYTE&&n.bit<u.bit)throw new Error('"'+t+'" cannot be encoded with mode '+r.toString(n)+".\n Suggested mode is: "+r.toString(u));switch(n!==r.KANJI||c.isKanjiModeEnabled()||(n=r.BYTE),n){case r.NUMERIC:return new o(t);case r.ALPHANUMERIC:return new i(t);case r.KANJI:return new s(t);case r.BYTE:return new a(t)}}e.fromArray=function(t){return t.reduce(function(t,e){return"string"==typeof e?t.push(v(e,null)):e.data&&t.push(v(e.data,e.mode)),t},[])},e.fromString=function(t,n){for(var o=function(t,e){for(var n={},o={start:{}},i=["start"],a=0;a<t.length;a++){for(var s=t[a],u=[],c=0;c<s.length;c++){var f=s[c],l=""+a+c;u.push(l),n[l]={node:f,lastCount:0},o[l]={};for(var h=0;h<i.length;h++){var p=i[h];n[p]&&n[p].node.mode===f.mode?(o[p][l]=d(n[p].lastCount+f.length,f.mode)-d(n[p].lastCount,f.mode),n[p].lastCount+=f.length):(n[p]&&(n[p].lastCount=f.length),o[p][l]=d(f.length,f.mode)+4+r.getCharCountIndicator(f.mode,e))}}i=u}for(h=0;h<i.length;h++)o[i[h]].end=0;return{map:o,table:n}}(function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];switch(o.mode){case r.NUMERIC:e.push([o,{data:o.data,mode:r.ALPHANUMERIC,length:o.length},{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.ALPHANUMERIC:e.push([o,{data:o.data,mode:r.BYTE,length:o.length}]);break;case r.KANJI:e.push([o,{data:o.data,mode:r.BYTE,length:l(o.data)}]);break;case r.BYTE:e.push([{data:o.data,mode:r.BYTE,length:l(o.data)}])}}return e}(p(t,c.isKanjiModeEnabled())),n),i=f.find_path(o.map,"start","end"),a=[],s=1;s<i.length-1;s++)a.push(o.table[i[s]].node);return e.fromArray(function(t){return t.reduce(function(t,e){var n=t.length-1>=0?t[t.length-1]:null;return n&&n.mode===e.mode?(t[t.length-1].data+=e.data,t):(t.push(e),t)},[])}(a))},e.rawSplit=function(t){return e.fromArray(p(t,c.isKanjiModeEnabled()))}},function(t,e,n){var r=n(27);function o(t){this.mode=r.NUMERIC,this.data=t.toString()}o.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(t){var e,n,r;for(e=0;e+3<=this.data.length;e+=3)n=this.data.substr(e,3),r=parseInt(n,10),t.put(r,10);var o=this.data.length-e;o>0&&(n=this.data.substr(e),r=parseInt(n,10),t.put(r,3*o+1))},t.exports=o},function(t,e,n){var r=n(27),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(t){this.mode=r.ALPHANUMERIC,this.data=t}i.getBitsLength=function(t){return 11*Math.floor(t/2)+t%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){var e;for(e=0;e+2<=this.data.length;e+=2){var n=45*o.indexOf(this.data[e]);n+=o.indexOf(this.data[e+1]),t.put(n,11)}this.data.length%2&&t.put(o.indexOf(this.data[e]),6)},t.exports=i},function(t,e,n){var r=n(31),o=n(27);function i(t){this.mode=o.BYTE,this.data=new r(t)}i.getBitsLength=function(t){return 8*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){for(var e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)},t.exports=i},function(t,e,n){var r=n(27),o=n(26);function i(t){this.mode=r.KANJI,this.data=t}i.getBitsLength=function(t){return 13*t},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(t){var e;for(e=0;e<this.data.length;e++){var n=o.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[e]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),t.put(n,13)}},t.exports=i},function(t,e,n){"use strict";var r={single_source_shortest_paths:function(t,e,n){var o={},i={};i[e]=0;var a,s,u,c,f,l,h,p=r.PriorityQueue.make();for(p.push(e,0);!p.empty();)for(u in s=(a=p.pop()).value,c=a.cost,f=t[s]||{})f.hasOwnProperty(u)&&(l=c+f[u],h=i[u],(void 0===i[u]||h>l)&&(i[u]=l,p.push(u,l),o[u]=s));if(void 0!==n&&void 0===i[n]){var d=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(d)}return o},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e;r;)n.push(r),t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var o=r.single_source_shortest_paths(t,e,n);return r.extract_shortest_path_from_predecessor_list(o,n)},PriorityQueue:{make:function(t){var e,n=r.PriorityQueue,o={};for(e in t=t||{},n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o.queue=[],o.sorter=t.sorter||n.default_sorter,o},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};t.exports=r},function(t,e,n){var r=n(123);e.render=function(t,e,n){var o=n,i=e;void 0!==o||e&&e.getContext||(o=e,e=void 0),e||(i=function(){try{return document.createElement("canvas")}catch(t){throw new Error("You need to specify a canvas element")}}()),o=r.getOptions(o);var a=r.getImageWidth(t.modules.size,o),s=i.getContext("2d"),u=s.createImageData(a,a);return r.qrToImageData(u.data,t,o),function(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}(s,i,a),s.putImageData(u,0,0),i},e.renderToDataURL=function(t,n,r){var o=r;void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={});var i=e.render(t,n,o),a=o.type||"image/png",s=o.rendererOpts||{};return i.toDataURL(a,s.quality)}},function(t,e,n){var r=n(123);function o(t,e){var n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function i(t,e,n){var r=t+e;return void 0!==n&&(r+=" "+n),r}e.render=function(t,e,n){var a=r.getOptions(e),s=t.modules.size,u=t.modules.data,c=s+2*a.margin,f=a.color.light.a?"<path "+o(a.color.light,"fill")+' d="M0 0h'+c+"v"+c+'H0z"/>':"",l="<path "+o(a.color.dark,"stroke")+' d="'+function(t,e,n){for(var r="",o=0,a=!1,s=0,u=0;u<t.length;u++){var c=Math.floor(u%e),f=Math.floor(u/e);c||a||(a=!0),t[u]?(s++,u>0&&c>0&&t[u-1]||(r+=a?i("M",c+n,.5+f+n):i("m",o,0),o=0,a=!1),c+1<e&&t[u+1]||(r+=i("h",s),s=0)):o++}return r}(u,s,a.margin)+'"/>',h='viewBox="0 0 '+c+" "+c+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+h+' shape-rendering="crispEdges">'+f+l+"</svg>\n";return"function"==typeof n&&n(null,p),p}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(2),u=n.n(s),c=n(3),f=n.n(c),l=function(){function t(){u()(this,t)}return f()(t,null,[{key:"checkIp",value:function(t){return!!/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/.test(t)}}]),t}(),h=function(){function t(){u()(this,t)}return f()(t,null,[{key:"onElectron",value:function(){return"undefined"!=typeof window&&void 0!==window.navigator&&void 0!==window.navigator.userAgent&&window.navigator.userAgent.indexOf(" electron/")>-1}}]),t}(),p=n(11),d=n.n(p),v=n(8),g=n.n(v),y=n(12),m=n.n(y),w=n(13),b=n.n(w),x=function(t){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"APIEXCEPTION";return u()(this,e),(o=d()(this,g()(e).call(this))).message=t,o.code=n,o.status=r,o.name=i,o}return m()(e,t),e}(b()(Error)),k=n(124),_=n.n(k),A=function(){function t(){u()(this,t)}return f()(t,null,[{key:"internetAvailable",value:function(){var t=a()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.get("ping",!1,{timeout:3e3});case 3:return t.abrupt("return",!0);case 6:if(t.prev=6,t.t0=t.catch(0),!(t.t0 instanceof x)){t.next=10;break}throw t.t0;case 10:throw new Error(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()},{key:"uuid",value:function(){try{var t=localStorage.getItem("uuid");return t||(t=_()(),localStorage.setItem("uuid",t)),t}catch(t){throw new Error(t)}}}]),t}(),C=n(16),S=n.n(C),E=function(){function t(){u()(this,t)}return f()(t,null,[{key:"generate",value:function(t){return Math.random().toString(t).substr(2)}}]),t}(),I=n(5),T=n.n(I),P=n(14),R=n.n(P),N=n(52),D=n.n(N),B=function(){function t(){u()(this,t)}return f()(t,[{key:"_authorizationHeaders",value:function(){if(!G._token)throw new x("Access token not provided","ACCESS_TOKEN_MISSING",412);if(!G._appToken)throw new x("App token not provided","APP_TOKEN_MISSING",412);return{Authorization:"Bearer "+G._token,AppToken:G._appToken}}},{key:"_request",value:function(){var t=a()(o.a.mark(function t(e,n){var r,i,a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r={baseURL:G._url+"/api",url:e.url,method:e.method||"get",headers:R()({Accept:"application/json"},e.headers,n?this._authorizationHeaders():null),params:e.params||{},data:e.data||{},timeout:e.timeout?e.timeout:1e4},t.prev=1,t.next=4,D()(r);case 4:return i=t.sent,a=i.data,t.abrupt("return",a);case 9:if(t.prev=9,t.t0=t.catch(1),!t.t0.response){t.next=22;break}if(!t.t0.response.data){t.next=19;break}if(!t.t0.response.data.message){t.next=17;break}throw new x(t.t0.response.data.message,t.t0.response.statusText.toUpperCase(),t.t0.response.status);case 17:if(!t.t0.response.data.errors){t.next=19;break}throw new x(t.t0.response.data.errors,t.t0.response.statusText.toUpperCase(),t.t0.response.status);case 19:throw new x(t.t0.message,"ERROR",t.t0.response.status);case 22:if(!t.t0.request){t.next=24;break}throw new x("Request aborted, timeout","RESPONSE_TIMEOUT",408);case 24:throw new x(t.t0.message,"UNEXPECTED_ERROR",501);case 25:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"get",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._request(R()({method:"get",url:t},n),e)}},{key:"post",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this._request(R()({method:"post",url:t,data:e},r),n)}},{key:"put",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this._request(R()({method:"put",url:t,data:e},r),n)}},{key:"delete",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return this._request(R()({method:"delete",url:t,data:e},r),n)}}]),t}(),O=function(t){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"AUTHEXCEPTION";return u()(this,e),(o=d()(this,g()(e).call(this))).message=t,o.code=n,o.status=r,o.name=i,o}return m()(e,t),e}(b()(Error)),F=n(125),M=n.n(F),j=function(){function t(){u()(this,t),this._initialized=!1,this._url=null,this._socket=null,this._callbacks=null}return f()(t,[{key:"init",value:function(){var t=a()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this,G.isInitiated()){t.next=3;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 3:if(e._initialized){t.next=8;break}return t.next=6,M()(e.url,{reconnection:!0,query:"appToken="+G._appToken+"&macAddress="+G._macAddress});case 6:e._socket=t.sent,e._initialized=!0;case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"on",value:function(t,e){this._socket.on(t,function(t){e(t)})}},{key:"send",value:function(t,e){this._socket.emit(t,e)}},{key:"initialized",get:function(){return this._initialized},set:function(t){this._initialized=t}},{key:"url",get:function(){return this._url},set:function(t){this._url=t}},{key:"socket",get:function(){return this._socket},set:function(t){this._socket=t}},{key:"callbacks",get:function(){return this._callbacks},set:function(t){this._callbacks=t}}]),t}(),L=new B,U=new j,q=function(){var t=a()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:navigator.onLine?z._online=!0:z._online=!1;case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();window.addEventListener("online",q),window.addEventListener("offline",q);var z=function(){function t(e){return u()(this,t),t.instance||(t.instance=this),this._workspace=null,this._appToken=null,this._appKey=null,this._appSecret=null,this._identity=null,this._macAddress=null,this._config=null,this._electron=!1,this._initialized=!1,this._token=null,this._url=null,this._flowId=null,this._online=!1,this._zoomAppToken=null,this._pusherAppToken=null,this.api=e,this.socket=U,t.instance}return f()(t,[{key:"init",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.workspace){t.next=2;break}throw new O("Workspace not provided","WORKSPACE_MISSING",412);case 2:if(e.app_token){t.next=4;break}throw new O("App token not provided","APP_TOKEN_MISSING",412);case 4:if(e.app_key){t.next=6;break}throw new O("App key not provided","APP_KEY_MISSING",412);case 6:if(e.app_secret){t.next=8;break}throw new O("App secret not provided","APP_SECRET_MISSING",412);case 8:if(!this._electron||e.mac_address){t.next=10;break}throw new O("Mac address not provided","MAC_ADDRESS_MISSING",412);case 10:return t.prev=10,this._workspace=e.workspace,this._appToken=e.app_token,this._appKey=e.app_key,this._appSecret=e.app_secret,this._identity=A.uuid(),this._electron&&(this._macAddress=e.mac_address),t.next=19,q();case 19:return t.next=21,A.internetAvailable(this.api);case 21:return n={app_token:this._appToken,app_key:this._appKey,app_secret:this._appSecret,identity:this._identity},this._electron&&(n.mac_address=this._macAddress),e.hostname&&(n.device_name=e.hostname),t.next=26,this.api.post("/init",n,!1);case 26:r=t.sent,this._token=r.access_token,this._initialized=!0,r.node&&(this.socket._url=r.node,this.socket.init()),r.flowId&&(this._flowId=r.flowId),r.zoomAppToken&&(this._zoomAppToken=r.zoomAppToken),r.pusherAppToken&&(this._pusherAppToken=r.pusherAppToken),r.config&&(this._config=r.config,this._config.status=r.status),t.next=41;break;case 36:if(t.prev=36,t.t0=t.catch(10),!(t.t0 instanceof x||t.t0 instanceof O)){t.next=40;break}throw t.t0;case 40:throw new Error(t.t0);case 41:case"end":return t.stop()}},t,this,[[10,36]])}));return function(e){return t.apply(this,arguments)}}()},{key:"isInitiated",value:function(){return null!==this._workspace&&null!==this._appToken&&null!==this._appKey&&null!==this._appSecret&&null!==this._token&&this._initialized}},{key:"_workspace",get:function(){return this.constructor._workspace},set:function(t){var e;e="localhost"===t?"http://localhost:9000":l.checkIp(t)?"http://"+t+":9000":"https://"+t+".infinitum.app",this.constructor._workspace=t,this.constructor._url=e}},{key:"_appToken",get:function(){return this.constructor._appToken},set:function(t){this.constructor._appToken=t}},{key:"_appKey",get:function(){return this.constructor._appKey},set:function(t){this.constructor._appKey=t}},{key:"_appSecret",get:function(){return this.constructor._appSecret},set:function(t){this.constructor._appSecret=t}},{key:"_identity",get:function(){return this.constructor._identity},set:function(t){this.constructor._identity=t}},{key:"_macAddress",get:function(){return this.constructor._macAddress},set:function(t){this.constructor._macAddress=t}},{key:"_online",get:function(){return this.constructor._online},set:function(t){this.constructor._online=t}},{key:"_config",get:function(){return this.constructor._config},set:function(t){this.constructor._config=t}},{key:"_electron",get:function(){return this.constructor._electron},set:function(t){this.constructor._electron=t}},{key:"_token",get:function(){return this.constructor._token},set:function(t){this.constructor._token=t}},{key:"_initialized",get:function(){return this.constructor._initialized},set:function(t){this.constructor._initialized=t}},{key:"_url",get:function(){return this.constructor._url},set:function(t){this.constructor._url=t}},{key:"_flowId",get:function(){return this.constructor._flowId},set:function(t){this.constructor._flowId=t}},{key:"_zoomAppToken",get:function(){return this.constructor._zoomAppToken},set:function(t){this.constructor._zoomAppToken=t}},{key:"_pusherAppToken",set:function(t){this.constructor._pusherAppToken=t},get:function(){return this.constructor._pusherAppToken}}]),t}(),K=new z(L);T()(K);var G=K,Y=function(t){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"EXCEPTION";return u()(this,e),(o=d()(this,g()(e).call(this))).message=t,o.code=n,o.status=r,o.name=i,o}return m()(e,t),e}(b()(Error)),H=G.api,J=new(function(){function t(){return u()(this,t),t.instance||(t.instance=this),t.instance}return f()(t,[{key:"create",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("No params were sent","PARAMS_MISSING",412);case 5:if(n=new FormData,!e.provider){t.next=10;break}n.append("provider",e.provider),t.next=11;break;case 10:throw new Y("provider missing","PARAMS_MISSING",412);case 11:if(!e.method){t.next=15;break}n.append("method",e.method),t.next=16;break;case 15:throw new Y("method missing","PARAMS_MISSING",412);case 16:return e.device&&n.append("device",e.device),e.value&&n.append("value",e.value),e.action&&n.append("action",e.action),e.proximity&&n.append("proximity",e.proximity),e.position&&n.append("position",e.position),e.enroll&&n.append("enroll",e.enroll),e.identity&&n.append("identity",e.identity),e.app&&n.append("app",e.app),t.next=26,H.post("/analytics/auth",n);case 26:return r=t.sent,t.abrupt("return",r);case 30:if(t.prev=30,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=34;break}throw t.t0;case 34:throw new Error(t.t0);case 35:case"end":return t.stop()}},t,null,[[2,30]])}));return function(e){return t.apply(this,arguments)}}()},{key:"all",value:function(){var t=a()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:return t.prev=2,t.next=5,H.get("/analytics/auth");case 5:return e=t.sent,t.abrupt("return",e);case 9:if(t.prev=9,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=13;break}throw t.t0;case 13:throw new Error(t.t0);case 14:case"end":return t.stop()}},t,null,[[2,9]])}));return function(){return t.apply(this,arguments)}}()},{key:"nextPage",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:return t.prev=2,t.next=5,H.get(e);case 5:return n=t.sent,t.abrupt("return",n);case 9:if(t.prev=9,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=13;break}throw t.t0;case 13:throw new Error(t.t0);case 14:case"end":return t.stop()}},t,null,[[2,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("Analytics Auth id missing","PARAMS_MISSING",412);case 5:return t.next=7,H.get("/analytics/auth/"+e);case 7:return n=t.sent,t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=15;break}throw t.t0;case 15:throw new Error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()}]),t}());T()(J);var V=J,X=new function t(){return u()(this,t),t.instance||(t.instance=this),this.auth=V,t.instance};T()(X);var W=X,Z=function(t){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CMSEXCEPTION";return u()(this,e),(o=d()(this,g()(e).call(this))).message=t,o.code=n,o.status=r,o.name=i,o}return m()(e,t),e}(b()(Error)),$=n(126),Q=n.n($),tt=n(80),et=n(81),nt=n.n(et),rt=function(t){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"DBEXCEPTION";return u()(this,e),(o=d()(this,g()(e).call(this))).message=t,o.code=n,o.status=r,o.name=i,o}return m()(e,t),e}(b()(Error)),ot=function(){function t(){u()(this,t),this.db=null}return f()(t,[{key:"initDatabase",value:function(t){this.db=new tt.a(t)}},{key:"loadTables",value:function(t,e,n){if(null===this.db||void 0===this.db)throw new rt("Database not initialized","DB_MISSING",412);for(var r={},o=0;o<t.length;o++)r[t[o]]=e[o];this.db.version(n).stores(r)}},{key:"exists",value:function(t){return tt.a.exists(t)}},{key:"open",value:function(){var t=a()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:return t.next=4,this.db.open();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"close",value:function(){var t=a()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:return t.next=4,this.db.close();case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getAll",value:function(){var t=a()(o.a.mark(function t(e,n,r,i,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:if(null!==this.db[e]&&void 0!==this.db[e]){t.next=4;break}throw new rt("Table does not exist","DB_TABLE_MISSING",412);case 4:if(!i){t.next=48;break}if("desc"!==a){t.next=27;break}if(!n||!r){t.next=12;break}return t.next=9,this.db[e].orderBy(i).offset(r).limit(n).reverse().toArray();case 9:return t.abrupt("return",t.sent);case 12:if(!n){t.next=18;break}return t.next=15,this.db[e].orderBy(i).limit(n).reverse().toArray();case 15:return t.abrupt("return",t.sent);case 18:if(!r){t.next=22;break}return t.next=21,this.db[e].orderBy(i).offset(r).reverse().toArray();case 21:return t.abrupt("return",t.sent);case 22:return t.next=24,this.db[e].orderBy(i).reverse().toArray();case 24:return t.abrupt("return",t.sent);case 27:if(!n||!r){t.next=33;break}return t.next=30,this.db[e].orderBy(i).offset(r).limit(n).toArray();case 30:return t.abrupt("return",t.sent);case 33:if(!n){t.next=39;break}return t.next=36,this.db[e].orderBy(i).limit(n).toArray();case 36:return t.abrupt("return",t.sent);case 39:if(!r){t.next=43;break}return t.next=42,this.db[e].orderBy(i).offset(r).toArray();case 42:return t.abrupt("return",t.sent);case 43:return t.next=45,this.db[e].orderBy(i).toArray();case 45:return t.abrupt("return",t.sent);case 46:t.next=64;break;case 48:if(!n||!r){t.next=54;break}return t.next=51,this.db[e].offset(r).limit(n).toArray();case 51:return t.abrupt("return",t.sent);case 54:if(!n){t.next=60;break}return t.next=57,this.db[e].limit(n).toArray();case 57:return t.abrupt("return",t.sent);case 60:if(!r){t.next=64;break}return t.next=63,this.db[e].offset(r).toArray();case 63:return t.abrupt("return",t.sent);case 64:return t.next=66,this.db[e].toArray();case 66:return t.abrupt("return",t.sent);case 67:case"end":return t.stop()}},t,this)}));return function(e,n,r,o,i){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=a()(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:if(null!==this.db[e]&&void 0!==this.db[e]){t.next=4;break}throw new rt("Table does not exist","DB_TABLE_MISSING",412);case 4:return t.next=6,this.db[e].get(n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=a()(o.a.mark(function t(e,n,r,i,a,s,u){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:if(null!==this.db[e]&&void 0!==this.db[e]){t.next=4;break}throw new rt("Table does not exist","DB_TABLE_MISSING",412);case 4:if(!s){t.next=48;break}if("desc"!==u){t.next=27;break}if(!i||!a){t.next=12;break}return t.next=9,this.db[e].where(n).equals(r).offset(a).limit(i).reverse().sortBy(s);case 9:return t.abrupt("return",t.sent);case 12:if(!i){t.next=18;break}return t.next=15,this.db[e].where(n).equals(r).limit(i).reverse().sortBy(s);case 15:return t.abrupt("return",t.sent);case 18:if(!a){t.next=22;break}return t.next=21,this.db[e].where(n).equals(r).offset(a).reverse().sortBy(s);case 21:return t.abrupt("return",t.sent);case 22:return t.next=24,this.db[e].where(n).equals(r).reverse().sortBy(s);case 24:return t.abrupt("return",t.sent);case 27:if(!i||!a){t.next=33;break}return t.next=30,this.db[e].where(n).equals(r).offset(a).limit(i).sortBy(s);case 30:return t.abrupt("return",t.sent);case 33:if(!i){t.next=39;break}return t.next=36,this.db[e].where(n).equals(r).limit(i).sortBy(s);case 36:return t.abrupt("return",t.sent);case 39:if(!a){t.next=43;break}return t.next=42,this.db[e].where(n).equals(r).offset(a).sortBy(s);case 42:return t.abrupt("return",t.sent);case 43:return t.next=45,this.db[e].where(n).equals(r).sortBy(s);case 45:return t.abrupt("return",t.sent);case 46:t.next=64;break;case 48:if(!i||!a){t.next=54;break}return t.next=51,this.db[e].where(n).equals(r).offset(a).limit(i).toArray();case 51:return t.abrupt("return",t.sent);case 54:if(!i){t.next=60;break}return t.next=57,this.db[e].where(n).equals(r).limit(i).toArray();case 57:return t.abrupt("return",t.sent);case 60:if(!a){t.next=64;break}return t.next=63,this.db[e].where(n).equals(r).offset(a).toArray();case 63:return t.abrupt("return",t.sent);case 64:return t.next=66,this.db[e].where(n).equals(r).toArray();case 66:return t.abrupt("return",t.sent);case 67:case"end":return t.stop()}},t,this)}));return function(e,n,r,o,i,a,s){return t.apply(this,arguments)}}()},{key:"filter",value:function(){var t=a()(o.a.mark(function t(e,n,r,i,a,s,u,c){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:if(null!==this.db[e]&&void 0!==this.db[e]){t.next=4;break}throw new rt("Table does not exist","DB_TABLE_MISSING",412);case 4:if(!s){t.next=48;break}if("desc"!==u){t.next=27;break}if(!i||!a){t.next=12;break}return t.next=9,this.db[e].orderBy(s).filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).offset(a).limit(i).reverse().toArray();case 9:return t.abrupt("return",t.sent);case 12:if(!i){t.next=18;break}return t.next=15,this.db[e].orderBy(s).filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).limit(i).reverse().toArray();case 15:return t.abrupt("return",t.sent);case 18:if(!a){t.next=22;break}return t.next=21,this.db[e].orderBy(s).filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).offset(a).reverse().toArray();case 21:return t.abrupt("return",t.sent);case 22:return t.next=24,this.db[e].orderBy(s).filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).reverse().toArray();case 24:return t.abrupt("return",t.sent);case 27:if(!i||!a){t.next=33;break}return t.next=30,this.db[e].orderBy(s).filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).offset(a).limit(i).toArray();case 30:return t.abrupt("return",t.sent);case 33:if(!i){t.next=39;break}return t.next=36,this.db[e].orderBy(s).filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).limit(i).toArray();case 36:return t.abrupt("return",t.sent);case 39:if(!a){t.next=43;break}return t.next=42,this.db[e].orderBy(s).filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).offset(a).toArray();case 42:return t.abrupt("return",t.sent);case 43:return t.next=45,this.db[e].orderBy(s).filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).toArray();case 45:return t.abrupt("return",t.sent);case 46:t.next=62;break;case 48:if(!i||!a){t.next=54;break}return t.next=51,this.db[e].filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).offset(a).limit(i).toArray();case 51:return t.abrupt("return",t.sent);case 54:if(!i){t.next=58;break}return t.abrupt("return",this.db[e].filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).limit(i).toArray());case 58:if(!a){t.next=62;break}return t.next=61,this.db[e].filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).offset(a).toArray();case 61:return t.abrupt("return",t.sent);case 62:return t.next=64,this.db[e].filter(function(t){var e=!1,o=!1,i=!1,a=!1;return null!==c&&c.forEach(function(n){if(null!=n&&"categories"==n.name&&null!==t.categories&&void 0!==t.categories)for(var r=0;r<t.categories.length;r++)if(n.ids.includes(t.categories[r].id.toString())){e=!0;break}null!=n&&"dates"==n.name&&Date.parse(t.date_created)>=Date.parse(n.start)&&Date.parse(t.date_created)<=Date.parse(n.end)&&(o=!0),null!=n&&"language"==n.name&&n.value==t.language_id&&(a=!0)}),""!==r&&(i=t[n].toLowerCase().includes(r.toLowerCase())),null==c?i:null!==c&&3==c.length&&""!==r?i&&e&&o&&a:null!==c&&3==c.length&&""==r?e&&o&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""!==r?i&&e&&a:null!==c&&2==c.length&&"categories"==c[0].name&&""==r?e&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""!==r?i&&o&&a:null!==c&&2==c.length&&"dates"==c[0].name&&""==r?o&&a:null!==c&&1==c.length&&"language"==c[0].name&&""!==r?i&&a:null!==c&&1==c.length&&"language"==c[0].name&&""==r?a:void 0}).toArray();case 64:return t.abrupt("return",t.sent);case 65:case"end":return t.stop()}},t,this)}));return function(e,n,r,o,i,a,s,u){return t.apply(this,arguments)}}()},{key:"getFirst",value:function(){var t=a()(o.a.mark(function t(e,n,r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:if(null!==this.db[e]&&void 0!==this.db[e]){t.next=4;break}throw new rt("Table does not exist","DB_TABLE_MISSING",412);case 4:return t.next=6,this.db[e].where(n).equals(r).toArray();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"add",value:function(){var t=a()(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:if(null!==this.db[e]&&void 0!==this.db[e]){t.next=4;break}throw new rt("Table does not exist","DB_TABLE_MISSING",412);case 4:return t.next=6,this.db[e].add(n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=a()(o.a.mark(function t(e,n,r,i){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:if(null!==this.db[e]&&void 0!==this.db[e]){t.next=4;break}throw new rt("Table does not exist","DB_TABLE_MISSING",412);case 4:if(a=this,"local_id"!==n){t.next=7;break}return t.abrupt("return",a.db[e].update(r,i));case 7:return t.abrupt("return",this.getFirst(e,n,r).then(function(t){return a.db[e].update(t[0].local_id,i)}));case 8:case"end":return t.stop()}},t,this)}));return function(e,n,r,o){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=a()(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:if(null!==this.db[e]&&void 0!==this.db[e]){t.next=4;break}throw new rt("Table does not exist","DB_TABLE_MISSING",412);case 4:return t.next=6,this.db[e].delete(n);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"import",value:function(){var t=a()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:nt.a.importFromJsonString(this.db.backendDB(),Q()(e),function(t){console.log(t)});case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"export",value:function(){var t=a()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==this.db&&void 0!==this.db){t.next=2;break}throw new rt("Database not initialized","DB_MISSING",412);case 2:nt.a.exportToJsonString(this.db.backendDB(),function(t,e){console.log(t)});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}(),it=new(function(){function t(){return u()(this,t),t.instance||(t.instance=this),this.plugin=new ot,this.plugin.initDatabase("db"),t.instance}return f()(t,[{key:"loadTables",value:function(t,e,n){t instanceof Array?this.plugin.loadTables(t,e,n):this.plugin.loadTables([t],[e],n)}},{key:"add",value:function(){var t=a()(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.add(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=a()(o.a.mark(function t(e,n,r){var i,a=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(i=a.length>3&&void 0!==a[3]?a[3]:null)){t.next=5;break}return t.next=4,this.plugin.update(e,n,i,r);case 4:return t.abrupt("return",t.sent);case 5:return t.next=7,this.plugin.update(e,n,r[n],r);case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=a()(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.delete(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getFirst",value:function(){var t=a()(o.a.mark(function t(e,n,r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.getFirst(e,n,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=a()(o.a.mark(function t(e,n,r){var i,a,s,u,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:null,a=c.length>4&&void 0!==c[4]?c[4]:null,s=c.length>5&&void 0!==c[5]?c[5]:null,u=c.length>6&&void 0!==c[6]?c[6]:null,t.next=6,this.plugin.get(e,n,r,i,a,s,u);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"filter",value:function(){var t=a()(o.a.mark(function t(e,n,r,i,a,s,u,c){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.filter(e,n,r,i,a,s,u,c);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e,n,r,o,i,a,s,u){return t.apply(this,arguments)}}()},{key:"getById",value:function(){var t=a()(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.getById(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"getAll",value:function(){var t=a()(o.a.mark(function t(e,n,r,i,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.getAll(e,n,r,i,a);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e,n,r,o,i){return t.apply(this,arguments)}}()},{key:"open",value:function(){var t=a()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.open();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"close",value:function(){var t=a()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.close();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"import",value:function(){var t=a()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.import(e);case 2:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"export",value:function(){var t=a()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.plugin.export();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),t}());T()(it);var at=it,st=G.api,ut=new(function(){function t(){return u()(this,t),t.instance||(t.instance=this),at.loadTables(["objects","objects_drafts","types"],["++local_id,alias,attachments,body,description,categories,id,id_type,image,image_name,link,name,subtitle,date_created,date_modified,language_id, aggregator","++local_id,alias,attachments,body,description,categories,id,id_type,image,image_name,link,name,subtitle, parent, revision,date_created,date_modified,language_id, aggregator","++local_id, name, alias, id, link,date_created,date_modified"],1),t.instance}return f()(t,[{key:"import",value:function(){var t=a()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at.open();case 3:return t.next=5,at.import(e);case 5:return t.next=7,at.close();case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"export",value:function(){var t=a()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at.open();case 3:return t.next=5,at.export();case 5:return e=t.sent,t.next=8,at.close();case 8:return t.abrupt("return",e);case 11:t.prev=11,t.t0=t.catch(0);case 13:case"end":return t.stop()}},t,null,[[0,11]])}));return function(){return t.apply(this,arguments)}}()},{key:"sync",value:function(){var t=a()(o.a.mark(function t(e){var n,r,i,a,s,u,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:t.prev=2,n=20,e.items&&(n=e.items),r="",e.id_type&&(r+="id_type="+e.id_type+"&"),e.order&&(r+="order="+e.order+"&"),""!==r&&(r=r.substring(0,r.length-1)),i="/cms/v3/objects/paginate/"+n+"?"+r,localStorage.syncDate&&(i+="&date_from="+localStorage.syncDate.replace("T"," ").replace("Z","")),(new Date).toString().includes("GMT+01")?(console.log("GMT+1"),a=new Date,console.log(a.toString()),a.setTime((new Date).getTime()+36e5),console.log(a.toString()),localStorage.syncDate=a.toISOString()):(console.log("GMT"),localStorage.syncDate=(new Date).toISOString());case 12:return t.next=14,st.get(i);case 14:return s=t.sent,t.next=17,at.open();case 17:u=0;case 18:if(!(u<s.items.length)){t.next=37;break}return t.next=21,at.getFirst("objects","id",s.items[u].id);case 21:if(!((c=t.sent).length>0)){t.next=32;break}if(3!=s.items[u].id_status){t.next=28;break}return t.next=26,at.delete("objects",c[0].local_id);case 26:t.next=30;break;case 28:return t.next=30,at.update("objects","id",s.items[u]);case 30:t.next=34;break;case 32:return t.next=34,at.add("objects",s.items[u]);case 34:u++,t.next=18;break;case 37:return t.next=39,at.close();case 39:i=s.nextPage;case 40:if(s.hasMorePages){t.next=12;break}case 41:return t.abrupt("return",s);case 44:if(t.prev=44,t.t0=t.catch(2),!(t.t0 instanceof x||t.t0 instanceof O)){t.next=48;break}throw t.t0;case 48:throw new Error(t.t0);case 49:case"end":return t.stop()}},t,null,[[2,44]])}));return function(e){return t.apply(this,arguments)}}()},{key:"publishState",value:function(){var t=a()(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:return t.prev=2,r={published:n,date_modified:(new Date).toISOString().replace("T"," ").split(".")[0]},t.next=6,st.put("/cms/v3/objects/"+e+"/published",r);case 6:return i=t.sent,t.abrupt("return",i);case 10:if(t.prev=10,t.t0=t.catch(2),!(t.t0 instanceof x||t.t0 instanceof O)){t.next=14;break}throw t.t0;case 14:throw new Error(t.t0);case 15:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"checkpublish",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null,!isNaN(e)){t.next=21;break}return t.next=7,this.getDraft(S()(e.split("_")[1]),"local_id");case 7:if(n=t.sent,isNaN(S()(n[0].parent))){t.next=21;break}return r={id_object:n[0].parent,id_revision:n[0].id_revision},t.prev=10,t.next=13,st.post("/cms/v3/objects/checkpublish",r);case 13:return t.abrupt("return",t.sent);case 16:if(t.prev=16,t.t0=t.catch(10),!(t.t0 instanceof x||t.t0 instanceof O)){t.next=20;break}throw t.t0;case 20:throw new Z(t.t0);case 21:return t.abrupt("return",null);case 24:return t.prev=24,t.t1=t.catch(2),console.log(t.t1),t.abrupt("return",null);case 28:case"end":return t.stop()}},t,this,[[2,24],[10,16]])}));return function(e){return t.apply(this,arguments)}}()},{key:"publish",value:function(){var t=a()(o.a.mark(function t(e){var n,r,i,a,s,u,c,f,l,h,p,d,v,g,y,m,w=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=w.length>1&&void 0!==w[1]?w[1]:null,G.isInitiated()){t.next=3;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 3:if(t.prev=3,i=null,!isNaN(e)){t.next=21;break}return t.next=8,this.getDraft(S()(e.split("_")[1]),"local_id");case 8:if(a=t.sent,s=a[0].local_id,isNaN(S()(a[0].parent))){t.next=16;break}return delete a[0].local_id,i=a[0].parent,delete a[0].parent,t.next=16,this.updateObj(a[0],S()(i));case 16:return t.next=18,this.deleteDraft(s);case 18:r=a,t.next=24;break;case 21:return t.next=23,this.get(e);case 23:r=t.sent;case 24:if(u={},null!==n){for((c={}).fields=[],f=0;f<r[0].fields.length;f++)S()(r[0].fields[f].id)===S()(n)&&c.fields.push(r[0].fields[f]);u.addons=c,u.object={date_modifed:r[0].date_modifed}}else{for((l={}).attachments=r[0].attachments,l.categories=[],h=0;h<r[0].categories.length;h++)l.categories.push(r[0].categories[h].id);for(l.fields=[],p=0;p<r[0].fields.length;p++)l.fields.push(r[0].fields[p]);for(l.keywords=[],d=0;d<r[0].keywords.length;d++)l.keywords.push(r[0].keywords[d].keyword);for(v in u.addons=l,u.object={},r[0])r[0][v]instanceof Array||(u.object[v]=r[0][v]);u.object.id_type=r[0].type.id}if(null===r[0].id||null===n){t.next=32;break}return t.next=29,st.put("/cms/v3/objects/"+e+"/field",u);case 29:g=t.sent,t.next=62;break;case 32:if(!i||null===i){t.next=48;break}return t.next=35,st.put("/cms/v3/objects/"+i,u);case 35:return g=t.sent,t.next=38,this.getDraft(S()(i),"parent");case 38:y=t.sent,m=0;case 40:if(!(m<y.length)){t.next=46;break}return t.next=43,this.deleteDraft(y[m].local_id);case 43:m++,t.next=40;break;case 46:t.next=62;break;case 48:return t.next=50,st.post("/cms/v3/objects",u);case 50:return g=t.sent,r[0].id=g.success.id,r[0].link=g.success.link,r[0].alias=g.success.link.split("/")[g.success.link.split("/").length-1],delete r[0].local_id,delete r[0].parent,t.next=58,at.open();case 58:return t.next=60,at.add("objects",r[0]);case 60:return t.next=62,at.close();case 62:return t.abrupt("return",g);case 65:if(t.prev=65,t.t0=t.catch(3),!(t.t0 instanceof x||t.t0 instanceof O)){t.next=69;break}throw t.t0;case 69:throw new Error(t.t0);case 70:case"end":return t.stop()}},t,this,[[3,65]])}));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:return t.prev=2,t.next=5,st.delete("/cms/v3/objects/"+e);case 5:return n=t.sent,t.next=8,at.open();case 8:return t.next=10,at.getFirst("objects","id",e);case 10:return r=t.sent,t.next=13,at.delete("objects",r[0].local_id);case 13:return t.next=15,at.close();case 15:return t.abrupt("return",n);case 18:if(t.prev=18,t.t0=t.catch(2),!(t.t0 instanceof x||t.t0 instanceof O)){t.next=22;break}throw t.t0;case 22:throw new Error(t.t0);case 23:case"end":return t.stop()}},t,null,[[2,18]])}));return function(e){return t.apply(this,arguments)}}()},{key:"types",value:function(){var t=a()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:return t.prev=2,"/cms/v3/types?app_id=106",t.next=6,st.get("/cms/v3/types?app_id=106");case 6:return e=t.sent,t.next=9,at.open();case 9:n=0;case 10:if(!(n<e.length)){t.next=24;break}return t.next=13,at.getFirst("types","id",e[n].id);case 13:if(!(t.sent.length>0)){t.next=19;break}return t.next=17,at.update("types","id",e[n]);case 17:t.next=21;break;case 19:return t.next=21,at.add("types",e[n]);case 21:n++,t.next=10;break;case 24:return t.next=26,at.close();case 26:return t.abrupt("return",e);case 29:if(t.prev=29,t.t0=t.catch(2),!(t.t0 instanceof x||t.t0 instanceof O)){t.next=33;break}throw t.t0;case 33:throw new Error(t.t0);case 34:case"end":return t.stop()}},t,null,[[2,29]])}));return function(){return t.apply(this,arguments)}}()},{key:"getTypes",value:function(){var t=a()(o.a.mark(function t(e){var n,r,i=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"id",t.prev=1,t.next=4,at.open();case 4:if("all"!==e){t.next=11;break}return t.next=7,at.getAll("types");case 7:return r=t.sent,t.next=10,at.close();case 10:return t.abrupt("return",r);case 11:return t.next=13,at.get("types",n,e);case 13:return r=t.sent,t.next=16,at.close();case 16:return t.abrupt("return",r);case 19:throw t.prev=19,t.t0=t.catch(1),new rt("Database access error","DB_ERROR",412);case 22:case"end":return t.stop()}},t,null,[[1,19]])}));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=a()(o.a.mark(function t(e){var n,r,i,a,s,u=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:null,r=u.length>2&&void 0!==u[2]?u[2]:null,i=u.length>3&&void 0!==u[3]?u[3]:null,a=u.length>4&&void 0!==u[4]?u[4]:null,t.prev=4,t.next=7,at.open();case 7:if("all"!==e){t.next=14;break}return t.next=10,at.getAll("objects",n,r,i,a);case 10:return s=t.sent,t.next=13,at.close();case 13:return t.abrupt("return",s);case 14:return t.next=16,at.get("objects","id",e);case 16:return s=t.sent,t.next=19,at.close();case 19:return t.abrupt("return",s);case 22:throw t.prev=22,t.t0=t.catch(4),new rt("Database access error","DB_ERROR",412);case 25:case"end":return t.stop()}},t,null,[[4,22]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getAllDraft",value:function(){var t=a()(o.a.mark(function t(){var e,n,r,i,a,s=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:null,n=s.length>1&&void 0!==s[1]?s[1]:null,r=s.length>2&&void 0!==s[2]?s[2]:null,i=s.length>3&&void 0!==s[3]?s[3]:null,t.prev=4,t.next=7,at.open();case 7:return t.next=9,at.getAll("objects_drafts",e,n,r,i);case 9:return a=t.sent,t.next=12,at.close();case 12:return t.abrupt("return",a);case 15:throw t.prev=15,t.t0=t.catch(4),console.log(t.t0),new rt("Database access error","DB_ERROR",412);case 19:case"end":return t.stop()}},t,null,[[4,15]])}));return function(){return t.apply(this,arguments)}}()},{key:"getByName",value:function(){var t=a()(o.a.mark(function t(e){var n,r,i,a,s,u,c,f,l=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:null,r=l.length>2&&void 0!==l[2]?l[2]:null,i=l.length>3&&void 0!==l[3]?l[3]:null,a=l.length>4&&void 0!==l[4]?l[4]:null,s=l.length>5&&void 0!==l[5]?l[5]:null,t.prev=5,t.next=8,at.open();case 8:return t.next=10,at.filter("objects","name",e,n,r,i,a,s);case 10:u=t.sent,c=0;case 12:if(!(c<u.length)){t.next=22;break}return console.log(u[c].id),t.next=16,at.get("objects","aggregator",u[c].id);case 16:f=t.sent,console.log(f),0!==f.length&&(u[c].hasAggregator=f[0].id);case 19:c++,t.next=12;break;case 22:return t.next=24,at.close();case 24:return t.abrupt("return",u);case 27:throw t.prev=27,t.t0=t.catch(5),console.log(t.t0),new rt("Database access error","DB_ERROR",412);case 31:case"end":return t.stop()}},t,null,[[5,27]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getDraftByName",value:function(){var t=a()(o.a.mark(function t(e){var n,r,i,a,s,u,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>1&&void 0!==c[1]?c[1]:null,r=c.length>2&&void 0!==c[2]?c[2]:null,i=c.length>3&&void 0!==c[3]?c[3]:null,a=c.length>4&&void 0!==c[4]?c[4]:null,s=c.length>5&&void 0!==c[5]?c[5]:null,t.prev=5,t.next=8,at.open();case 8:return t.next=10,at.filter("objects_drafts","name",e,n,r,i,a,s);case 10:return u=t.sent,t.next=13,at.close();case 13:return t.abrupt("return",u);case 16:throw t.prev=16,t.t0=t.catch(5),new rt("Database access error","DB_ERROR",412);case 19:case"end":return t.stop()}},t,null,[[5,16]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getDraft",value:function(){var t=a()(o.a.mark(function t(e){var n,r,i,a=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"local_id",r=!(a.length>2&&void 0!==a[2])||a[2],t.prev=2,t.next=5,at.open();case 5:return t.next=7,at.get("objects_drafts",n,e);case 7:if(i=t.sent,!r){t.next=11;break}return t.next=11,at.close();case 11:return t.abrupt("return",i);case 14:throw t.prev=14,t.t0=t.catch(2),new rt("Database access error","DB_ERROR",412);case 17:case"end":return t.stop()}},t,null,[[2,14]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getAllObjects",value:function(){var t=a()(o.a.mark(function t(e,n){var r,i,a,s,u,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:null,i=c.length>3&&void 0!==c[3]?c[3]:null,t.prev=2,t.next=5,at.open();case 5:return t.next=7,at.get("objects_drafts","parent","",e,n,r,i);case 7:if(!((a=t.sent).length<e&&0!==a.length)){t.next=13;break}e-=a.length,n=0,t.next=17;break;case 13:if(a.length!==e){t.next=17;break}return t.next=16,at.close();case 16:return t.abrupt("return",a);case 17:return t.next=19,at.getAll("objects",e,n,r,i);case 19:return s=t.sent,u=a.concat(s),t.next=23,at.close();case 23:return t.abrupt("return",u);case 26:throw t.prev=26,t.t0=t.catch(2),new rt("Database access error","DB_ERROR",412);case 29:case"end":return t.stop()}},t,null,[[2,26]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"deleteDraft",value:function(){var t=a()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at.open();case 3:return t.next=5,at.delete("objects_drafts",e);case 5:return t.next=7,at.close();case 7:t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),new rt("Database access error","DB_ERROR",412);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},{key:"createDraft",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at.open();case 3:return t.next=5,at.add("objects_drafts",e);case 5:return n=t.sent,t.next=8,at.close();case 8:return t.abrupt("return",n);case 11:throw t.prev=11,t.t0=t.catch(0),new rt("Database access error","DB_ERROR",412);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()},{key:"updateDraft",value:function(){var t=a()(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at.open();case 3:return t.next=5,at.update("objects_drafts","local_id",e,n);case 5:return t.next=7,at.close();case 7:t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),new rt("Database access error","DB_ERROR",412);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"updateObj",value:function(){var t=a()(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,at.open();case 3:return t.next=5,at.update("objects","id",e,n);case 5:return t.next=7,at.close();case 7:t.next=12;break;case 9:throw t.prev=9,t.t0=t.catch(0),new rt("Database access error","DB_ERROR",412);case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e,n){return t.apply(this,arguments)}}()}]),t}());T()(ut);var ct=ut,ft=new function t(){return u()(this,t),t.instance||(t.instance=this),this.database=at,this.objects=ct,t.instance};T()(ft);var lt=ft,ht=G.api,pt=new(function(){function t(){return u()(this,t),t.instance||(t.instance=this),t.instance}return f()(t,[{key:"create",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("No params given","PARAMS_MISSING",412);case 5:if(n=new FormData,e.device_id&&n.append("device_id",e.device_id),e.device_identity&&n.append("device_identity",e.device_identity),e.device_mac_address&&n.append("device_identity",e.device_mac_address),!e.lat){t.next=13;break}n.append("lat",e.lat),t.next=14;break;case 13:throw new Y("Latitude missing","PARAMS_MISSING",412);case 14:if(!e.lng){t.next=18;break}n.append("lng",e.lng),t.next=19;break;case 18:throw new Y("Longitude missing","PARAMS_MISSING",412);case 19:return t.next=21,ht.post("/devices/positions",n);case 21:return r=t.sent,t.abrupt("return",r);case 25:if(t.prev=25,t.t0=t.catch(2),!(t.t0 instanceof ApiException)){t.next=29;break}throw t.t0;case 29:throw new Error(t.t0);case 30:case"end":return t.stop()}},t,null,[[2,25]])}));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("Position id missing","PARAMS_MISSING",412);case 5:return t.next=7,ht.delete("/devices/positions/"+e);case 7:return n=t.sent,t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!(t.t0 instanceof ApiException)){t.next=15;break}throw t.t0;case 15:throw new Error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("Position id missing","PARAMS_MISSING",412);case 5:return t.next=7,ht.get("/devices/positions/"+e);case 7:return n=t.sent,t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!(t.t0 instanceof ApiException)){t.next=15;break}throw t.t0;case 15:throw new Error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getForDevice",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("Device id missing","PARAMS_MISSING",412);case 5:return t.next=7,ht.get("/devices/"+e+"/positions/");case 7:return n=t.sent,t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!(t.t0 instanceof ApiException)){t.next=15;break}throw t.t0;case 15:throw new Error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},{key:"all",value:function(){var t=a()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:return t.prev=2,t.next=5,ht.get("/devices/positions");case 5:return e=t.sent,t.abrupt("return",e);case 9:if(t.prev=9,t.t0=t.catch(2),!(t.t0 instanceof ApiException)){t.next=13;break}throw t.t0;case 13:throw new Error(t.t0);case 14:case"end":return t.stop()}},t,null,[[2,9]])}));return function(){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=a()(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=n){t.next=5;break}throw new Y("No params given","PARAMS_MISSING",412);case 5:if(null!=e){t.next=7;break}throw new Y("Position id missing","PARAMS_MISSING",412);case 7:return r=new FormData,n.device_id&&r.append("device_id",n.device_id),n.device_identity&&r.append("device_identity",n.device_identity),n.device_mac_address&&r.append("device_identity",n.device_mac_address),n.lat&&r.append("lat",n.lat),n.lng&&r.append("lng",n.lng),t.next=15,ht.post("/devices/positions",r);case 15:return i=t.sent,t.abrupt("return",i);case 19:if(t.prev=19,t.t0=t.catch(2),!(t.t0 instanceof ApiException)){t.next=23;break}throw t.t0;case 23:throw new Error(t.t0);case 24:case"end":return t.stop()}},t,null,[[2,19]])}));return function(e,n){return t.apply(this,arguments)}}()}]),t}());T()(pt);var dt=pt,vt=G.api,gt=new(function(){function t(){return u()(this,t),t.instance||(t.instance=this),this.position=dt,t.instance}return f()(t,[{key:"create",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,n=new FormData,void 0!==e){t.next=6;break}throw new O("No params given","PARAMS_MISSING",412);case 6:if(!e.name){t.next=10;break}n.append("name",e.name),t.next=11;break;case 10:throw new O("Device name missing","PARAMS_MISSING",412);case 11:if(e.ip&&n.append("ip",e.ip),e.mac_address?n.append("mac_address",e.mac_adress):G._electron&&(n.append("mac_address",G._macAddress),(!e||e&&!e.name)&&n.append("name",G._macAddress)),e.identity&&n.append("identity",e.identity),e.device_type&&n.append("device_type",e.device_type),!e.app_id){t.next=19;break}n.append("name",e.app_id),t.next=20;break;case 19:throw new O("App id missing","PARAMS_MISSING",412);case 20:if(e.app_version&&n.append("app_version",e.app_version),!e.licensed){t.next=25;break}n.append("licensed",e.licensed),t.next=26;break;case 25:throw new O("License flag missing","PARAMS_MISSING",412);case 26:return e.data&&n.append("data",e.data),e.users&&n.append("data",e.users),t.next=30,vt.post("/devices",n);case 30:return r=t.sent,t.abrupt("return",r);case 34:if(t.prev=34,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=38;break}throw t.t0;case 38:throw new Error(t.t0);case 39:case"end":return t.stop()}},t,null,[[2,34]])}));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new O("Device id missing","PARAMS_MISSING",412);case 5:return t.next=7,vt.delete("/devices/"+e);case 7:return n=t.sent,t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=15;break}throw t.t0;case 15:throw new Error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new O("Device id missing","PARAMS_MISSING",412);case 5:return t.next=7,vt.get("/devices/"+e);case 7:return n=t.sent,t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=15;break}throw t.t0;case 15:throw new Error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getByMac",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new O("Device mac address missing","PARAMS_MISSING",412);case 5:return t.next=7,vt.get("/devices/mac_address/"+e);case 7:return n=t.sent,t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=15;break}throw t.t0;case 15:throw new Error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},{key:"all",value:function(){var t=a()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:return t.prev=2,t.next=5,vt.get("/devices");case 5:return e=t.sent,t.abrupt("return",e);case 9:if(t.prev=9,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=13;break}throw t.t0;case 13:throw new Error(t.t0);case 14:case"end":return t.stop()}},t,null,[[2,9]])}));return function(){return t.apply(this,arguments)}}()},{key:"photo",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,n=new FormData,null!=e){t.next=6;break}throw new O("No params given","PARAMS_MISSING",412);case 6:if("string"!=typeof e.photo){t.next=10;break}n.append("photo64",e.photo),t.next=15;break;case 10:if(void 0===e.photo||"string"!=typeof e.photo.name){t.next=14;break}n.append("photo",e.photo,e.photo.name),t.next=15;break;case 14:throw new O("Photo missing","PARAMS_MISSING",412);case 15:if(!e.device_id){t.next=19;break}n.append("device_id",e.device_id),t.next=20;break;case 19:throw new O("Device id missing","PARAMS_MISSING",412);case 20:if(!e.input_id){t.next=24;break}n.append("input_id",e.input_id),t.next=25;break;case 24:throw new O("Input id missing","PARAMS_MISSING",412);case 25:return t.next=27,vt.post("/devices/photo",n);case 27:return r=t.sent,t.abrupt("return",r);case 31:if(t.prev=31,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=35;break}throw t.t0;case 35:throw new Error(t.t0);case 36:case"end":return t.stop()}},t,null,[[2,31]])}));return function(e){return t.apply(this,arguments)}}()},{key:"video",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,n=new FormData,null!=e){t.next=6;break}throw new O("No params given","PARAMS_MISSING",412);case 6:if("string"!=typeof e.video){t.next=10;break}n.append("video64",e.video),t.next=15;break;case 10:if(void 0===e.video||"string"!=typeof e.video.name){t.next=14;break}n.append("video",e.video,e.video.name),t.next=15;break;case 14:throw new O("Video missing","PARAMS_MISSING",412);case 15:if(!e.device_id){t.next=19;break}n.append("device_id",e.device_id),t.next=20;break;case 19:throw new O("Device id missing","PARAMS_MISSING",412);case 20:if(!e.input_id){t.next=24;break}n.append("input_id",e.input_id),t.next=25;break;case 24:throw new O("Input id missing","PARAMS_MISSING",412);case 25:return t.next=27,vt.post("/devices/video",n);case 27:return r=t.sent,t.abrupt("return",r);case 31:if(t.prev=31,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=35;break}throw t.t0;case 35:throw new Error(t.t0);case 36:case"end":return t.stop()}},t,null,[[2,31]])}));return function(e){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=a()(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,r=new FormData,null!=e){t.next=6;break}throw new O("Device id missing","PARAMS_MISSING",412);case 6:if(null!=n){t.next=8;break}throw new O("No params given","PARAMS_MISSING",412);case 8:return n.name&&r.append("name",n.name),n.ip&&r.append("ip",n.ip),n.mac_address&&r.append("mac_address",n.mac_adress),n.device_type&&r.append("device_type",n.device_type),n.app_id&&r.append("name",n.app_id),n.licensed&&r.append("licensed",n.licensed),n.action&&r.append("action",n.action),t.next=17,vt.put("/devices/"+e,r);case 17:return i=t.sent,t.abrupt("return",i);case 21:if(t.prev=21,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=25;break}throw t.t0;case 25:throw new Error(t.t0);case 26:case"end":return t.stop()}},t,null,[[2,21]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"validate",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,n=new FormData,null!=e){t.next=6;break}throw new O("No params given","PARAMS_MISSING",412);case 6:if(!e.mac_address){t.next=10;break}n.append("mac_address",e.mac_address),t.next=11;break;case 10:throw new O("Mac address missing","PARAMS_MISSING",412);case 11:if(!e.identity){t.next=15;break}n.append("identity",e.identity),t.next=16;break;case 15:throw new O("Identity missing","PARAMS_MISSING",412);case 16:return t.next=18,vt.post("/devices/validate",n);case 18:return r=t.sent,t.abrupt("return",r);case 22:if(t.prev=22,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=26;break}throw t.t0;case 26:throw new Error(t.t0);case 27:case"end":return t.stop()}},t,null,[[2,22]])}));return function(e){return t.apply(this,arguments)}}()},{key:"validateUser",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,n=new FormData,null!=e){t.next=6;break}throw new O("No params given","PARAMS_MISSING",412);case 6:if(!e.device_id){t.next=10;break}n.append("device_id",e.device_id),t.next=11;break;case 10:throw new O("Device id missing","PARAMS_MISSING",412);case 11:if(!e.user_id){t.next=15;break}n.append("user_id",e.user_id),t.next=16;break;case 15:throw new O("User id missing","PARAMS_MISSING",412);case 16:return t.next=18,vt.post("/devices/validate",n);case 18:return r=t.sent,t.abrupt("return",r);case 22:if(t.prev=22,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=26;break}throw t.t0;case 26:throw new Error(t.t0);case 27:case"end":return t.stop()}},t,null,[[2,22]])}));return function(e){return t.apply(this,arguments)}}()}]),t}());T()(gt);var yt=gt,mt=G.api,wt=new(function(){function t(){return u()(this,t),t.instance||(t.instance=this),t.instance}return f()(t,[{key:"create",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,void 0!==e){t.next=5;break}throw new Y("No params given","PARAMS_MISSING",412);case 5:return n=new FormData,e.name&&n.append("name",e.name),e.birthdate&&n.append("birthdate",e.birthdate),e.email&&n.append("email",e.email),e.phone&&n.append("phone",e.phone),"string"==typeof e.photo?n.append("photo64",e.photo):void 0!==e.photo&&"string"==typeof e.photo.name&&n.append("photo",e.photo,"photo.jpeg"),e.language&&n.append("language",e.language),e.data&&n.append("data",e.data),t.next=15,mt.post("/users",n);case 15:return r=t.sent,t.abrupt("return",r);case 19:if(t.prev=19,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=23;break}throw t.t0;case 23:throw new Error(t.t0);case 24:case"end":return t.stop()}},t,null,[[2,19]])}));return function(e){return t.apply(this,arguments)}}()},{key:"delete",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("User id missing","PARAMS_MISSING",412);case 5:return t.next=7,mt.delete("/users/"+e);case 7:return n=t.sent,t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=15;break}throw t.t0;case 15:throw new Error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},{key:"get",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("User id missing","PARAMS_MISSING",412);case 5:return t.next=7,mt.get("/users/"+e);case 7:return n=t.sent,t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=15;break}throw t.t0;case 15:throw new Error(t.t0);case 16:case"end":return t.stop()}},t,null,[[2,11]])}));return function(e){return t.apply(this,arguments)}}()},{key:"getByEmail",value:function(){var t=a()(o.a.mark(function t(e){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,console.log(e),null!=e){t.next=6;break}throw new Y("Email missing","PARAMS_MISSING",412);case 6:return t.next=8,mt.get("/users/"+e);case 8:return n=t.sent,t.abrupt("return",n);case 12:if(t.prev=12,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=16;break}throw t.t0;case 16:throw new Error(t.t0);case 17:case"end":return t.stop()}},t,null,[[2,12]])}));return function(e){return t.apply(this,arguments)}}()},{key:"face",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,n=new FormData,null!=e){t.next=6;break}throw new Y("No params given","PARAMS_MISSING",412);case 6:if("string"!=typeof e.photo){t.next=10;break}n.append("photo64",e.photo),t.next=15;break;case 10:if(void 0===e.photo||"string"!=typeof e.photo.name){t.next=14;break}n.append("photo",e.photo,"photo.jpeg"),t.next=15;break;case 14:throw new O("Photo not provided","PHOTO_MISSING");case 15:return t.next=17,mt.post("/users/face",n);case 17:return r=t.sent,t.abrupt("return",r);case 21:if(t.prev=21,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=25;break}throw t.t0;case 25:throw new Error(t.t0);case 26:case"end":return t.stop()}},t,null,[[2,21]])}));return function(e){return t.apply(this,arguments)}}()},{key:"faces",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,n=new FormData,null!=e){t.next=6;break}throw new Y("No params given","PARAMS_MISSING",412);case 6:if("string"!=typeof e.photo){t.next=10;break}n.append("photo64",e.photo),t.next=15;break;case 10:if(void 0===e.photo||"string"!=typeof e.photo.name){t.next=14;break}n.append("photo",e.photo,"photo.jpeg"),t.next=15;break;case 14:throw new O("Photo not provided","PHOTO_MISSING");case 15:return t.next=17,mt.get("/users/faces");case 17:return r=t.sent,t.abrupt("return",r);case 21:if(t.prev=21,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=25;break}throw t.t0;case 25:throw new Error(t.t0);case 26:case"end":return t.stop()}},t,null,[[2,21]])}));return function(e){return t.apply(this,arguments)}}()},{key:"count",value:function(){var t=a()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:return t.prev=2,t.next=5,mt.get("/users/count");case 5:return e=t.sent,t.abrupt("return",e);case 9:if(t.prev=9,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=13;break}throw t.t0;case 13:throw new Error(t.t0);case 14:case"end":return t.stop()}},t,null,[[2,9]])}));return function(){return t.apply(this,arguments)}}()},{key:"all",value:function(){var t=a()(o.a.mark(function t(){var e;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:return t.prev=2,t.next=5,mt.get("/users");case 5:return e=t.sent,t.abrupt("return",e);case 9:if(t.prev=9,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=13;break}throw t.t0;case 13:throw new Error(t.t0);case 14:case"end":return t.stop()}},t,null,[[2,9]])}));return function(){return t.apply(this,arguments)}}()},{key:"update",value:function(){var t=a()(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=n){t.next=5;break}throw new Y("No params given","PARAMS_MISSING",412);case 5:return r=new FormData,n.name&&r.append("name",n.name),n.birthdate&&r.append("birthdate",n.birthdate),n.email&&r.append("email",n.email),n.phone&&r.append("phone",n.phone),"string"==typeof n.photo?r.append("photo64",n.photo):void 0!==n.photo&&"string"==typeof n.photo.name&&r.append("photo",n.photo,"photo.jpeg"),t.next=13,mt.post("/user/"+e,r);case 13:return i=t.sent,t.abrupt("return",i);case 17:if(t.prev=17,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=21;break}throw t.t0;case 21:throw new Error(t.t0);case 22:case"end":return t.stop()}},t,null,[[2,17]])}));return function(e,n){return t.apply(this,arguments)}}()},{key:"liveness",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("No params given","PARAMS_MISSING",412);case 5:return n=new FormData,e.code&&n.append("code",e.code),t.next=9,mt.post("/users/liveness",n);case 9:return r=t.sent,t.abrupt("return",r);case 13:if(t.prev=13,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=17;break}throw t.t0;case 17:throw new Error(t.t0);case 18:case"end":return t.stop()}},t,null,[[2,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"verifyDocuments",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("No params given","PARAMS_MISSING",412);case 5:if(n=new FormData,"string"!=typeof e.back){t.next=10;break}n.append("back64",e.back),t.next=15;break;case 10:if(void 0===e.back||"string"!=typeof e.back.name){t.next=14;break}n.append("back",e.back,e.back.name),t.next=15;break;case 14:throw new Y("Document back missing","PARAMS_MISSING",412);case 15:if("string"!=typeof e.front){t.next=19;break}n.append("front64",e.front),t.next=24;break;case 19:if(void 0===e.front||"string"!=typeof e.front.name){t.next=23;break}n.append("front",e.front,e.front.name),t.next=24;break;case 23:throw new Y("Document back missing","PARAMS_MISSING",412);case 24:return t.next=26,mt.post("/users/document/verify",n);case 26:return r=t.sent,t.abrupt("return",r);case 30:if(t.prev=30,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=34;break}throw t.t0;case 34:throw new Error(t.t0);case 35:case"end":return t.stop()}},t,null,[[2,30]])}));return function(e){return t.apply(this,arguments)}}()},{key:"verifyPhoto",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("No params given","PARAMS_MISSING",412);case 5:if(n=new FormData,"string"!=typeof e.photo){t.next=10;break}n.append("photo64",e.photo),t.next=15;break;case 10:if(void 0===e.photo||"string"!=typeof e.photo.name){t.next=14;break}n.append("photo",e.photo,e.photo.name),t.next=15;break;case 14:throw new Y("Photo missing","PARAMS_MISSING",412);case 15:return t.next=17,mt.post("/user/biometrid",n);case 17:return r=t.sent,t.abrupt("return",r);case 21:if(t.prev=21,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=25;break}throw t.t0;case 25:throw new Error(t.t0);case 26:case"end":return t.stop()}},t,null,[[2,21]])}));return function(e){return t.apply(this,arguments)}}()},{key:"verifyPhoto",value:function(){var t=a()(o.a.mark(function t(e){var n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(G.isInitiated()){t.next=2;break}throw new O("App not initiated","APP_NOT_INITIATED",401);case 2:if(t.prev=2,null!=e){t.next=5;break}throw new Y("No params given","PARAMS_MISSING",412);case 5:if(n=new FormData,"string"!=typeof e.photo){t.next=10;break}n.append("photo64",e.photo),t.next=15;break;case 10:if(void 0===e.photo||"string"!=typeof e.photo.name){t.next=14;break}n.append("photo",e.photo,e.photo.name),t.next=15;break;case 14:throw new Y("Photo missing","PARAMS_MISSING",412);case 15:return t.next=17,mt.post("/user/face_properties",n);case 17:return r=t.sent,t.abrupt("return",r);case 21:if(t.prev=21,t.t0=t.catch(2),!(t.t0 instanceof x)){t.next=25;break}throw t.t0;case 25:throw new Error(t.t0);case 26:case"end":return t.stop()}},t,null,[[2,21]])}));return function(e){return t.apply(this,arguments)}}()}]),t}());T()(wt);var bt=wt,xt=new(function(){function t(){u()(this,t)}return f()(t,[{key:"on",value:function(){var t=a()(o.a.mark(function t(e,n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:G.socket.on(e,function(t){n(e,t)});case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},{key:"send",value:function(){var t=a()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:console.log("send");case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}]),t}());T()(xt);var kt=xt,_t=n(28),At=n.n(_t),Ct=n(51),St=n.n(Ct),Et=function(t){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"CAMERAEXCEPTION";return u()(this,e),(o=d()(this,g()(e).call(this))).message=t,o.code=n,o.status=r,o.name=i,o}return m()(e,t),e}(b()(Error)),It=function(t){t.style.position="absolute",t.style.display="block",t.style.top=0,t.style["z-index"]=10,t.style.width=" 100%",t.style.height="100%";var e=t.getContext("2d"),n=.8*t.width,r=.7*t.height,o="rgba(255,255,255,0.7)",i=t.width,a=.2*t.width/2,s=a-.5,u=t.height,c=.3*t.height/2,f=c-.5;e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0,e.fillStyle=o,e.fillRect(0,0,i,f),e.fill(),e.fillStyle=o,e.fillRect(0,u-f,i,c),e.fill(),e.fillStyle=o,e.fillRect(0,c-.5,s,r+1),e.fill(),e.fillStyle=o,e.fillRect(i-a+.5,c-.5,s,r+1),e.fill(),e.beginPath(),e.rect(a,c,n,r),e.lineWidth=1,e.strokeStyle="#555555",e.stroke()},Tt=function(){var t=a()(o.a.mark(function t(e){var n,r,i,a,s,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.container&&e.container.querySelector("video")&&e.container.querySelector("video").srcObject){t.next=16;break}if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){t.next=16;break}return n=null===e.device||"front"===e.device?{video:{facingMode:"user"}}:"back"===e.device?{video:{facingMode:"enviroment"}}:{video:{deviceId:{exact:e.device}}},t.next=5,navigator.mediaDevices.getUserMedia(n);case 5:r=t.sent,e.container?i=e.container:e.elem?i=document.getElementById(e.elem):((i=document.createElement("div")).id="infinitum-camera",document.body.appendChild(i)),e.container=i,HTMLMediaElement.prototype.hasOwnProperty("playing")||St()(HTMLMediaElement.prototype,"playing",{get:function(){return!!(this.currentTime>0&&!this.paused&&!this.ended&&this.readyState>2)}}),a="inherit",e.preview||(a="none"),i.innerHTML+='\n                <div style="position:relative;display:'.concat(a,'!important;">\n                    <video autoplay></video>\n                </div>'),e.frame&&(s=document.createElement("canvas"),i.querySelector("div").appendChild(s),It(s)),(u=document.querySelector("#".concat(i.id," video"))).srcObject=r,u.play();case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Pt=new(function(){function t(){return u()(this,t),t.instance||(t.instance=this),this._devices=[],this._options={device:null,container:null,removeContainer:!0,live:!1,preview:!1,frame:!1},t.instance}return f()(t,[{key:"start",value:function(){var t=a()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this._options=R()({},this._options,e),this._options.preview=!0,t.next=4,this.devices();case 4:if(this._devices=t.sent,null===this._options.device&&(this._options.device=this._devices[0].deviceId),this._options.live){t.next=10;break}return this._options.live=!0,t.next=10,Tt(this._options);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"takePhoto",value:function(){var t=a()(o.a.mark(function t(){var e,n,r,i,a,s,u,c=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c.length>0&&void 0!==c[0]?c[0]:null,this._options.live){t.next=5;break}return e&&(this._options.device=e),t.next=5,Tt(this._options);case 5:n=this._options.container.querySelector("video");case 6:if(n.playing){t.next=11;break}return t.next=9,this.sleep(10);case 9:t.next=6;break;case 11:return(r=document.createElement("canvas")).classList.add("hidden"),r.style.visibility="hidden",r.style.display="none",this._options.container.appendChild(r),i=n.videoWidth,a=n.videoHeight,s=r.getContext("2d"),r.width=i,r.height=a,s.drawImage(n,0,0,i,a),u=r.toDataURL("image/png"),r.remove(),this._options.live||this.stop(),t.abrupt("return",u);case 26:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"takeDocument",value:function(){var t=a()(o.a.mark(function t(){var e,n,r,i,a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=null,!this._options.container){t.next=10;break}e=this._options.container.querySelector("video");case 3:if(e.playing){t.next=8;break}return t.next=6,this.sleep(10);case 6:t.next=3;break;case 8:t.next=11;break;case 10:throw new Et("Camera container not configured");case 11:return(n=document.createElement("canvas")).classList.add("hidden"),n.style.visibility="hidden",n.style.display="none",this._options.container.appendChild(n),r=e.videoWidth,i=e.videoHeight,a=n.getContext("2d"),n.width=r,n.height=i,a.drawImage(e,0,0,r,i),s=n.toDataURL("image/png"),n.remove(),t.abrupt("return",s);case 25:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"devices",value:function(){var t=a()(o.a.mark(function t(){var e,n,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],t.next=3,navigator.mediaDevices.enumerateDevices();case 3:for(r in n=t.sent)"videoinput"===n[r].kind&&e.push(n[r]);return t.abrupt("return",e);case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"stop",value:function(){var t=a()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._options.container||!this._options.container.querySelector("video")){t.next=9;break}if(e=this._options.container.querySelector("video"),!(n=e.srcObject)){t.next=7;break}if(!(n.getTracks().length>0)){t.next=7;break}return t.next=7,n.getTracks().forEach(function(t){return t.stop()});case 7:document.body.removeChild(this._options.container),this._options.container=null;case 9:this._options.live=!1;case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"sleep",value:function(t){return new At.a(function(e){return setTimeout(e,t)})}},{key:"toggleCam",value:function(){var t=a()(o.a.mark(function t(){var e,n,r,i=this,a=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:null,n=this._options.removeContainer,this._options.removeContainer=!1,t.next=5,this.stop();case 5:if(null===e){t.next=11;break}return this._options.device=e,t.next=9,Tt(this._options);case 9:t.next=14;break;case 11:return"front"===this._options.device?this._options.device="back":"back"===this._options.device?this._options.device="front":this.devices.length>1&&(r=this._devices.findIndex(function(t){return t.deviceId===i._options.device}))>-1&&(r+1<this._devices.length?this._options.device=this._devices[r].deviceId:this._options.device=this._devices[0].deviceId),t.next=14,Tt(this._options);case 14:this._options.removeContainer=n;case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"_options",get:function(){return this.constructor._options},set:function(t){this.constructor._options=t}},{key:"_devices",get:function(){return this.constructor._devices},set:function(t){this.constructor._devices=t}}]),t}());T()(Pt);var Rt=Pt,Nt=n(127),Dt=n.n(Nt),Bt=function(){function t(){u()(this,t)}return f()(t,null,[{key:"generate",value:function(){var t=a()(o.a.mark(function t(e){var n,r,i,a,s=arguments;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>1&&void 0!==s[1]&&s[1],e){t.next=3;break}throw new x("App not provided","APP_MISSING",412);case 3:return r=E.generate(20),i=G._url+"/apps/"+e+"?appToken="+G._appToken+"&qrcodeToken="+r,G._electron&&(i+="&macAddress="+G._macAddress),G._online&&!n||(i+="&status=offline"),t.prev=7,t.next=10,Dt.a.toDataURL(i);case 10:return a=t.sent,t.abrupt("return",a);case 14:throw t.prev=14,t.t0=t.catch(7),new x(t.t0.message,"UNEXPECTED_ERROR",501);case 17:case"end":return t.stop()}},t,null,[[7,14]])}));return function(e){return t.apply(this,arguments)}}()}]),t}(),Ot=function(t){function e(t,n,r){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ZOOMEXCEPTION";return u()(this,e),(o=d()(this,g()(e).call(this))).message=t,o.code=n,o.status=r,o.name=i,o}return m()(e,t),e}(b()(Error)),Ft=new(function(){function t(){u()(this,t),this._appUrl="https://api.zoomauth.com/api/v1",this.http=D.a.create({baseURL:this._appUrl}),this.http.interceptors.response.use(function(t){return t},this._handleError)}return f()(t,[{key:"_getAuthorizationHeader",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?{"X-App-Token":this._appToken,"X-User-Agent":ZoomSDK.createZoomAPIUserAgentString(t)}:{"X-App-Token":this._appToken}}},{key:"_handleError",value:function(t){var e=t.response.data;return At.a.reject(e)}},{key:"_request",value:function(){var t=a()(o.a.mark(function t(e){var n,r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=null,n=e&&e.data&&e.data.get("sessionId")?this._getAuthorizationHeader(e.data.get("sessionId")):this._getAuthorizationHeader(),e=R()({},e,{headers:R()({},e.headers,n)}),t.next=6,this.http(e);case 6:if(r=t.sent,!(i=r.data).meta||200!==i.meta.code){t.next=10;break}return t.abrupt("return",i.data);case 10:throw i;case 13:throw t.prev=13,t.t0=t.catch(0),t.t0;case 16:case"end":return t.stop()}},t,this,[[0,13]])}));return function(e){return t.apply(this,arguments)}}()},{key:"liveness",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=new FormData;return r.append("zoomSessionData",t),r.append("sessionId",e),n&&r.append("images",n),this._request({method:"post",url:"/biometrics/liveness",data:r})}},{key:"appToken",get:function(){return this._appToken},set:function(t){this._appToken=t}},{key:"appUrl",get:function(){return this._appUrl},set:function(t){this._appUrl=t}}]),t}()),Mt=null,jt=function(){Mt&&(Mt.stop(),Mt=null)},Lt=function(){var t=a()(o.a.mark(function t(e,n){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.sessionData){t.next=25;break}t.t0=e.status,t.next=t.t0===ZoomSDK.ZoomTypes.ZoomCaptureResult.SessionCompleted?4:25;break;case 4:if(e.sessionData){t.next=6;break}return t.abrupt("return");case 6:return t.prev=6,t.next=9,Ft.liveness(e.sessionData,e.sessionId);case 9:r=t.sent,t.t1=r.livenessResult,t.next="passed"===t.t1?13:17;break;case 13:return i=R()({},e.faceMetrics,r),jt(),"function"==typeof n.livenessPassedHandler&&n.livenessPassedHandler(i),t.abrupt("break",19);case 17:return"function"==typeof n.livenessErrorHandler&&n.livenessErrorHandler(r),t.abrupt("break",19);case 19:t.next=24;break;case 21:t.prev=21,t.t2=t.catch(6),"function"==typeof n.livenessErrorHandler&&n.livenessErrorHandler(t.t2);case 24:return t.abrupt("break",25);case 25:case"end":return t.stop()}},t,null,[[6,21]])}));return function(e,n){return t.apply(this,arguments)}}(),Ut=function(t,e,n){ZoomSDK.preload(function(){ZoomSDK.initialize(t,function(t){t&&(!function(t){var e=document.getElementById(t),n=document.createElement("div");n.id="zoom-interface-container",n.style.position="relative",e.append(n);var r=document.createElement("video");r.id="zoom-video-element",r.setAttribute("playsinline",""),r.setAttribute("autoplay",""),r.style["-moz-transform"]="scaleX(-1)",r.style["-o-transform"]="scaleX(-1)",r.style["-webkit-transform"]="scaleX(-1)",r.style.transform="scaleX(-1)",r.style.filter="FlipH",r.style["-ms-filter"]="FlipH",r.style.position="absolute",r.style.visibility="visible",r.style.top=0,r.style.left=0,r.style.right=0,r.style.margin="auto",e.append(r)}(e),function(t){var e=document.querySelector("#zoom-video-element");navigator.mediaDevices.getUserMedia=navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia||navigator.getUserMedia,navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1}).then(function(t){var n=e;try{n.srcObject=t}catch(e){n.src=window.URL.createObjectURL(t)}Mt=t.getTracks()[0]},function(){throw"function"==typeof t.noPermissionsHandler&&t.noPermissionsHandler(),"Camera Failed to Load"})}({}),function(){var t=new ZoomSDK.ZoomCustomization;t.exitAnimationStyle=ZoomSDK.ZoomExitAnimationStyle.RippleOut;var e=new ZoomSDK.ZoomFrameCustomization;e.backgroundColor="rgba(255, 175, 90, 1)",t.frameCustomization=e;var n=new ZoomSDK.ZoomFeedbackCustomization;n.textColor="rgba(255, 255, 255, 0.8)",n.textFont="bold 20px/50px arial, serif",n.backgroundColor="rgba(0, 0, 0, 0.6)",t.feedbackCustomization=n;var r=new ZoomSDK.ZoomOvalCustomization;r.strokeColor="rgba(0, 0, 0, 1)",r.strokeWidth=7,r.progressColor1="rgba(255, 255, 255, 1)",r.progressColor2="rgba(255, 111, 69, 1)",r.progressStrokeWidth=10,t.ovalCustomization=r;var o=new ZoomSDK.ZoomCancelButtonCustomization;o.location=ZoomSDK.ZoomCancelButtonLocation.TopLeft,t.cancelButtonCustomization=o,ZoomSDK.setCustomization(t)}(),setTimeout(function(){ZoomSDK.prepareInterface("zoom-interface-container","zoom-video-element",function(t){t==ZoomSDK.ZoomTypes.ZoomPrepareInterfaceResult.Success?setTimeout(function(){new ZoomSDK.ZoomSession(function(t){Lt(t,n)},Mt).capture()},1500):console.log("prepareInterface was not successful. prepareInterfaceResult: "+t)})},2500))})})},qt=new(function(){function t(){u()(this,t)}return f()(t,[{key:"loader",value:function(){var t=a()(o.a.mark(function t(){var e,n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof ZoomSDK){t.next=10;break}return window.exports={},(e=document.createElement("script")).src="./zoom/ZoomAuthentication.js",n=function(){return new At.a(function(t){return e.onload=t})},e.onerror=function(){throw new Ot("Zoom SDK was not loaded into the DOM.",400)},document.body.appendChild(e),t.next=9,n();case 9:window.ZoomSDK.zoomResourceDirectory("./zoom/resources");case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=a()(o.a.mark(function t(e,n,r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof ZoomSDK){t.next=3;break}return t.next=3,this.loader();case 3:if(void 0!==e){t.next=5;break}throw new Ot("Zoom App Token required",400);case 5:if(void 0!==n){t.next=7;break}throw new Ot("Zoom Container required",400);case 7:this._appToken=e,this._callbacks=R()({},r),this._container=n,Ft.appToken=this._appToken,Ut(this._appToken,this._container,this._callbacks);case 12:case"end":return t.stop()}},t,this)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"stop",value:function(){jt()}}]),t}()),zt=new(function(){function t(){u()(this,t)}return f()(t,[{key:"load",value:function(){var t=a()(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qt.loader();case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()},{key:"start",value:function(){var t=a()(o.a.mark(function t(e,n,r){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qt.start(e,n,r);case 2:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"stop",value:function(){qt.stop()}}]),t}());n.d(e,"init",function(){return Yt}),n.d(e,"initiated",function(){return Gt}),n.d(e,"disconnect",function(){return Ht}),n.d(e,"rtm",function(){return kt}),n.d(e,"cms",function(){return lt}),n.d(e,"device",function(){return yt}),n.d(e,"user",function(){return bt}),n.d(e,"analytics",function(){return W}),n.d(e,"camera",function(){return Rt}),n.d(e,"qrcode",function(){return Bt}),n.d(e,"liveness",function(){return zt});var Kt=h.onElectron();G._electron=Kt;var Gt=G._initialized,Yt=function(){var t=a()(o.a.mark(function t(e){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.init(e);case 3:if(Gt=G._initialized,!G._config){t.next=6;break}return t.abrupt("return",G._config);case 6:t.next=12;break;case 8:throw t.prev=8,t.t0=t.catch(0),Gt=G._initialized,t.t0;case 12:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}(),Ht=function(){G._initialized&&G.socket._initialized&&G.socket._socket&&(G._initialized=!1,G.socket.socket.disconnect(!0),G.socket._initialized=!1,G.socket._socket=null,G.socket._callbacks=null)}}])}); 